var Wk=Object.defineProperty;var Yk=(n,t,e)=>t in n?Wk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var yu=(n,t,e)=>(Yk(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ql(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hx={exports:{}},ed={},dx={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),Xk=Symbol.for("react.portal"),Kk=Symbol.for("react.fragment"),qk=Symbol.for("react.strict_mode"),Zk=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),tT=Symbol.for("react.forward_ref"),eT=Symbol.for("react.suspense"),nT=Symbol.for("react.memo"),rT=Symbol.for("react.lazy"),a0=Symbol.iterator;function iT(n){return n===null||typeof n!="object"?null:(n=a0&&n[a0]||n["@@iterator"],typeof n=="function"?n:null)}var fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,gx={};function na(n,t,e){this.props=n,this.context=t,this.refs=gx,this.updater=e||fx}na.prototype.isReactComponent={};na.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};na.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function mx(){}mx.prototype=na.prototype;function tv(n,t,e){this.props=n,this.context=t,this.refs=gx,this.updater=e||fx}var ev=tv.prototype=new mx;ev.constructor=tv;px(ev,na.prototype);ev.isPureReactComponent=!0;var l0=Array.isArray,vx=Object.prototype.hasOwnProperty,nv={current:null},yx={key:!0,ref:!0,__self:!0,__source:!0};function _x(n,t,e){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vx.call(t,r)&&!yx.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zl,type:n,key:s,ref:o,props:i,_owner:nv.current}}function sT(n,t){return{$$typeof:Zl,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function rv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Zl}function oT(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var u0=/\/+/g;function uf(n,t){return typeof n=="object"&&n!==null&&n.key!=null?oT(""+n.key):t.toString(36)}function oc(n,t,e,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Zl:case Xk:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+uf(o,0):r,l0(i)?(e="",n!=null&&(e=n.replace(u0,"$&/")+"/"),oc(i,t,e,"",function(u){return u})):i!=null&&(rv(i)&&(i=sT(i,e+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(u0,"$&/")+"/")+n)),t.push(i)),1;if(o=0,r=r===""?".":r+":",l0(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+uf(s,a);o+=oc(s,t,e,l,i)}else if(l=iT(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+uf(s,a++),o+=oc(s,t,e,l,i);else if(s==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(n,t,e){if(n==null)return n;var r=[],i=0;return oc(n,r,"","",function(s){return t.call(e,s,i++)}),r}function aT(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ln={current:null},ac={transition:null},lT={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:ac,ReactCurrentOwner:nv};function bx(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:_u,forEach:function(n,t,e){_u(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return _u(n,function(){t++}),t},toArray:function(n){return _u(n,function(t){return t})||[]},only:function(n){if(!rv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=na;At.Fragment=Kk;At.Profiler=Zk;At.PureComponent=tv;At.StrictMode=qk;At.Suspense=eT;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;At.act=bx;At.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=px({},n.props),i=n.key,s=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=nv.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)vx.call(t,l)&&!yx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zl,type:n.type,key:i,ref:s,props:r,_owner:o}};At.createContext=function(n){return n={$$typeof:Jk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Qk,_context:n},n.Consumer=n};At.createElement=_x;At.createFactory=function(n){var t=_x.bind(null,n);return t.type=n,t};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:tT,render:n}};At.isValidElement=rv;At.lazy=function(n){return{$$typeof:rT,_payload:{_status:-1,_result:n},_init:aT}};At.memo=function(n,t){return{$$typeof:nT,type:n,compare:t===void 0?null:t}};At.startTransition=function(n){var t=ac.transition;ac.transition={};try{n()}finally{ac.transition=t}};At.unstable_act=bx;At.useCallback=function(n,t){return ln.current.useCallback(n,t)};At.useContext=function(n){return ln.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return ln.current.useDeferredValue(n)};At.useEffect=function(n,t){return ln.current.useEffect(n,t)};At.useId=function(){return ln.current.useId()};At.useImperativeHandle=function(n,t,e){return ln.current.useImperativeHandle(n,t,e)};At.useInsertionEffect=function(n,t){return ln.current.useInsertionEffect(n,t)};At.useLayoutEffect=function(n,t){return ln.current.useLayoutEffect(n,t)};At.useMemo=function(n,t){return ln.current.useMemo(n,t)};At.useReducer=function(n,t,e){return ln.current.useReducer(n,t,e)};At.useRef=function(n){return ln.current.useRef(n)};At.useState=function(n){return ln.current.useState(n)};At.useSyncExternalStore=function(n,t,e){return ln.current.useSyncExternalStore(n,t,e)};At.useTransition=function(){return ln.current.useTransition()};At.version="18.3.1";dx.exports=At;var M=dx.exports;const E=ql(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT=M,cT=Symbol.for("react.element"),hT=Symbol.for("react.fragment"),dT=Object.prototype.hasOwnProperty,fT=uT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pT={key:!0,ref:!0,__self:!0,__source:!0};function wx(n,t,e){var r,i={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)dT.call(t,r)&&!pT.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cT,type:n,key:s,ref:o,props:i,_owner:fT.current}}ed.Fragment=hT;ed.jsx=wx;ed.jsxs=wx;hx.exports=ed;var ot=hx.exports,Bp={},xx={exports:{}},Ln={},Cx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(A,$){var L=A.length;A.push($);t:for(;0<L;){var G=L-1>>>1,V=A[G];if(0<i(V,$))A[G]=$,A[L]=V,L=G;else break t}}function e(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],L=A.pop();if(L!==$){A[0]=L;t:for(var G=0,V=A.length,W=V>>>1;G<W;){var K=2*(G+1)-1,lt=A[K],D=K+1,F=A[D];if(0>i(lt,L))D<V&&0>i(F,lt)?(A[G]=F,A[D]=L,G=D):(A[G]=lt,A[K]=L,G=K);else if(D<V&&0>i(F,L))A[G]=F,A[D]=L,G=D;else break t}}return $}function i(A,$){var L=A.sortIndex-$.sortIndex;return L!==0?L:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var $=e(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=A)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=e(u)}}function b(A){if(g=!1,v(A),!p)if(e(l)!==null)p=!0,P(x);else{var $=e(u);$!==null&&B(b,$.startTime-A)}}function x(A,$){p=!1,g&&(g=!1,m(S),S=-1),f=!0;var L=d;try{for(v($),h=e(l);h!==null&&(!(h.expirationTime>$)||A&&!T());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var V=G(h.expirationTime<=$);$=n.unstable_now(),typeof V=="function"?h.callback=V:h===e(l)&&r(l),v($)}else r(l);h=e(l)}if(h!==null)var W=!0;else{var K=e(u);K!==null&&B(b,K.startTime-$),W=!1}return W}finally{h=null,d=L,f=!1}}var w=!1,C=null,S=-1,k=5,O=-1;function T(){return!(n.unstable_now()-O<k)}function I(){if(C!==null){var A=n.unstable_now();O=A;var $=!0;try{$=C(!0,A)}finally{$?R():(w=!1,C=null)}}else w=!1}var R;if(typeof y=="function")R=function(){y(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,j=N.port2;N.port1.onmessage=I,R=function(){j.postMessage(null)}}else R=function(){_(I,0)};function P(A){C=A,w||(w=!0,R())}function B(A,$){S=_(function(){A(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,P(x))},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(A){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var L=d;d=$;try{return A()}finally{d=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=d;d=A;try{return $()}finally{d=L}},n.unstable_scheduleCallback=function(A,$,L){var G=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,A){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,A={id:c++,callback:$,priorityLevel:A,startTime:L,expirationTime:V,sortIndex:-1},L>G?(A.sortIndex=L,t(u,A),e(l)===null&&A===e(u)&&(g?(m(S),S=-1):g=!0,B(b,L-G))):(A.sortIndex=V,t(l,A),p||f||(p=!0,P(x))),A},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(A){var $=d;return function(){var L=d;d=$;try{return A.apply(this,arguments)}finally{d=L}}}})(Sx);Cx.exports=Sx;var gT=Cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT=M,Dn=gT;function J(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ex=new Set,yl={};function Ss(n,t){jo(n,t),jo(n+"Capture",t)}function jo(n,t){for(yl[n]=t,n=0;n<t.length;n++)Ex.add(t[n])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,vT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},h0={};function yT(n){return Lp.call(h0,n)?!0:Lp.call(c0,n)?!1:vT.test(n)?h0[n]=!0:(c0[n]=!0,!1)}function _T(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function bT(n,t,e,r){if(t===null||typeof t>"u"||_T(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(n,t,e,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Fe[n]=new un(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Fe[t]=new un(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Fe[n]=new un(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Fe[n]=new un(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Fe[n]=new un(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Fe[n]=new un(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Fe[n]=new un(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Fe[n]=new un(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Fe[n]=new un(n,5,!1,n.toLowerCase(),null,!1,!1)});var iv=/[\-:]([a-z])/g;function sv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(iv,sv);Fe[t]=new un(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(iv,sv);Fe[t]=new un(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(iv,sv);Fe[t]=new un(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Fe[n]=new un(n,1,!1,n.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Fe[n]=new un(n,1,!1,n.toLowerCase(),null,!0,!0)});function ov(n,t,e,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bT(t,e,i,r)&&(e=null),r||i===null?yT(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var Jr=mT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),zs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),Ox=Symbol.for("react.provider"),kx=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),uv=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),Tx=Symbol.for("react.offscreen"),d0=Symbol.iterator;function pa(n){return n===null||typeof n!="object"?null:(n=d0&&n[d0]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,cf;function Ra(n){if(cf===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||""}return`
`+cf+n}var hf=!1;function df(n,t){if(!n||hf)return"";hf=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{hf=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Ra(n):""}function wT(n){switch(n.tag){case 5:return Ra(n.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return n=df(n.type,!1),n;case 11:return n=df(n.type.render,!1),n;case 1:return n=df(n.type,!0),n;default:return""}}function zp(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $s:return"Fragment";case zs:return"Portal";case jp:return"Profiler";case av:return"StrictMode";case Np:return"Suspense";case Fp:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kx:return(n.displayName||"Context")+".Consumer";case Ox:return(n._context.displayName||"Context")+".Provider";case lv:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uv:return t=n.displayName||null,t!==null?t:zp(n.type)||"Memo";case oi:t=n._payload,n=n._init;try{return zp(n(t))}catch{}}return null}function xT(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(t);case 8:return t===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ax(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CT(n){var t=Ax(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function wu(n){n._valueTracker||(n._valueTracker=CT(n))}function Mx(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=Ax(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function Oc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $p(n,t){var e=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function f0(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Bi(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Px(n,t){t=t.checked,t!=null&&ov(n,"checked",t,!1)}function Gp(n,t){Px(n,t);var e=Bi(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Hp(n,t.type,e):t.hasOwnProperty("defaultValue")&&Hp(n,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function p0(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Hp(n,t,e){(t!=="number"||Oc(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Da=Array.isArray;function vo(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Bi(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function Vp(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function g0(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(J(92));if(Da(e)){if(1<e.length)throw Error(J(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Bi(e)}}function Ix(n,t){var e=Bi(t.value),r=Bi(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function m0(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function Rx(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?Rx(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var xu,Dx=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xu.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function _l(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ST=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(n){ST.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Ya[t]=Ya[n]})});function Bx(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Ya.hasOwnProperty(n)&&Ya[n]?(""+t).trim():t+"px"}function Lx(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=Bx(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var ET=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(n,t){if(t){if(ET[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Yp(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function cv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kp=null,yo=null,_o=null;function v0(n){if(n=tu(n)){if(typeof Kp!="function")throw Error(J(280));var t=n.stateNode;t&&(t=od(t),Kp(n.stateNode,n.type,t))}}function jx(n){yo?_o?_o.push(n):_o=[n]:yo=n}function Nx(){if(yo){var n=yo,t=_o;if(_o=yo=null,v0(n),t)for(n=0;n<t.length;n++)v0(t[n])}}function Fx(n,t){return n(t)}function zx(){}var ff=!1;function $x(n,t,e){if(ff)return n(t,e);ff=!0;try{return Fx(n,t,e)}finally{ff=!1,(yo!==null||_o!==null)&&(zx(),Nx())}}function bl(n,t){var e=n.stateNode;if(e===null)return null;var r=od(e);if(r===null)return null;e=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(J(231,t,typeof e));return e}var qp=!1;if(Xr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){qp=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{qp=!1}function OT(n,t,e,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var Xa=!1,kc=null,Tc=!1,Zp=null,kT={onError:function(n){Xa=!0,kc=n}};function TT(n,t,e,r,i,s,o,a,l){Xa=!1,kc=null,OT.apply(kT,arguments)}function AT(n,t,e,r,i,s,o,a,l){if(TT.apply(this,arguments),Xa){if(Xa){var u=kc;Xa=!1,kc=null}else throw Error(J(198));Tc||(Tc=!0,Zp=u)}}function Es(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Gx(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function y0(n){if(Es(n)!==n)throw Error(J(188))}function MT(n){var t=n.alternate;if(!t){if(t=Es(n),t===null)throw Error(J(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return y0(i),n;if(s===r)return y0(i),t;s=s.sibling}throw Error(J(188))}if(e.return!==r.return)e=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===e){o=!0,e=i,r=s;break}if(a===r){o=!0,r=i,e=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===e){o=!0,e=s,r=i;break}if(a===r){o=!0,r=s,e=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(e.alternate!==r)throw Error(J(190))}if(e.tag!==3)throw Error(J(188));return e.stateNode.current===e?n:t}function Hx(n){return n=MT(n),n!==null?Vx(n):null}function Vx(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Vx(n);if(t!==null)return t;n=n.sibling}return null}var Ux=Dn.unstable_scheduleCallback,_0=Dn.unstable_cancelCallback,PT=Dn.unstable_shouldYield,IT=Dn.unstable_requestPaint,de=Dn.unstable_now,RT=Dn.unstable_getCurrentPriorityLevel,hv=Dn.unstable_ImmediatePriority,Wx=Dn.unstable_UserBlockingPriority,Ac=Dn.unstable_NormalPriority,DT=Dn.unstable_LowPriority,Yx=Dn.unstable_IdlePriority,nd=null,Or=null;function BT(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(nd,n,void 0,(n.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:NT,LT=Math.log,jT=Math.LN2;function NT(n){return n>>>=0,n===0?32:31-(LT(n)/jT|0)|0}var Cu=64,Su=4194304;function Ba(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Mc(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=e&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-cr(t),i=1<<e,r|=n[e],t&=~i;return r}function FT(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zT(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-cr(s),a=1<<o,l=i[o];l===-1?(!(a&e)||a&r)&&(i[o]=FT(a,t)):l<=t&&(n.expiredLanes|=a),s&=~a}}function Qp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xx(){var n=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),n}function pf(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Ql(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-cr(t),n[t]=e}function $T(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-cr(e),s=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~s}}function dv(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-cr(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Lt=0;function Kx(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var qx,fv,Zx,Qx,Jx,Jp=!1,Eu=[],Ci=null,Si=null,Ei=null,wl=new Map,xl=new Map,ui=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(n,t){switch(n){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function ma(n,t,e,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=tu(t),t!==null&&fv(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function HT(n,t,e,r,i){switch(t){case"focusin":return Ci=ma(Ci,n,t,e,r,i),!0;case"dragenter":return Si=ma(Si,n,t,e,r,i),!0;case"mouseover":return Ei=ma(Ei,n,t,e,r,i),!0;case"pointerover":var s=i.pointerId;return wl.set(s,ma(wl.get(s)||null,n,t,e,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xl.set(s,ma(xl.get(s)||null,n,t,e,r,i)),!0}return!1}function tC(n){var t=ns(n.target);if(t!==null){var e=Es(t);if(e!==null){if(t=e.tag,t===13){if(t=Gx(e),t!==null){n.blockedOn=t,Jx(n.priority,function(){Zx(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lc(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=tg(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Xp=r,e.target.dispatchEvent(r),Xp=null}else return t=tu(e),t!==null&&fv(t),n.blockedOn=e,!1;t.shift()}return!0}function w0(n,t,e){lc(n)&&e.delete(t)}function VT(){Jp=!1,Ci!==null&&lc(Ci)&&(Ci=null),Si!==null&&lc(Si)&&(Si=null),Ei!==null&&lc(Ei)&&(Ei=null),wl.forEach(w0),xl.forEach(w0)}function va(n,t){n.blockedOn===t&&(n.blockedOn=null,Jp||(Jp=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,VT)))}function Cl(n){function t(i){return va(i,n)}if(0<Eu.length){va(Eu[0],n);for(var e=1;e<Eu.length;e++){var r=Eu[e];r.blockedOn===n&&(r.blockedOn=null)}}for(Ci!==null&&va(Ci,n),Si!==null&&va(Si,n),Ei!==null&&va(Ei,n),wl.forEach(t),xl.forEach(t),e=0;e<ui.length;e++)r=ui[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ui.length&&(e=ui[0],e.blockedOn===null);)tC(e),e.blockedOn===null&&ui.shift()}var bo=Jr.ReactCurrentBatchConfig,Pc=!0;function UT(n,t,e,r){var i=Lt,s=bo.transition;bo.transition=null;try{Lt=1,pv(n,t,e,r)}finally{Lt=i,bo.transition=s}}function WT(n,t,e,r){var i=Lt,s=bo.transition;bo.transition=null;try{Lt=4,pv(n,t,e,r)}finally{Lt=i,bo.transition=s}}function pv(n,t,e,r){if(Pc){var i=tg(n,t,e,r);if(i===null)Sf(n,t,r,Ic,e),b0(n,r);else if(HT(i,n,t,e,r))r.stopPropagation();else if(b0(n,r),t&4&&-1<GT.indexOf(n)){for(;i!==null;){var s=tu(i);if(s!==null&&qx(s),s=tg(n,t,e,r),s===null&&Sf(n,t,r,Ic,e),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sf(n,t,r,null,e)}}var Ic=null;function tg(n,t,e,r){if(Ic=null,n=cv(r),n=ns(n),n!==null)if(t=Es(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Gx(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Ic=n,null}function eC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RT()){case hv:return 1;case Wx:return 4;case Ac:case DT:return 16;case Yx:return 536870912;default:return 16}default:return 16}}var pi=null,gv=null,uc=null;function nC(){if(uc)return uc;var n,t=gv,e=t.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(n=0;n<e&&t[n]===i[n];n++);var o=e-n;for(r=1;r<=o&&t[e-r]===i[s-r];r++);return uc=i.slice(n,1<r?1-r:void 0)}function cc(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Ou(){return!0}function x0(){return!1}function jn(n){function t(e,r,i,s,o){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ou:x0,this.isPropagationStopped=x0,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=jn(ra),Jl=se({},ra,{view:0,detail:0}),YT=jn(Jl),gf,mf,ya,rd=se({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ya&&(ya&&n.type==="mousemove"?(gf=n.screenX-ya.screenX,mf=n.screenY-ya.screenY):mf=gf=0,ya=n),gf)},movementY:function(n){return"movementY"in n?n.movementY:mf}}),C0=jn(rd),XT=se({},rd,{dataTransfer:0}),KT=jn(XT),qT=se({},Jl,{relatedTarget:0}),vf=jn(qT),ZT=se({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),QT=jn(ZT),JT=se({},ra,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tA=jn(JT),eA=se({},ra,{data:0}),S0=jn(eA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=iA[n])?!!t[n]:!1}function vv(){return sA}var oA=se({},Jl,{key:function(n){if(n.key){var t=nA[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=cc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(n){return n.type==="keypress"?cc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aA=jn(oA),lA=se({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=jn(lA),uA=se({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),cA=jn(uA),hA=se({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),dA=jn(hA),fA=se({},rd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=jn(fA),gA=[9,13,27,32],yv=Xr&&"CompositionEvent"in window,Ka=null;Xr&&"documentMode"in document&&(Ka=document.documentMode);var mA=Xr&&"TextEvent"in window&&!Ka,rC=Xr&&(!yv||Ka&&8<Ka&&11>=Ka),O0=" ",k0=!1;function iC(n,t){switch(n){case"keyup":return gA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gs=!1;function vA(n,t){switch(n){case"compositionend":return sC(t);case"keypress":return t.which!==32?null:(k0=!0,O0);case"textInput":return n=t.data,n===O0&&k0?null:n;default:return null}}function yA(n,t){if(Gs)return n==="compositionend"||!yv&&iC(n,t)?(n=nC(),uc=gv=pi=null,Gs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rC&&t.locale!=="ko"?null:t.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!_A[n.type]:t==="textarea"}function oC(n,t,e,r){jx(r),t=Rc(t,"onChange"),0<t.length&&(e=new mv("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var qa=null,Sl=null;function bA(n){vC(n,0)}function id(n){var t=Us(n);if(Mx(t))return n}function wA(n,t){if(n==="change")return t}var aC=!1;if(Xr){var yf;if(Xr){var _f="oninput"in document;if(!_f){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),_f=typeof A0.oninput=="function"}yf=_f}else yf=!1;aC=yf&&(!document.documentMode||9<document.documentMode)}function M0(){qa&&(qa.detachEvent("onpropertychange",lC),Sl=qa=null)}function lC(n){if(n.propertyName==="value"&&id(Sl)){var t=[];oC(t,Sl,n,cv(n)),$x(bA,t)}}function xA(n,t,e){n==="focusin"?(M0(),qa=t,Sl=e,qa.attachEvent("onpropertychange",lC)):n==="focusout"&&M0()}function CA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return id(Sl)}function SA(n,t){if(n==="click")return id(t)}function EA(n,t){if(n==="input"||n==="change")return id(t)}function OA(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var dr=typeof Object.is=="function"?Object.is:OA;function El(n,t){if(dr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!Lp.call(t,i)||!dr(n[i],t[i]))return!1}return!0}function P0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function I0(n,t){var e=P0(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=P0(e)}}function uC(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?uC(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function cC(){for(var n=window,t=Oc();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Oc(n.document)}return t}function _v(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function kA(n){var t=cC(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&uC(e.ownerDocument.documentElement,e)){if(r!==null&&_v(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=I0(e,s);var o=I0(e,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var TA=Xr&&"documentMode"in document&&11>=document.documentMode,Hs=null,eg=null,Za=null,ng=!1;function R0(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;ng||Hs==null||Hs!==Oc(r)||(r=Hs,"selectionStart"in r&&_v(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&El(Za,r)||(Za=r,r=Rc(eg,"onSelect"),0<r.length&&(t=new mv("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Hs)))}function ku(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Vs={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},bf={},hC={};Xr&&(hC=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function sd(n){if(bf[n])return bf[n];if(!Vs[n])return n;var t=Vs[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in hC)return bf[n]=t[e];return n}var dC=sd("animationend"),fC=sd("animationiteration"),pC=sd("animationstart"),gC=sd("transitionend"),mC=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(n,t){mC.set(n,t),Ss(t,[n])}for(var wf=0;wf<D0.length;wf++){var xf=D0[wf],AA=xf.toLowerCase(),MA=xf[0].toUpperCase()+xf.slice(1);zi(AA,"on"+MA)}zi(dC,"onAnimationEnd");zi(fC,"onAnimationIteration");zi(pC,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(gC,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function B0(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,AT(r,t,void 0,n),n.currentTarget=null}function vC(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;B0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;B0(i,a,u),s=l}}}if(Tc)throw n=Zp,Tc=!1,Zp=null,n}function Wt(n,t){var e=t[ag];e===void 0&&(e=t[ag]=new Set);var r=n+"__bubble";e.has(r)||(yC(t,n,2,!1),e.add(r))}function Cf(n,t,e){var r=0;t&&(r|=4),yC(e,n,r,t)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Ol(n){if(!n[Tu]){n[Tu]=!0,Ex.forEach(function(e){e!=="selectionchange"&&(PA.has(e)||Cf(e,!1,n),Cf(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Tu]||(t[Tu]=!0,Cf("selectionchange",!1,t))}}function yC(n,t,e,r){switch(eC(t)){case 1:var i=UT;break;case 4:i=WT;break;default:i=pv}e=i.bind(null,t,e,n),i=void 0,!qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function Sf(n,t,e,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}$x(function(){var u=s,c=cv(e),h=[];t:{var d=mC.get(n);if(d!==void 0){var f=mv,p=n;switch(n){case"keypress":if(cc(e)===0)break t;case"keydown":case"keyup":f=aA;break;case"focusin":p="focus",f=vf;break;case"focusout":p="blur",f=vf;break;case"beforeblur":case"afterblur":f=vf;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cA;break;case dC:case fC:case pC:f=QT;break;case gC:f=dA;break;case"scroll":f=YT;break;case"wheel":f=pA;break;case"copy":case"cut":case"paste":f=tA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=E0}var g=(t&4)!==0,_=!g&&n==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,v;y!==null;){v=y;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=bl(y,m),b!=null&&g.push(kl(y,b,v)))),_)break;y=y.return}0<g.length&&(d=new f(d,p,null,e,c),h.push({event:d,listeners:g}))}}if(!(t&7)){t:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&e!==Xp&&(p=e.relatedTarget||e.fromElement)&&(ns(p)||p[Kr]))break t;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=e.relatedTarget||e.toElement,f=u,p=p?ns(p):null,p!==null&&(_=Es(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=C0,b="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(g=E0,b="onPointerLeave",m="onPointerEnter",y="pointer"),_=f==null?d:Us(f),v=p==null?d:Us(p),d=new g(b,y+"leave",f,e,c),d.target=_,d.relatedTarget=v,b=null,ns(c)===u&&(g=new g(m,y+"enter",p,e,c),g.target=v,g.relatedTarget=_,b=g),_=b,f&&p)e:{for(g=f,m=p,y=0,v=g;v;v=Ps(v))y++;for(v=0,b=m;b;b=Ps(b))v++;for(;0<y-v;)g=Ps(g),y--;for(;0<v-y;)m=Ps(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break e;g=Ps(g),m=Ps(m)}g=null}else g=null;f!==null&&L0(h,d,f,g,!1),p!==null&&_!==null&&L0(h,_,p,g,!0)}}t:{if(d=u?Us(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=wA;else if(T0(d))if(aC)x=EA;else{x=CA;var w=xA}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=SA);if(x&&(x=x(n,u))){oC(h,x,e,c);break t}w&&w(n,d,u),n==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&Hp(d,"number",d.value)}switch(w=u?Us(u):window,n){case"focusin":(T0(w)||w.contentEditable==="true")&&(Hs=w,eg=u,Za=null);break;case"focusout":Za=eg=Hs=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,R0(h,e,c);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":R0(h,e,c)}var C;if(yv)t:{switch(n){case"compositionstart":var S="onCompositionStart";break t;case"compositionend":S="onCompositionEnd";break t;case"compositionupdate":S="onCompositionUpdate";break t}S=void 0}else Gs?iC(n,e)&&(S="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(S="onCompositionStart");S&&(rC&&e.locale!=="ko"&&(Gs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Gs&&(C=nC()):(pi=c,gv="value"in pi?pi.value:pi.textContent,Gs=!0)),w=Rc(u,S),0<w.length&&(S=new S0(S,n,null,e,c),h.push({event:S,listeners:w}),C?S.data=C:(C=sC(e),C!==null&&(S.data=C)))),(C=mA?vA(n,e):yA(n,e))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(c=new S0("onBeforeInput","beforeinput",null,e,c),h.push({event:c,listeners:u}),c.data=C))}vC(h,t)})}function kl(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Rc(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bl(n,e),s!=null&&r.unshift(kl(n,s,i)),s=bl(n,t),s!=null&&r.push(kl(n,s,i))),n=n.return}return r}function Ps(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function L0(n,t,e,r,i){for(var s=t._reactName,o=[];e!==null&&e!==r;){var a=e,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bl(e,s),l!=null&&o.unshift(kl(e,l,a))):i||(l=bl(e,s),l!=null&&o.push(kl(e,l,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var IA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function j0(n){return(typeof n=="string"?n:""+n).replace(IA,`
`).replace(RA,"")}function Au(n,t,e){if(t=j0(t),j0(n)!==t&&e)throw Error(J(425))}function Dc(){}var rg=null,ig=null;function sg(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(n){return N0.resolve(null).then(n).catch(LA)}:og;function LA(n){setTimeout(function(){throw n})}function Ef(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),Cl(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);Cl(t)}function Oi(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function F0(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var ia=Math.random().toString(36).slice(2),wr="__reactFiber$"+ia,Tl="__reactProps$"+ia,Kr="__reactContainer$"+ia,ag="__reactEvents$"+ia,jA="__reactListeners$"+ia,NA="__reactHandles$"+ia;function ns(n){var t=n[wr];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Kr]||e[wr]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=F0(n);n!==null;){if(e=n[wr])return e;n=F0(n)}return t}n=e,e=n.parentNode}return null}function tu(n){return n=n[wr]||n[Kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Us(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function od(n){return n[Tl]||null}var lg=[],Ws=-1;function $i(n){return{current:n}}function Yt(n){0>Ws||(n.current=lg[Ws],lg[Ws]=null,Ws--)}function Ut(n,t){Ws++,lg[Ws]=n.current,n.current=t}var Li={},tn=$i(Li),mn=$i(!1),fs=Li;function No(n,t){var e=n.type.contextTypes;if(!e)return Li;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function vn(n){return n=n.childContextTypes,n!=null}function Bc(){Yt(mn),Yt(tn)}function z0(n,t,e){if(tn.current!==Li)throw Error(J(168));Ut(tn,t),Ut(mn,e)}function _C(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(J(108,xT(n)||"Unknown",i));return se({},e,r)}function Lc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Li,fs=tn.current,Ut(tn,n),Ut(mn,mn.current),!0}function $0(n,t,e){var r=n.stateNode;if(!r)throw Error(J(169));e?(n=_C(n,t,fs),r.__reactInternalMemoizedMergedChildContext=n,Yt(mn),Yt(tn),Ut(tn,n)):Yt(mn),Ut(mn,e)}var Fr=null,ad=!1,Of=!1;function bC(n){Fr===null?Fr=[n]:Fr.push(n)}function FA(n){ad=!0,bC(n)}function Gi(){if(!Of&&Fr!==null){Of=!0;var n=0,t=Lt;try{var e=Fr;for(Lt=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Fr=null,ad=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(n+1)),Ux(hv,Gi),i}finally{Lt=t,Of=!1}}return null}var Ys=[],Xs=0,jc=null,Nc=0,Vn=[],Un=0,ps=null,Gr=1,Hr="";function Xi(n,t){Ys[Xs++]=Nc,Ys[Xs++]=jc,jc=n,Nc=t}function wC(n,t,e){Vn[Un++]=Gr,Vn[Un++]=Hr,Vn[Un++]=ps,ps=n;var r=Gr;n=Hr;var i=32-cr(r)-1;r&=~(1<<i),e+=1;var s=32-cr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-cr(t)+i|e<<i|r,Hr=s+n}else Gr=1<<s|e<<i|r,Hr=n}function bv(n){n.return!==null&&(Xi(n,1),wC(n,1,0))}function wv(n){for(;n===jc;)jc=Ys[--Xs],Ys[Xs]=null,Nc=Ys[--Xs],Ys[Xs]=null;for(;n===ps;)ps=Vn[--Un],Vn[Un]=null,Hr=Vn[--Un],Vn[Un]=null,Gr=Vn[--Un],Vn[Un]=null}var Pn=null,An=null,Zt=!1,sr=null;function xC(n,t){var e=Kn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function G0(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Pn=n,An=Oi(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Pn=n,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ps!==null?{id:Gr,overflow:Hr}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Kn(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Pn=n,An=null,!0):!1;default:return!1}}function ug(n){return(n.mode&1)!==0&&(n.flags&128)===0}function cg(n){if(Zt){var t=An;if(t){var e=t;if(!G0(n,t)){if(ug(n))throw Error(J(418));t=Oi(e.nextSibling);var r=Pn;t&&G0(n,t)?xC(r,e):(n.flags=n.flags&-4097|2,Zt=!1,Pn=n)}}else{if(ug(n))throw Error(J(418));n.flags=n.flags&-4097|2,Zt=!1,Pn=n}}}function H0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pn=n}function Mu(n){if(n!==Pn)return!1;if(!Zt)return H0(n),Zt=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!sg(n.type,n.memoizedProps)),t&&(t=An)){if(ug(n))throw CC(),Error(J(418));for(;t;)xC(n,t),t=Oi(t.nextSibling)}if(H0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){An=Oi(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}An=null}}else An=Pn?Oi(n.stateNode.nextSibling):null;return!0}function CC(){for(var n=An;n;)n=Oi(n.nextSibling)}function Fo(){An=Pn=null,Zt=!1}function xv(n){sr===null?sr=[n]:sr.push(n)}var zA=Jr.ReactCurrentBatchConfig;function _a(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(J(309));var r=e.stateNode}if(!r)throw Error(J(147,n));var i=r,s=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof n!="string")throw Error(J(284));if(!e._owner)throw Error(J(290,n))}return n}function Pu(n,t){throw n=Object.prototype.toString.call(t),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function V0(n){var t=n._init;return t(n._payload)}function SC(n){function t(m,y){if(n){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function e(m,y){if(!n)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Mi(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,n?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,b){return y===null||y.tag!==6?(y=Rf(v,m.mode,b),y.return=m,y):(y=i(y,v),y.return=m,y)}function l(m,y,v,b){var x=v.type;return x===$s?c(m,y,v.props.children,b,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===oi&&V0(x)===y.type)?(b=i(y,v.props),b.ref=_a(m,y,v),b.return=m,b):(b=vc(v.type,v.key,v.props,null,m.mode,b),b.ref=_a(m,y,v),b.return=m,b)}function u(m,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Df(v,m.mode,b),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,b,x){return y===null||y.tag!==7?(y=us(v,m.mode,b,x),y.return=m,y):(y=i(y,v),y.return=m,y)}function h(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rf(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bu:return v=vc(y.type,y.key,y.props,null,m.mode,v),v.ref=_a(m,null,y),v.return=m,v;case zs:return y=Df(y,m.mode,v),y.return=m,y;case oi:var b=y._init;return h(m,b(y._payload),v)}if(Da(y)||pa(y))return y=us(y,m.mode,v,null),y.return=m,y;Pu(m,y)}return null}function d(m,y,v,b){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(m,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bu:return v.key===x?l(m,y,v,b):null;case zs:return v.key===x?u(m,y,v,b):null;case oi:return x=v._init,d(m,y,x(v._payload),b)}if(Da(v)||pa(v))return x!==null?null:c(m,y,v,b,null);Pu(m,v)}return null}function f(m,y,v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(y,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return m=m.get(b.key===null?v:b.key)||null,l(y,m,b,x);case zs:return m=m.get(b.key===null?v:b.key)||null,u(y,m,b,x);case oi:var w=b._init;return f(m,y,v,w(b._payload),x)}if(Da(b)||pa(b))return m=m.get(v)||null,c(y,m,b,x,null);Pu(y,b)}return null}function p(m,y,v,b){for(var x=null,w=null,C=y,S=y=0,k=null;C!==null&&S<v.length;S++){C.index>S?(k=C,C=null):k=C.sibling;var O=d(m,C,v[S],b);if(O===null){C===null&&(C=k);break}n&&C&&O.alternate===null&&t(m,C),y=s(O,y,S),w===null?x=O:w.sibling=O,w=O,C=k}if(S===v.length)return e(m,C),Zt&&Xi(m,S),x;if(C===null){for(;S<v.length;S++)C=h(m,v[S],b),C!==null&&(y=s(C,y,S),w===null?x=C:w.sibling=C,w=C);return Zt&&Xi(m,S),x}for(C=r(m,C);S<v.length;S++)k=f(C,m,S,v[S],b),k!==null&&(n&&k.alternate!==null&&C.delete(k.key===null?S:k.key),y=s(k,y,S),w===null?x=k:w.sibling=k,w=k);return n&&C.forEach(function(T){return t(m,T)}),Zt&&Xi(m,S),x}function g(m,y,v,b){var x=pa(v);if(typeof x!="function")throw Error(J(150));if(v=x.call(v),v==null)throw Error(J(151));for(var w=x=null,C=y,S=y=0,k=null,O=v.next();C!==null&&!O.done;S++,O=v.next()){C.index>S?(k=C,C=null):k=C.sibling;var T=d(m,C,O.value,b);if(T===null){C===null&&(C=k);break}n&&C&&T.alternate===null&&t(m,C),y=s(T,y,S),w===null?x=T:w.sibling=T,w=T,C=k}if(O.done)return e(m,C),Zt&&Xi(m,S),x;if(C===null){for(;!O.done;S++,O=v.next())O=h(m,O.value,b),O!==null&&(y=s(O,y,S),w===null?x=O:w.sibling=O,w=O);return Zt&&Xi(m,S),x}for(C=r(m,C);!O.done;S++,O=v.next())O=f(C,m,S,O.value,b),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?S:O.key),y=s(O,y,S),w===null?x=O:w.sibling=O,w=O);return n&&C.forEach(function(I){return t(m,I)}),Zt&&Xi(m,S),x}function _(m,y,v,b){if(typeof v=="object"&&v!==null&&v.type===$s&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bu:t:{for(var x=v.key,w=y;w!==null;){if(w.key===x){if(x=v.type,x===$s){if(w.tag===7){e(m,w.sibling),y=i(w,v.props.children),y.return=m,m=y;break t}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===oi&&V0(x)===w.type){e(m,w.sibling),y=i(w,v.props),y.ref=_a(m,w,v),y.return=m,m=y;break t}e(m,w);break}else t(m,w);w=w.sibling}v.type===$s?(y=us(v.props.children,m.mode,b,v.key),y.return=m,m=y):(b=vc(v.type,v.key,v.props,null,m.mode,b),b.ref=_a(m,y,v),b.return=m,m=b)}return o(m);case zs:t:{for(w=v.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){e(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break t}else{e(m,y);break}else t(m,y);y=y.sibling}y=Df(v,m.mode,b),y.return=m,m=y}return o(m);case oi:return w=v._init,_(m,y,w(v._payload),b)}if(Da(v))return p(m,y,v,b);if(pa(v))return g(m,y,v,b);Pu(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(e(m,y.sibling),y=i(y,v),y.return=m,m=y):(e(m,y),y=Rf(v,m.mode,b),y.return=m,m=y),o(m)):e(m,y)}return _}var zo=SC(!0),EC=SC(!1),Fc=$i(null),zc=null,Ks=null,Cv=null;function Sv(){Cv=Ks=zc=null}function Ev(n){var t=Fc.current;Yt(Fc),n._currentValue=t}function hg(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function wo(n,t){zc=n,Cv=Ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(gn=!0),n.firstContext=null)}function Qn(n){var t=n._currentValue;if(Cv!==n)if(n={context:n,memoizedValue:t,next:null},Ks===null){if(zc===null)throw Error(J(308));Ks=n,zc.dependencies={lanes:0,firstContext:n}}else Ks=Ks.next=n;return t}var rs=null;function Ov(n){rs===null?rs=[n]:rs.push(n)}function OC(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,Ov(t)):(e.next=i.next,i.next=e),t.interleaved=e,qr(n,r)}function qr(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var ai=!1;function kv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kC(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ur(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function ki(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qr(n,e)}return i=r.interleaved,i===null?(t.next=t,Ov(r)):(t.next=i.next,i.next=t),r.interleaved=t,qr(n,e)}function hc(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,dv(n,e)}}function U0(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=o:s=s.next=o,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function $c(n,t,e,r){var i=n.updateQueue;ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=n,g=a;switch(d=t,f=e,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break t;h=se({},h,d);break t;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ms|=o,n.lanes=o,n.memoizedState=h}}function W0(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var eu={},kr=$i(eu),Al=$i(eu),Ml=$i(eu);function is(n){if(n===eu)throw Error(J(174));return n}function Tv(n,t){switch(Ut(Ml,t),Ut(Al,n),Ut(kr,eu),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Up(t,n)}Yt(kr),Ut(kr,t)}function $o(){Yt(kr),Yt(Al),Yt(Ml)}function TC(n){is(Ml.current);var t=is(kr.current),e=Up(t,n.type);t!==e&&(Ut(Al,n),Ut(kr,e))}function Av(n){Al.current===n&&(Yt(kr),Yt(Al))}var ne=$i(0);function Gc(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kf=[];function Mv(){for(var n=0;n<kf.length;n++)kf[n]._workInProgressVersionPrimary=null;kf.length=0}var dc=Jr.ReactCurrentDispatcher,Tf=Jr.ReactCurrentBatchConfig,gs=0,ie=null,be=null,Te=null,Hc=!1,Qa=!1,Pl=0,$A=0;function Ue(){throw Error(J(321))}function Pv(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!dr(n[e],t[e]))return!1;return!0}function Iv(n,t,e,r,i,s){if(gs=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dc.current=n===null||n.memoizedState===null?UA:WA,n=e(r,i),Qa){s=0;do{if(Qa=!1,Pl=0,25<=s)throw Error(J(301));s+=1,Te=be=null,t.updateQueue=null,dc.current=YA,n=e(r,i)}while(Qa)}if(dc.current=Vc,t=be!==null&&be.next!==null,gs=0,Te=be=ie=null,Hc=!1,t)throw Error(J(300));return n}function Rv(){var n=Pl!==0;return Pl=0,n}function br(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ie.memoizedState=Te=n:Te=Te.next=n,Te}function Jn(){if(be===null){var n=ie.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var t=Te===null?ie.memoizedState:Te.next;if(t!==null)Te=t,be=n;else{if(n===null)throw Error(J(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Te===null?ie.memoizedState=Te=n:Te=Te.next=n}return Te}function Il(n,t){return typeof t=="function"?t(n):t}function Af(n){var t=Jn(),e=t.queue;if(e===null)throw Error(J(311));e.lastRenderedReducer=n;var r=be,i=r.baseQueue,s=e.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((gs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ie.lanes|=c,ms|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,dr(r,t.memoizedState)||(gn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do s=i.lane,ie.lanes|=s,ms|=s,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Mf(n){var t=Jn(),e=t.queue;if(e===null)throw Error(J(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);dr(s,t.memoizedState)||(gn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,r]}function AC(){}function MC(n,t){var e=ie,r=Jn(),i=t(),s=!dr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,Dv(RC.bind(null,e,r,n),[n]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(e.flags|=2048,Rl(9,IC.bind(null,e,r,i,t),void 0,null),Pe===null)throw Error(J(349));gs&30||PC(e,t,i)}return i}function PC(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function IC(n,t,e,r){t.value=e,t.getSnapshot=r,DC(t)&&BC(n)}function RC(n,t,e){return e(function(){DC(t)&&BC(n)})}function DC(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!dr(n,e)}catch{return!0}}function BC(n){var t=qr(n,1);t!==null&&hr(t,n,1,-1)}function Y0(n){var t=br();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:n},t.queue=n,n=n.dispatch=VA.bind(null,ie,n),[t.memoizedState,n]}function Rl(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function LC(){return Jn().memoizedState}function fc(n,t,e,r){var i=br();ie.flags|=n,i.memoizedState=Rl(1|t,e,void 0,r===void 0?null:r)}function ld(n,t,e,r){var i=Jn();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&Pv(r,o.deps)){i.memoizedState=Rl(t,e,s,r);return}}ie.flags|=n,i.memoizedState=Rl(1|t,e,s,r)}function X0(n,t){return fc(8390656,8,n,t)}function Dv(n,t){return ld(2048,8,n,t)}function jC(n,t){return ld(4,2,n,t)}function NC(n,t){return ld(4,4,n,t)}function FC(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function zC(n,t,e){return e=e!=null?e.concat([n]):null,ld(4,4,FC.bind(null,t,n),e)}function Bv(){}function $C(n,t){var e=Jn();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Pv(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function GC(n,t){var e=Jn();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Pv(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function HC(n,t,e){return gs&21?(dr(e,t)||(e=Xx(),ie.lanes|=e,ms|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=e)}function GA(n,t){var e=Lt;Lt=e!==0&&4>e?e:4,n(!0);var r=Tf.transition;Tf.transition={};try{n(!1),t()}finally{Lt=e,Tf.transition=r}}function VC(){return Jn().memoizedState}function HA(n,t,e){var r=Ai(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},UC(n))WC(t,e);else if(e=OC(n,t,e,r),e!==null){var i=an();hr(e,n,r,i),YC(e,t,r)}}function VA(n,t,e){var r=Ai(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(UC(n))WC(t,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,e);if(i.hasEagerState=!0,i.eagerState=a,dr(a,o)){var l=t.interleaved;l===null?(i.next=i,Ov(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=OC(n,t,i,r),e!==null&&(i=an(),hr(e,n,r,i),YC(e,t,r))}}function UC(n){var t=n.alternate;return n===ie||t!==null&&t===ie}function WC(n,t){Qa=Hc=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function YC(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,dv(n,e)}}var Vc={readContext:Qn,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},UA={readContext:Qn,useCallback:function(n,t){return br().memoizedState=[n,t===void 0?null:t],n},useContext:Qn,useEffect:X0,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,fc(4194308,4,FC.bind(null,t,n),e)},useLayoutEffect:function(n,t){return fc(4194308,4,n,t)},useInsertionEffect:function(n,t){return fc(4,2,n,t)},useMemo:function(n,t){var e=br();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=br();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=HA.bind(null,ie,n),[r.memoizedState,n]},useRef:function(n){var t=br();return n={current:n},t.memoizedState=n},useState:Y0,useDebugValue:Bv,useDeferredValue:function(n){return br().memoizedState=n},useTransition:function(){var n=Y0(!1),t=n[0];return n=GA.bind(null,n[1]),br().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=ie,i=br();if(Zt){if(e===void 0)throw Error(J(407));e=e()}else{if(e=t(),Pe===null)throw Error(J(349));gs&30||PC(r,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,X0(RC.bind(null,r,s,n),[n]),r.flags|=2048,Rl(9,IC.bind(null,r,s,e,t),void 0,null),e},useId:function(){var n=br(),t=Pe.identifierPrefix;if(Zt){var e=Hr,r=Gr;e=(r&~(1<<32-cr(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=Pl++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=$A++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},WA={readContext:Qn,useCallback:$C,useContext:Qn,useEffect:Dv,useImperativeHandle:zC,useInsertionEffect:jC,useLayoutEffect:NC,useMemo:GC,useReducer:Af,useRef:LC,useState:function(){return Af(Il)},useDebugValue:Bv,useDeferredValue:function(n){var t=Jn();return HC(t,be.memoizedState,n)},useTransition:function(){var n=Af(Il)[0],t=Jn().memoizedState;return[n,t]},useMutableSource:AC,useSyncExternalStore:MC,useId:VC,unstable_isNewReconciler:!1},YA={readContext:Qn,useCallback:$C,useContext:Qn,useEffect:Dv,useImperativeHandle:zC,useInsertionEffect:jC,useLayoutEffect:NC,useMemo:GC,useReducer:Mf,useRef:LC,useState:function(){return Mf(Il)},useDebugValue:Bv,useDeferredValue:function(n){var t=Jn();return be===null?t.memoizedState=n:HC(t,be.memoizedState,n)},useTransition:function(){var n=Mf(Il)[0],t=Jn().memoizedState;return[n,t]},useMutableSource:AC,useSyncExternalStore:MC,useId:VC,unstable_isNewReconciler:!1};function rr(n,t){if(n&&n.defaultProps){t=se({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function dg(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:se({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var ud={isMounted:function(n){return(n=n._reactInternals)?Es(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=an(),i=Ai(n),s=Ur(r,i);s.payload=t,e!=null&&(s.callback=e),t=ki(n,s,i),t!==null&&(hr(t,n,i,r),hc(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=an(),i=Ai(n),s=Ur(r,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=ki(n,s,i),t!==null&&(hr(t,n,i,r),hc(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=an(),r=Ai(n),i=Ur(e,r);i.tag=2,t!=null&&(i.callback=t),t=ki(n,i,r),t!==null&&(hr(t,n,r,e),hc(t,n,r))}};function K0(n,t,e,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!El(e,r)||!El(i,s):!0}function XC(n,t,e){var r=!1,i=Li,s=t.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=vn(t)?fs:tn.current,r=t.contextTypes,s=(r=r!=null)?No(n,i):Li),t=new t(e,s),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ud,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),t}function q0(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&ud.enqueueReplaceState(t,t.state,null)}function fg(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs={},kv(n);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=vn(t)?fs:tn.current,i.context=No(n,s)),i.state=n.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(dg(n,t,s,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ud.enqueueReplaceState(i,i.state,null),$c(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Go(n,t){try{var e="",r=t;do e+=wT(r),r=r.return;while(r);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:t,stack:i,digest:null}}function Pf(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function pg(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function KC(n,t,e){e=Ur(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Wc||(Wc=!0,Sg=r),pg(n,t)},e}function qC(n,t,e){e=Ur(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){pg(n,t)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){pg(n,t),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function Z0(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new XA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=lM.bind(null,n,t,e),t.then(n,n))}function Q0(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function J0(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Ur(-1,1),t.tag=2,ki(e,t,1))),e.lanes|=1),n)}var KA=Jr.ReactCurrentOwner,gn=!1;function sn(n,t,e,r){t.child=n===null?EC(t,null,e,r):zo(t,n.child,e,r)}function t_(n,t,e,r,i){e=e.render;var s=t.ref;return wo(t,i),r=Iv(n,t,e,r,s,i),e=Rv(),n!==null&&!gn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Zr(n,t,i)):(Zt&&e&&bv(t),t.flags|=1,sn(n,t,r,i),t.child)}function e_(n,t,e,r,i){if(n===null){var s=e.type;return typeof s=="function"&&!Hv(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,ZC(n,t,s,r,i)):(n=vc(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(e=e.compare,e=e!==null?e:El,e(o,r)&&n.ref===t.ref)return Zr(n,t,i)}return t.flags|=1,n=Mi(s,r),n.ref=t.ref,n.return=t,t.child=n}function ZC(n,t,e,r,i){if(n!==null){var s=n.memoizedProps;if(El(s,r)&&n.ref===t.ref)if(gn=!1,t.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(gn=!0);else return t.lanes=n.lanes,Zr(n,t,i)}return gg(n,t,e,r,i)}function QC(n,t,e){var r=t.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Zs,Sn),Sn|=e;else{if(!(e&1073741824))return n=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Ut(Zs,Sn),Sn|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:e,Ut(Zs,Sn),Sn|=r}else s!==null?(r=s.baseLanes|e,t.memoizedState=null):r=e,Ut(Zs,Sn),Sn|=r;return sn(n,t,i,e),t.child}function JC(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function gg(n,t,e,r,i){var s=vn(e)?fs:tn.current;return s=No(t,s),wo(t,i),e=Iv(n,t,e,r,s,i),r=Rv(),n!==null&&!gn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Zr(n,t,i)):(Zt&&r&&bv(t),t.flags|=1,sn(n,t,e,i),t.child)}function n_(n,t,e,r,i){if(vn(e)){var s=!0;Lc(t)}else s=!1;if(wo(t,i),t.stateNode===null)pc(n,t),XC(t,e,r),fg(t,e,r,i),r=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=vn(e)?fs:tn.current,u=No(t,u));var c=e.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&q0(t,o,r,u),ai=!1;var d=t.memoizedState;o.state=d,$c(t,r,o,i),l=t.memoizedState,a!==r||d!==l||mn.current||ai?(typeof c=="function"&&(dg(t,e,c,r),l=t.memoizedState),(a=ai||K0(t,e,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kC(n,t),a=t.memoizedProps,u=t.type===t.elementType?a:rr(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=vn(e)?fs:tn.current,l=No(t,l));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&q0(t,o,r,l),ai=!1,d=t.memoizedState,o.state=d,$c(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||mn.current||ai?(typeof f=="function"&&(dg(t,e,f,r),p=t.memoizedState),(u=ai||K0(t,e,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),r=!1)}return mg(n,t,e,r,s,i)}function mg(n,t,e,r,i,s){JC(n,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&$0(t,e,!1),Zr(n,t,s);r=t.stateNode,KA.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&o?(t.child=zo(t,n.child,null,s),t.child=zo(t,null,a,s)):sn(n,t,a,s),t.memoizedState=r.state,i&&$0(t,e,!0),t.child}function tS(n){var t=n.stateNode;t.pendingContext?z0(n,t.pendingContext,t.pendingContext!==t.context):t.context&&z0(n,t.context,!1),Tv(n,t.containerInfo)}function r_(n,t,e,r,i){return Fo(),xv(i),t.flags|=256,sn(n,t,e,r),t.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function yg(n){return{baseLanes:n,cachePool:null,transitions:null}}function eS(n,t,e){var r=t.pendingProps,i=ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ut(ne,i&1),n===null)return cg(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,n=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dd(o,r,0,null),n=us(n,r,e,null),s.return=t,n.return=t,s.sibling=n,t.child=s,t.child.memoizedState=yg(e),t.memoizedState=vg,n):Lv(t,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qA(n,t,o,r,a,i,e);if(s){s=r.fallback,o=t.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mi(a,s):(s=us(s,o,e,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=n.child.memoizedState,o=o===null?yg(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~e,t.memoizedState=vg,r}return s=n.child,n=s.sibling,r=Mi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function Lv(n,t){return t=dd({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Iu(n,t,e,r){return r!==null&&xv(r),zo(t,n.child,null,e),n=Lv(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function qA(n,t,e,r,i,s,o){if(e)return t.flags&256?(t.flags&=-257,r=Pf(Error(J(422))),Iu(n,t,o,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=dd({mode:"visible",children:r.children},i,0,null),s=us(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zo(t,n.child,null,o),t.child.memoizedState=yg(o),t.memoizedState=vg,s);if(!(t.mode&1))return Iu(n,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Pf(s,r,void 0),Iu(n,t,o,r)}if(a=(o&n.childLanes)!==0,gn||a){if(r=Pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qr(n,i),hr(r,n,i,-1))}return Gv(),r=Pf(Error(J(421))),Iu(n,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=uM.bind(null,n),i._reactRetry=t,null):(n=s.treeContext,An=Oi(i.nextSibling),Pn=t,Zt=!0,sr=null,n!==null&&(Vn[Un++]=Gr,Vn[Un++]=Hr,Vn[Un++]=ps,Gr=n.id,Hr=n.overflow,ps=t),t=Lv(t,r.children),t.flags|=4096,t)}function i_(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),hg(n.return,t,e)}function If(n,t,e,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=e,s.tailMode=i)}function nS(n,t,e){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(sn(n,t,r.children,e),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i_(n,e,t);else if(n.tag===19)i_(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ut(ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&Gc(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),If(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&Gc(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}If(t,!0,e,null,s);break;case"together":If(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pc(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Zr(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),ms|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(J(153));if(t.child!==null){for(n=t.child,e=Mi(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Mi(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function ZA(n,t,e){switch(t.tag){case 3:tS(t),Fo();break;case 5:TC(t);break;case 1:vn(t.type)&&Lc(t);break;case 4:Tv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(Fc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(ne,ne.current&1),t.flags|=128,null):e&t.child.childLanes?eS(n,t,e):(Ut(ne,ne.current&1),n=Zr(n,t,e),n!==null?n.sibling:null);Ut(ne,ne.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return nS(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,QC(n,t,e)}return Zr(n,t,e)}var rS,_g,iS,sS;rS=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};_g=function(){};iS=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,is(kr.current);var s=null;switch(e){case"input":i=$p(n,i),r=$p(n,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=Vp(n,i),r=Vp(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Dc)}Wp(e,r);var o;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(s||(s=[]),s.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}e&&(s=s||[]).push("style",e);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};sS=function(n,t,e,r){e!==r&&(t.flags|=4)};function ba(n,t){if(!Zt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function We(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function QA(n,t,e){var r=t.pendingProps;switch(wv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return vn(t.type)&&Bc(),We(t),null;case 3:return r=t.stateNode,$o(),Yt(mn),Yt(tn),Mv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mu(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(kg(sr),sr=null))),_g(n,t),We(t),null;case 5:Av(t);var i=is(Ml.current);if(e=t.type,n!==null&&t.stateNode!=null)iS(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return We(t),null}if(n=is(kr.current),Mu(t)){r=t.stateNode,e=t.type;var s=t.memoizedProps;switch(r[wr]=t,r[Tl]=s,n=(t.mode&1)!==0,e){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Wt(La[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":f0(r,s),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",r);break;case"textarea":g0(r,s),Wt("invalid",r)}Wp(e,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,a,n),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Wt("scroll",r)}switch(e){case"input":wu(r),p0(r,s,!0);break;case"textarea":wu(r),m0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Dc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Rx(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(e,{is:r.is}):(n=o.createElement(e),e==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,e),n[wr]=t,n[Tl]=r,rS(n,t,!1,!1),t.stateNode=n;t:{switch(o=Yp(e,r),e){case"dialog":Wt("cancel",n),Wt("close",n),i=r;break;case"iframe":case"object":case"embed":Wt("load",n),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Wt(La[i],n);i=r;break;case"source":Wt("error",n),i=r;break;case"img":case"image":case"link":Wt("error",n),Wt("load",n),i=r;break;case"details":Wt("toggle",n),i=r;break;case"input":f0(n,r),i=$p(n,r),Wt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),Wt("invalid",n);break;case"textarea":g0(n,r),i=Vp(n,r),Wt("invalid",n);break;default:i=r}Wp(e,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lx(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dx(n,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&_l(n,l):typeof l=="number"&&_l(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wt("scroll",n):l!=null&&ov(n,s,l,o))}switch(e){case"input":wu(n),p0(n,r,!1);break;case"textarea":wu(n),m0(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Bi(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?vo(n,!!r.multiple,s,!1):r.defaultValue!=null&&vo(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Dc)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(n&&t.stateNode!=null)sS(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(e=is(Ml.current),is(kr.current),Mu(t)){if(r=t.stateNode,e=t.memoizedProps,r[wr]=t,(s=r.nodeValue!==e)&&(n=Pn,n!==null))switch(n.tag){case 3:Au(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,e,(n.mode&1)!==0)}s&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[wr]=t,t.stateNode=r}return We(t),null;case 13:if(Yt(ne),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Zt&&An!==null&&t.mode&1&&!(t.flags&128))CC(),Fo(),t.flags|=98560,s=!1;else if(s=Mu(t),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[wr]=t}else Fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),s=!1}else sr!==null&&(kg(sr),sr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||ne.current&1?Ce===0&&(Ce=3):Gv())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return $o(),_g(n,t),n===null&&Ol(t.stateNode.containerInfo),We(t),null;case 10:return Ev(t.type._context),We(t),null;case 17:return vn(t.type)&&Bc(),We(t),null;case 19:if(Yt(ne),s=t.memoizedState,s===null)return We(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ba(s,!1);else{if(Ce!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=Gc(n),o!==null){for(t.flags|=128,ba(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)s=e,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Ut(ne,ne.current&1|2),t.child}n=n.sibling}s.tail!==null&&de()>Ho&&(t.flags|=128,r=!0,ba(s,!1),t.lanes=4194304)}else{if(!r)if(n=Gc(o),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zt)return We(t),null}else 2*de()-s.renderingStartTime>Ho&&e!==1073741824&&(t.flags|=128,r=!0,ba(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=de(),t.sibling=null,e=ne.current,Ut(ne,r?e&1|2:e&1),t):(We(t),null);case 22:case 23:return $v(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Sn&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function JA(n,t){switch(wv(t),t.tag){case 1:return vn(t.type)&&Bc(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return $o(),Yt(mn),Yt(tn),Mv(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Av(t),null;case 13:if(Yt(ne),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Fo()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Yt(ne),null;case 4:return $o(),null;case 10:return Ev(t.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Ru=!1,Ze=!1,tM=typeof WeakSet=="function"?WeakSet:Set,ut=null;function qs(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){le(n,t,r)}else e.current=null}function bg(n,t,e){try{e()}catch(r){le(n,t,r)}}var s_=!1;function eM(n,t){if(rg=Pc,n=cC(),_v(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=n,d=null;e:for(;;){for(var f;h!==e||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break e;if(d===e&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(ig={focusedElem:n,selectionRange:e},Pc=!1,ut=t;ut!==null;)if(t=ut,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,ut=n;else for(;ut!==null;){t=ut;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:rr(t.type,g),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){le(t,t.return,b)}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}return p=s_,s_=!1,p}function Ja(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&bg(t,e,s)}i=i.next}while(i!==r)}}function cd(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function wg(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function oS(n){var t=n.alternate;t!==null&&(n.alternate=null,oS(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[wr],delete t[Tl],delete t[ag],delete t[jA],delete t[NA])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function aS(n){return n.tag===5||n.tag===3||n.tag===4}function o_(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||aS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xg(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Dc));else if(r!==4&&(n=n.child,n!==null))for(xg(n,t,e),n=n.sibling;n!==null;)xg(n,t,e),n=n.sibling}function Cg(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Cg(n,t,e),n=n.sibling;n!==null;)Cg(n,t,e),n=n.sibling}var Re=null,ir=!1;function ni(n,t,e){for(e=e.child;e!==null;)lS(n,t,e),e=e.sibling}function lS(n,t,e){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(nd,e)}catch{}switch(e.tag){case 5:Ze||qs(e,t);case 6:var r=Re,i=ir;Re=null,ni(n,t,e),Re=r,ir=i,Re!==null&&(ir?(n=Re,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Re.removeChild(e.stateNode));break;case 18:Re!==null&&(ir?(n=Re,e=e.stateNode,n.nodeType===8?Ef(n.parentNode,e):n.nodeType===1&&Ef(n,e),Cl(n)):Ef(Re,e.stateNode));break;case 4:r=Re,i=ir,Re=e.stateNode.containerInfo,ir=!0,ni(n,t,e),Re=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bg(e,t,o),i=i.next}while(i!==r)}ni(n,t,e);break;case 1:if(!Ze&&(qs(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(a){le(e,t,a)}ni(n,t,e);break;case 21:ni(n,t,e);break;case 22:e.mode&1?(Ze=(r=Ze)||e.memoizedState!==null,ni(n,t,e),Ze=r):ni(n,t,e);break;default:ni(n,t,e)}}function a_(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new tM),t.forEach(function(r){var i=cM.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function er(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var s=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:Re=a.stateNode,ir=!1;break t;case 3:Re=a.stateNode.containerInfo,ir=!0;break t;case 4:Re=a.stateNode.containerInfo,ir=!0;break t}a=a.return}if(Re===null)throw Error(J(160));lS(s,o,i),Re=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){le(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uS(t,n),t=t.sibling}function uS(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(er(t,n),gr(n),r&4){try{Ja(3,n,n.return),cd(3,n)}catch(g){le(n,n.return,g)}try{Ja(5,n,n.return)}catch(g){le(n,n.return,g)}}break;case 1:er(t,n),gr(n),r&512&&e!==null&&qs(e,e.return);break;case 5:if(er(t,n),gr(n),r&512&&e!==null&&qs(e,e.return),n.flags&32){var i=n.stateNode;try{_l(i,"")}catch(g){le(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=e!==null?e.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Px(i,s),Yp(a,o);var u=Yp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Lx(i,h):c==="dangerouslySetInnerHTML"?Dx(i,h):c==="children"?_l(i,h):ov(i,c,h,u)}switch(a){case"input":Gp(i,s);break;case"textarea":Ix(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?vo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tl]=s}catch(g){le(n,n.return,g)}}break;case 6:if(er(t,n),gr(n),r&4){if(n.stateNode===null)throw Error(J(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){le(n,n.return,g)}}break;case 3:if(er(t,n),gr(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(g){le(n,n.return,g)}break;case 4:er(t,n),gr(n);break;case 13:er(t,n),gr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fv=de())),r&4&&a_(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(Ze=(u=Ze)||c,er(t,n),Ze=u):er(t,n),gr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(ut=n,c=n.child;c!==null;){for(h=ut=c;ut!==null;){switch(d=ut,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ja(4,d,d.return);break;case 1:qs(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,e=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){le(r,e,g)}}break;case 5:qs(d,d.return);break;case 22:if(d.memoizedState!==null){u_(h);continue}}f!==null?(f.return=d,ut=f):u_(h)}c=c.sibling}t:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bx("display",o))}catch(g){le(n,n.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){le(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:er(t,n),gr(n),r&4&&a_(n);break;case 21:break;default:er(t,n),gr(n)}}function gr(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(aS(e)){var r=e;break t}e=e.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=o_(n);Cg(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o_(n);xg(n,a,o);break;default:throw Error(J(161))}}catch(l){le(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function nM(n,t,e){ut=n,cS(n)}function cS(n,t,e){for(var r=(n.mode&1)!==0;ut!==null;){var i=ut,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ru;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=Ru;var u=Ze;if(Ru=o,(Ze=l)&&!u)for(ut=i;ut!==null;)o=ut,l=o.child,o.tag===22&&o.memoizedState!==null?c_(i):l!==null?(l.return=o,ut=l):c_(i);for(;s!==null;)ut=s,cS(s),s=s.sibling;ut=i,Ru=a,Ze=u}l_(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ut=s):l_(n)}}function l_(n){for(;ut!==null;){var t=ut;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||cd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:rr(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&W0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}W0(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Ze||t.flags&512&&wg(t)}catch(d){le(t,t.return,d)}}if(t===n){ut=null;break}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function u_(n){for(;ut!==null;){var t=ut;if(t===n){ut=null;break}var e=t.sibling;if(e!==null){e.return=t.return,ut=e;break}ut=t.return}}function c_(n){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{cd(4,t)}catch(l){le(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){le(t,i,l)}}var s=t.return;try{wg(t)}catch(l){le(t,s,l)}break;case 5:var o=t.return;try{wg(t)}catch(l){le(t,o,l)}}}catch(l){le(t,t.return,l)}if(t===n){ut=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ut=a;break}ut=t.return}}var rM=Math.ceil,Uc=Jr.ReactCurrentDispatcher,jv=Jr.ReactCurrentOwner,qn=Jr.ReactCurrentBatchConfig,It=0,Pe=null,ye=null,Le=0,Sn=0,Zs=$i(0),Ce=0,Dl=null,ms=0,hd=0,Nv=0,tl=null,dn=null,Fv=0,Ho=1/0,Dr=null,Wc=!1,Sg=null,Ti=null,Du=!1,gi=null,Yc=0,el=0,Eg=null,gc=-1,mc=0;function an(){return It&6?de():gc!==-1?gc:gc=de()}function Ai(n){return n.mode&1?It&2&&Le!==0?Le&-Le:zA.transition!==null?(mc===0&&(mc=Xx()),mc):(n=Lt,n!==0||(n=window.event,n=n===void 0?16:eC(n.type)),n):1}function hr(n,t,e,r){if(50<el)throw el=0,Eg=null,Error(J(185));Ql(n,e,r),(!(It&2)||n!==Pe)&&(n===Pe&&(!(It&2)&&(hd|=e),Ce===4&&ci(n,Le)),yn(n,r),e===1&&It===0&&!(t.mode&1)&&(Ho=de()+500,ad&&Gi()))}function yn(n,t){var e=n.callbackNode;zT(n,t);var r=Mc(n,n===Pe?Le:0);if(r===0)e!==null&&_0(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&_0(e),t===1)n.tag===0?FA(h_.bind(null,n)):bC(h_.bind(null,n)),BA(function(){!(It&6)&&Gi()}),e=null;else{switch(Kx(r)){case 1:e=hv;break;case 4:e=Wx;break;case 16:e=Ac;break;case 536870912:e=Yx;break;default:e=Ac}e=yS(e,hS.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function hS(n,t){if(gc=-1,mc=0,It&6)throw Error(J(327));var e=n.callbackNode;if(xo()&&n.callbackNode!==e)return null;var r=Mc(n,n===Pe?Le:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=Xc(n,r);else{t=r;var i=It;It|=2;var s=fS();(Pe!==n||Le!==t)&&(Dr=null,Ho=de()+500,ls(n,t));do try{oM();break}catch(a){dS(n,a)}while(!0);Sv(),Uc.current=s,It=i,ye!==null?t=0:(Pe=null,Le=0,t=Ce)}if(t!==0){if(t===2&&(i=Qp(n),i!==0&&(r=i,t=Og(n,i))),t===1)throw e=Dl,ls(n,0),ci(n,r),yn(n,de()),e;if(t===6)ci(n,r);else{if(i=n.current.alternate,!(r&30)&&!iM(i)&&(t=Xc(n,r),t===2&&(s=Qp(n),s!==0&&(r=s,t=Og(n,s))),t===1))throw e=Dl,ls(n,0),ci(n,r),yn(n,de()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Ki(n,dn,Dr);break;case 3:if(ci(n,r),(r&130023424)===r&&(t=Fv+500-de(),10<t)){if(Mc(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){an(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=og(Ki.bind(null,n,dn,Dr),t);break}Ki(n,dn,Dr);break;case 4:if(ci(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rM(r/1960))-r,10<r){n.timeoutHandle=og(Ki.bind(null,n,dn,Dr),r);break}Ki(n,dn,Dr);break;case 5:Ki(n,dn,Dr);break;default:throw Error(J(329))}}}return yn(n,de()),n.callbackNode===e?hS.bind(null,n):null}function Og(n,t){var e=tl;return n.current.memoizedState.isDehydrated&&(ls(n,t).flags|=256),n=Xc(n,t),n!==2&&(t=dn,dn=e,t!==null&&kg(t)),n}function kg(n){dn===null?dn=n:dn.push.apply(dn,n)}function iM(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],s=i.getSnapshot;i=i.value;try{if(!dr(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(n,t){for(t&=~Nv,t&=~hd,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-cr(t),r=1<<e;n[e]=-1,t&=~r}}function h_(n){if(It&6)throw Error(J(327));xo();var t=Mc(n,0);if(!(t&1))return yn(n,de()),null;var e=Xc(n,t);if(n.tag!==0&&e===2){var r=Qp(n);r!==0&&(t=r,e=Og(n,r))}if(e===1)throw e=Dl,ls(n,0),ci(n,t),yn(n,de()),e;if(e===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Ki(n,dn,Dr),yn(n,de()),null}function zv(n,t){var e=It;It|=1;try{return n(t)}finally{It=e,It===0&&(Ho=de()+500,ad&&Gi())}}function vs(n){gi!==null&&gi.tag===0&&!(It&6)&&xo();var t=It;It|=1;var e=qn.transition,r=Lt;try{if(qn.transition=null,Lt=1,n)return n()}finally{Lt=r,qn.transition=e,It=t,!(It&6)&&Gi()}}function $v(){Sn=Zs.current,Yt(Zs)}function ls(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,DA(e)),ye!==null)for(e=ye.return;e!==null;){var r=e;switch(wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bc();break;case 3:$o(),Yt(mn),Yt(tn),Mv();break;case 5:Av(r);break;case 4:$o();break;case 13:Yt(ne);break;case 19:Yt(ne);break;case 10:Ev(r.type._context);break;case 22:case 23:$v()}e=e.return}if(Pe=n,ye=n=Mi(n.current,null),Le=Sn=t,Ce=0,Dl=null,Nv=hd=ms=0,dn=tl=null,rs!==null){for(t=0;t<rs.length;t++)if(e=rs[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,s=e.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}e.pending=r}rs=null}return n}function dS(n,t){do{var e=ye;try{if(Sv(),dc.current=Vc,Hc){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hc=!1}if(gs=0,Te=be=ie=null,Qa=!1,Pl=0,jv.current=null,e===null||e.return===null){Ce=1,Dl=t,ye=null;break}t:{var s=n,o=e.return,a=e,l=t;if(t=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Q0(o);if(f!==null){f.flags&=-257,J0(f,o,a,s,t),f.mode&1&&Z0(s,u,t),t=f,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break t}else{if(!(t&1)){Z0(s,u,t),Gv();break t}l=Error(J(426))}}else if(Zt&&a.mode&1){var _=Q0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),J0(_,o,a,s,t),xv(Go(l,a));break t}}s=l=Go(l,a),Ce!==4&&(Ce=2),tl===null?tl=[s]:tl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=KC(s,l,t);U0(s,m);break t;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ti===null||!Ti.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=qC(s,a,t);U0(s,b);break t}}s=s.return}while(s!==null)}gS(e)}catch(x){t=x,ye===e&&e!==null&&(ye=e=e.return);continue}break}while(!0)}function fS(){var n=Uc.current;return Uc.current=Vc,n===null?Vc:n}function Gv(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(ms&268435455)&&!(hd&268435455)||ci(Pe,Le)}function Xc(n,t){var e=It;It|=2;var r=fS();(Pe!==n||Le!==t)&&(Dr=null,ls(n,t));do try{sM();break}catch(i){dS(n,i)}while(!0);if(Sv(),It=e,Uc.current=r,ye!==null)throw Error(J(261));return Pe=null,Le=0,Ce}function sM(){for(;ye!==null;)pS(ye)}function oM(){for(;ye!==null&&!PT();)pS(ye)}function pS(n){var t=vS(n.alternate,n,Sn);n.memoizedProps=n.pendingProps,t===null?gS(n):ye=t,jv.current=null}function gS(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=JA(e,t),e!==null){e.flags&=32767,ye=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ce=6,ye=null;return}}else if(e=QA(e,t,Sn),e!==null){ye=e;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=n}while(t!==null);Ce===0&&(Ce=5)}function Ki(n,t,e){var r=Lt,i=qn.transition;try{qn.transition=null,Lt=1,aM(n,t,e,r)}finally{qn.transition=i,Lt=r}return null}function aM(n,t,e,r){do xo();while(gi!==null);if(It&6)throw Error(J(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var s=e.lanes|e.childLanes;if($T(n,s),n===Pe&&(ye=Pe=null,Le=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Du||(Du=!0,yS(Ac,function(){return xo(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var o=Lt;Lt=1;var a=It;It|=4,jv.current=null,eM(n,e),uS(e,n),kA(ig),Pc=!!rg,ig=rg=null,n.current=e,nM(e),IT(),It=a,Lt=o,qn.transition=s}else n.current=e;if(Du&&(Du=!1,gi=n,Yc=i),s=n.pendingLanes,s===0&&(Ti=null),BT(e.stateNode),yn(n,de()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,n=Sg,Sg=null,n;return Yc&1&&n.tag!==0&&xo(),s=n.pendingLanes,s&1?n===Eg?el++:(el=0,Eg=n):el=0,Gi(),null}function xo(){if(gi!==null){var n=Kx(Yc),t=qn.transition,e=Lt;try{if(qn.transition=null,Lt=16>n?16:n,gi===null)var r=!1;else{if(n=gi,gi=null,Yc=0,It&6)throw Error(J(331));var i=It;for(It|=4,ut=n.current;ut!==null;){var s=ut,o=s.child;if(ut.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ut=u;ut!==null;){var c=ut;switch(c.tag){case 0:case 11:case 15:Ja(8,c,s)}var h=c.child;if(h!==null)h.return=c,ut=h;else for(;ut!==null;){c=ut;var d=c.sibling,f=c.return;if(oS(c),c===u){ut=null;break}if(d!==null){d.return=f,ut=d;break}ut=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ut=o;else t:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ja(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ut=m;break t}ut=s.return}}var y=n.current;for(ut=y;ut!==null;){o=ut;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ut=v;else t:for(o=y;ut!==null;){if(a=ut,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cd(9,a)}}catch(x){le(a,a.return,x)}if(a===o){ut=null;break t}var b=a.sibling;if(b!==null){b.return=a.return,ut=b;break t}ut=a.return}}if(It=i,Gi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(nd,n)}catch{}r=!0}return r}finally{Lt=e,qn.transition=t}}return!1}function d_(n,t,e){t=Go(e,t),t=KC(n,t,1),n=ki(n,t,1),t=an(),n!==null&&(Ql(n,1,t),yn(n,t))}function le(n,t,e){if(n.tag===3)d_(n,n,e);else for(;t!==null;){if(t.tag===3){d_(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){n=Go(e,n),n=qC(t,n,1),t=ki(t,n,1),n=an(),t!==null&&(Ql(t,1,n),yn(t,n));break}}t=t.return}}function lM(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=an(),n.pingedLanes|=n.suspendedLanes&e,Pe===n&&(Le&e)===e&&(Ce===4||Ce===3&&(Le&130023424)===Le&&500>de()-Fv?ls(n,0):Nv|=e),yn(n,t)}function mS(n,t){t===0&&(n.mode&1?(t=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):t=1);var e=an();n=qr(n,t),n!==null&&(Ql(n,t,e),yn(n,e))}function uM(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),mS(n,e)}function cM(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),mS(n,e)}var vS;vS=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||mn.current)gn=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return gn=!1,ZA(n,t,e);gn=!!(n.flags&131072)}else gn=!1,Zt&&t.flags&1048576&&wC(t,Nc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pc(n,t),n=t.pendingProps;var i=No(t,tn.current);wo(t,e),i=Iv(null,t,r,n,i,e);var s=Rv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(r)?(s=!0,Lc(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kv(t),i.updater=ud,t.stateNode=i,i._reactInternals=t,fg(t,r,n,e),t=mg(null,t,r,!0,s,e)):(t.tag=0,Zt&&s&&bv(t),sn(null,t,i,e),t=t.child),t;case 16:r=t.elementType;t:{switch(pc(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=dM(r),n=rr(r,n),i){case 0:t=gg(null,t,r,n,e);break t;case 1:t=n_(null,t,r,n,e);break t;case 11:t=t_(null,t,r,n,e);break t;case 14:t=e_(null,t,r,rr(r.type,n),e);break t}throw Error(J(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),gg(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),n_(n,t,r,i,e);case 3:t:{if(tS(t),n===null)throw Error(J(387));r=t.pendingProps,s=t.memoizedState,i=s.element,kC(n,t),$c(t,r,null,e);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Go(Error(J(423)),t),t=r_(n,t,r,e,i);break t}else if(r!==i){i=Go(Error(J(424)),t),t=r_(n,t,r,e,i);break t}else for(An=Oi(t.stateNode.containerInfo.firstChild),Pn=t,Zt=!0,sr=null,e=EC(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Fo(),r===i){t=Zr(n,t,e);break t}sn(n,t,r,e)}t=t.child}return t;case 5:return TC(t),n===null&&cg(t),r=t.type,i=t.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,sg(r,i)?o=null:s!==null&&sg(r,s)&&(t.flags|=32),JC(n,t),sn(n,t,o,e),t.child;case 6:return n===null&&cg(t),null;case 13:return eS(n,t,e);case 4:return Tv(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=zo(t,null,r,e):sn(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),t_(n,t,r,i,e);case 7:return sn(n,t,t.pendingProps,e),t.child;case 8:return sn(n,t,t.pendingProps.children,e),t.child;case 12:return sn(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ut(Fc,r._currentValue),r._currentValue=o,s!==null)if(dr(s.value,o)){if(s.children===i.children&&!mn.current){t=Zr(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ur(-1,e&-e),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),hg(s.return,e,t),a.lanes|=e;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),hg(o,e,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wo(t,e),i=Qn(i),r=r(i),t.flags|=1,sn(n,t,r,e),t.child;case 14:return r=t.type,i=rr(r,t.pendingProps),i=rr(r.type,i),e_(n,t,r,i,e);case 15:return ZC(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),pc(n,t),t.tag=1,vn(r)?(n=!0,Lc(t)):n=!1,wo(t,e),XC(t,r,i),fg(t,r,i,e),mg(null,t,r,!0,n,e);case 19:return nS(n,t,e);case 22:return QC(n,t,e)}throw Error(J(156,t.tag))};function yS(n,t){return Ux(n,t)}function hM(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(n,t,e,r){return new hM(n,t,e,r)}function Hv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dM(n){if(typeof n=="function")return Hv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lv)return 11;if(n===uv)return 14}return 2}function Mi(n,t){var e=n.alternate;return e===null?(e=Kn(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function vc(n,t,e,r,i,s){var o=2;if(r=n,typeof n=="function")Hv(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case $s:return us(e.children,i,s,t);case av:o=8,i|=8;break;case jp:return n=Kn(12,e,t,i|2),n.elementType=jp,n.lanes=s,n;case Np:return n=Kn(13,e,t,i),n.elementType=Np,n.lanes=s,n;case Fp:return n=Kn(19,e,t,i),n.elementType=Fp,n.lanes=s,n;case Tx:return dd(e,i,s,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ox:o=10;break t;case kx:o=9;break t;case lv:o=11;break t;case uv:o=14;break t;case oi:o=16,r=null;break t}throw Error(J(130,n==null?n:typeof n,""))}return t=Kn(o,e,t,i),t.elementType=n,t.type=r,t.lanes=s,t}function us(n,t,e,r){return n=Kn(7,n,r,t),n.lanes=e,n}function dd(n,t,e,r){return n=Kn(22,n,r,t),n.elementType=Tx,n.lanes=e,n.stateNode={isHidden:!1},n}function Rf(n,t,e){return n=Kn(6,n,null,t),n.lanes=e,n}function Df(n,t,e){return t=Kn(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function fM(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vv(n,t,e,r,i,s,o,a,l){return n=new fM(n,t,e,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kn(3,null,null,t),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(s),n}function pM(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function _S(n){if(!n)return Li;n=n._reactInternals;t:{if(Es(n)!==n||n.tag!==1)throw Error(J(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(J(171))}if(n.tag===1){var e=n.type;if(vn(e))return _C(n,e,t)}return t}function bS(n,t,e,r,i,s,o,a,l){return n=Vv(e,r,!0,n,i,s,o,a,l),n.context=_S(null),e=n.current,r=an(),i=Ai(e),s=Ur(r,i),s.callback=t??null,ki(e,s,i),n.current.lanes=i,Ql(n,i,r),yn(n,r),n}function fd(n,t,e,r){var i=t.current,s=an(),o=Ai(i);return e=_S(e),t.context===null?t.context=e:t.pendingContext=e,t=Ur(s,o),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=ki(i,t,o),n!==null&&(hr(n,i,o,s),hc(n,i,o)),o}function Kc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function f_(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Uv(n,t){f_(n,t),(n=n.alternate)&&f_(n,t)}function gM(){return null}var wS=typeof reportError=="function"?reportError:function(n){console.error(n)};function Wv(n){this._internalRoot=n}pd.prototype.render=Wv.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(J(409));fd(n,t,null,null)};pd.prototype.unmount=Wv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;vs(function(){fd(null,n,null,null)}),t[Kr]=null}};function pd(n){this._internalRoot=n}pd.prototype.unstable_scheduleHydration=function(n){if(n){var t=Qx();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ui.length&&t!==0&&t<ui[e].priority;e++);ui.splice(e,0,n),e===0&&tC(n)}};function Yv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function p_(){}function mM(n,t,e,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Kc(o);s.call(u)}}var o=bS(t,r,n,0,null,!1,!1,"",p_);return n._reactRootContainer=o,n[Kr]=o.current,Ol(n.nodeType===8?n.parentNode:n),vs(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Kc(l);a.call(u)}}var l=Vv(n,0,!1,null,null,!1,!1,"",p_);return n._reactRootContainer=l,n[Kr]=l.current,Ol(n.nodeType===8?n.parentNode:n),vs(function(){fd(t,l,e,r)}),l}function md(n,t,e,r,i){var s=e._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kc(o);a.call(l)}}fd(t,o,n,i)}else o=mM(e,t,n,i,r);return Kc(o)}qx=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Ba(t.pendingLanes);e!==0&&(dv(t,e|1),yn(t,de()),!(It&6)&&(Ho=de()+500,Gi()))}break;case 13:vs(function(){var r=qr(n,1);if(r!==null){var i=an();hr(r,n,1,i)}}),Uv(n,1)}};fv=function(n){if(n.tag===13){var t=qr(n,134217728);if(t!==null){var e=an();hr(t,n,134217728,e)}Uv(n,134217728)}};Zx=function(n){if(n.tag===13){var t=Ai(n),e=qr(n,t);if(e!==null){var r=an();hr(e,n,t,r)}Uv(n,t)}};Qx=function(){return Lt};Jx=function(n,t){var e=Lt;try{return Lt=n,t()}finally{Lt=e}};Kp=function(n,t,e){switch(t){case"input":if(Gp(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=od(r);if(!i)throw Error(J(90));Mx(r),Gp(r,i)}}}break;case"textarea":Ix(n,e);break;case"select":t=e.value,t!=null&&vo(n,!!e.multiple,t,!1)}};Fx=zv;zx=vs;var vM={usingClientEntryPoint:!1,Events:[tu,Us,od,jx,Nx,zv]},wa={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yM={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hx(n),n===null?null:n.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{nd=Bu.inject(yM),Or=Bu}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vM;Ln.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yv(t))throw Error(J(200));return pM(n,t,null,e)};Ln.createRoot=function(n,t){if(!Yv(n))throw Error(J(299));var e=!1,r="",i=wS;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vv(n,1,!1,null,null,e,!1,r,i),n[Kr]=t.current,Ol(n.nodeType===8?n.parentNode:n),new Wv(t)};Ln.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=Hx(t),n=n===null?null:n.stateNode,n};Ln.flushSync=function(n){return vs(n)};Ln.hydrate=function(n,t,e){if(!gd(t))throw Error(J(200));return md(null,n,t,!0,e)};Ln.hydrateRoot=function(n,t,e){if(!Yv(n))throw Error(J(405));var r=e!=null&&e.hydratedSources||null,i=!1,s="",o=wS;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=bS(t,null,n,1,e??null,i,!1,s,o),n[Kr]=t.current,Ol(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new pd(t)};Ln.render=function(n,t,e){if(!gd(t))throw Error(J(200));return md(null,n,t,!1,e)};Ln.unmountComponentAtNode=function(n){if(!gd(n))throw Error(J(40));return n._reactRootContainer?(vs(function(){md(null,null,n,!1,function(){n._reactRootContainer=null,n[Kr]=null})}),!0):!1};Ln.unstable_batchedUpdates=zv;Ln.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!gd(e))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return md(n,t,e,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(n){console.error(n)}}xS(),xx.exports=Ln;var Bl=xx.exports;const ja=ql(Bl);var g_=Bl;Bp.createRoot=g_.createRoot,Bp.hydrateRoot=g_.hydrateRoot;function Qt(){return Qt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Qt.apply(this,arguments)}function CS(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Tg(n,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(n,t)}function SS(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Tg(n,t)}function _M(n,t){return n.classList?!!t&&n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function bM(n,t){n.classList?n.classList.add(t):_M(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function m_(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wM(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=m_(n.className,t):n.setAttribute("class",m_(n.className&&n.className.baseVal||"",t))}const v_={disabled:!1},ES=E.createContext(null);var OS=function(t){return t.scrollTop},Na="unmounted",qi="exited",Zi="entering",js="entered",Ag="exiting",ti=function(n){SS(t,n);function t(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=qi,s.appearStatus=Zi):l=js:r.unmountOnExit||r.mountOnEnter?l=Na:l=qi,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Na?{status:qi}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zi&&o!==js&&(s=Zi):(o===Zi||o===js)&&(s=Ag)}this.updateStatus(!1,s)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},e.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this);o&&OS(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qi&&this.setState({status:Na})},e.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ja.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!i&&!o||v_.disabled){this.safeSetState({status:js},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Zi},function(){s.props.onEntering(u,c),s.onTransitionEnd(d,function(){s.safeSetState({status:js},function(){s.props.onEntered(u,c)})})})},e.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ja.findDOMNode(this);if(!s||v_.disabled){this.safeSetState({status:qi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ag},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:qi},function(){i.props.onExited(a)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},e.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},e.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===Na)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=CS(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement(ES.Provider,{value:null},typeof o=="function"?o(i,a):E.cloneElement(E.Children.only(o),a))},t}(E.Component);ti.contextType=ES;ti.propTypes={};function Is(){}ti.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Is,onEntering:Is,onEntered:Is,onExit:Is,onExiting:Is,onExited:Is};ti.UNMOUNTED=Na;ti.EXITED=qi;ti.ENTERING=Zi;ti.ENTERED=js;ti.EXITING=Ag;var xM=function(t,e){return t&&e&&e.split(" ").forEach(function(r){return bM(t,r)})},Bf=function(t,e){return t&&e&&e.split(" ").forEach(function(r){return wM(t,r)})},vd=function(n){SS(t,n);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n.call.apply(n,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1];r.removeClasses(c,"exit"),r.addClass(c,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";r.addClass(c,d,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";r.removeClasses(c,d),r.addClass(c,d,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",h=u?""+c+a:l[a],d=u?h+"-active":l[a+"Active"],f=u?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:d,doneClassName:f}},r}var e=t.prototype;return e.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&i&&OS(i),a&&(this.appliedClasses[s][o]=a,xM(i,a))},e.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&Bf(i,a),l&&Bf(i,l),u&&Bf(i,u)},e.render=function(){var i=this.props;i.classNames;var s=CS(i,["classNames"]);return E.createElement(ti,Qt({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(E.Component);vd.defaultProps={classNames:""};vd.propTypes={};function Ll(n){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(n)}function CM(n,t){if(Ll(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function SM(n){var t=CM(n,"string");return Ll(t)=="symbol"?t:t+""}function pe(n,t,e){return t=SM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ge=M.createContext({prefixCls:"arco"});function y_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function __(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function EM(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=__(__({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-check-circle-fill")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z",clipRule:"evenodd"}))}var Xv=E.forwardRef(EM);Xv.defaultProps={isIcon:!0};Xv.displayName="IconCheckCircleFill";function b_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function w_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):b_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function OM(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=w_(w_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-close")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142"}))}var yd=E.forwardRef(OM);yd.defaultProps={isIcon:!0};yd.displayName="IconClose";var _d=Object.prototype.toString;function sa(n){return _d.call(n)==="[object Array]"}function Pt(n){return _d.call(n)==="[object Object]"}function oa(n){return _d.call(n)==="[object String]"}function Zn(n){return _d.call(n)==="[object Number]"&&n===n}function Wr(n){return n===void 0}function fn(n){return typeof n=="function"}function Mg(n,t){return n==null||n===!1||typeof n=="string"&&n.trim()===""}var kM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},TM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};function at(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=n.length,r=[],i=function(o){var a=n[o];if(!a)return"continue";oa(a)?r.push(a):sa(a)?r=r.concat(a):Pt(a)&&Object.keys(a).forEach(function(l){a[l]&&r.push(l)})},s=0;s<e;s++)i(s);return TM([],kM(new Set(r)),!1).join(" ")}function x_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function C_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function AM(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=C_(C_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-loading")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"}))}var bd=E.forwardRef(AM);bd.defaultProps={isIcon:!0};bd.displayName="IconLoading";var Pg=function(){return Pg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pg.apply(this,arguments)},MM=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function kS(n){var t,e=n.children,r=n.className,i=n.disabled,s=n.prefix,o=n.size,a=o===void 0?"default":o,l=MM(n,["children","className","disabled","prefix","size"]),u=M.useContext(Mt).getPrefixCls,c=u("icon-hover");return E.createElement("span",Pg({className:at(c,(t={},t[s+"-icon-hover"]=s,t[c+"-size-"+a]=a&&a!=="default",t[c+"-disabled"]=i,t),r),onClick:n.onClick},l),e)}var PM={exports:{}},TS={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(Fs,function(){var e=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",d="quarter",f="year",p="date",g="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var j=["th","st","nd","rd"],P=N%100;return"["+N+(j[(P-20)%10]||j[P]||j[0])+"]"}},v=function(N,j,P){var B=String(N);return!B||B.length>=j?N:""+Array(j+1-B.length).join(P)+N},b={s:v,z:function(N){var j=-N.utcOffset(),P=Math.abs(j),B=Math.floor(P/60),A=P%60;return(j<=0?"+":"-")+v(B,2,"0")+":"+v(A,2,"0")},m:function N(j,P){if(j.date()<P.date())return-N(P,j);var B=12*(P.year()-j.year())+(P.month()-j.month()),A=j.clone().add(B,h),$=P-A<0,L=j.clone().add(B+($?-1:1),h);return+(-(B+(P-A)/($?A-L:L-A))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:h,y:f,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:d}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},x="en",w={};w[x]=y;var C="$isDayjsObject",S=function(N){return N instanceof I||!(!N||!N[C])},k=function N(j,P,B){var A;if(!j)return x;if(typeof j=="string"){var $=j.toLowerCase();w[$]&&(A=$),P&&(w[$]=P,A=$);var L=j.split("-");if(!A&&L.length>1)return N(L[0])}else{var G=j.name;w[G]=j,A=G}return!B&&A&&(x=A),A||!B&&x},O=function(N,j){if(S(N))return N.clone();var P=typeof j=="object"?j:{};return P.date=N,P.args=arguments,new I(P)},T=b;T.l=k,T.i=S,T.w=function(N,j){return O(N,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var I=function(){function N(P){this.$L=k(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[C]=!0}var j=N.prototype;return j.parse=function(P){this.$d=function(B){var A=B.date,$=B.utc;if(A===null)return new Date(NaN);if(T.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var L=A.match(_);if(L){var G=L[2]-1||0,V=(L[7]||"0").substring(0,3);return $?new Date(Date.UTC(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,V)):new Date(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,V)}}return new Date(A)}(P),this.init()},j.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},j.$utils=function(){return T},j.isValid=function(){return this.$d.toString()!==g},j.isSame=function(P,B){var A=O(P);return this.startOf(B)<=A&&A<=this.endOf(B)},j.isAfter=function(P,B){return O(P)<this.startOf(B)},j.isBefore=function(P,B){return this.endOf(B)<O(P)},j.$g=function(P,B,A){return T.u(P)?this[B]:this.set(A,P)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(P,B){var A=this,$=!!T.u(B)||B,L=T.p(P),G=function(Z,tt){var ct=T.w(A.$u?Date.UTC(A.$y,tt,Z):new Date(A.$y,tt,Z),A);return $?ct:ct.endOf(u)},V=function(Z,tt){return T.w(A.toDate()[Z].apply(A.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(tt)),A)},W=this.$W,K=this.$M,lt=this.$D,D="set"+(this.$u?"UTC":"");switch(L){case f:return $?G(1,0):G(31,11);case h:return $?G(1,K):G(0,K+1);case c:var F=this.$locale().weekStart||0,H=(W<F?W+7:W)-F;return G($?lt-H:lt+(6-H),K);case u:case p:return V(D+"Hours",0);case l:return V(D+"Minutes",1);case a:return V(D+"Seconds",2);case o:return V(D+"Milliseconds",3);default:return this.clone()}},j.endOf=function(P){return this.startOf(P,!1)},j.$set=function(P,B){var A,$=T.p(P),L="set"+(this.$u?"UTC":""),G=(A={},A[u]=L+"Date",A[p]=L+"Date",A[h]=L+"Month",A[f]=L+"FullYear",A[l]=L+"Hours",A[a]=L+"Minutes",A[o]=L+"Seconds",A[s]=L+"Milliseconds",A)[$],V=$===u?this.$D+(B-this.$W):B;if($===h||$===f){var W=this.clone().set(p,1);W.$d[G](V),W.init(),this.$d=W.set(p,Math.min(this.$D,W.daysInMonth())).$d}else G&&this.$d[G](V);return this.init(),this},j.set=function(P,B){return this.clone().$set(P,B)},j.get=function(P){return this[T.p(P)]()},j.add=function(P,B){var A,$=this;P=Number(P);var L=T.p(B),G=function(K){var lt=O($);return T.w(lt.date(lt.date()+Math.round(K*P)),$)};if(L===h)return this.set(h,this.$M+P);if(L===f)return this.set(f,this.$y+P);if(L===u)return G(1);if(L===c)return G(7);var V=(A={},A[a]=r,A[l]=i,A[o]=e,A)[L]||1,W=this.$d.getTime()+P*V;return T.w(W,this)},j.subtract=function(P,B){return this.add(-1*P,B)},j.format=function(P){var B=this,A=this.$locale();if(!this.isValid())return A.invalidDate||g;var $=P||"YYYY-MM-DDTHH:mm:ssZ",L=T.z(this),G=this.$H,V=this.$m,W=this.$M,K=A.weekdays,lt=A.months,D=A.meridiem,F=function(tt,ct,et,rt){return tt&&(tt[ct]||tt(B,$))||et[ct].slice(0,rt)},H=function(tt){return T.s(G%12||12,tt,"0")},Z=D||function(tt,ct,et){var rt=tt<12?"AM":"PM";return et?rt.toLowerCase():rt};return $.replace(m,function(tt,ct){return ct||function(et){switch(et){case"YY":return String(B.$y).slice(-2);case"YYYY":return T.s(B.$y,4,"0");case"M":return W+1;case"MM":return T.s(W+1,2,"0");case"MMM":return F(A.monthsShort,W,lt,3);case"MMMM":return F(lt,W);case"D":return B.$D;case"DD":return T.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return F(A.weekdaysMin,B.$W,K,2);case"ddd":return F(A.weekdaysShort,B.$W,K,3);case"dddd":return K[B.$W];case"H":return String(G);case"HH":return T.s(G,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Z(G,V,!0);case"A":return Z(G,V,!1);case"m":return String(V);case"mm":return T.s(V,2,"0");case"s":return String(B.$s);case"ss":return T.s(B.$s,2,"0");case"SSS":return T.s(B.$ms,3,"0");case"Z":return L}return null}(tt)||L.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(P,B,A){var $,L=this,G=T.p(B),V=O(P),W=(V.utcOffset()-this.utcOffset())*r,K=this-V,lt=function(){return T.m(L,V)};switch(G){case f:$=lt()/12;break;case h:$=lt();break;case d:$=lt()/3;break;case c:$=(K-W)/6048e5;break;case u:$=(K-W)/864e5;break;case l:$=K/i;break;case a:$=K/r;break;case o:$=K/e;break;default:$=K}return A?$:T.a($)},j.daysInMonth=function(){return this.endOf(h).$D},j.$locale=function(){return w[this.$L]},j.locale=function(P,B){if(!P)return this.$L;var A=this.clone(),$=k(P,B,!0);return $&&(A.$L=$),A},j.clone=function(){return T.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},N}(),R=I.prototype;return O.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",f],["$D",p]].forEach(function(N){R[N[1]]=function(j){return this.$g(j,N[0],N[1])}}),O.extend=function(N,j){return N.$i||(N(j,I,O),N.$i=!0),O},O.locale=k,O.isDayjs=S,O.unix=function(N){return O(1e3*N)},O.en=w[x],O.Ls=w,O.p={},O})})(TS);var IM=TS.exports;(function(n,t){(function(e,r){n.exports=r(IM)})(Fs,function(e){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=r(e),s={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(o,a){return a==="W"?o+"":o+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(o,a){var l=100*o+a;return l<600?"":l<900?"":l<1100?"":l<1300?"":l<1800?"":""}};return i.default.locale(s,null,!0),s})})(PM);var S_={formatYear:"YYYY ",formatMonth:"YYYY  MM ",monthBeforeYear:!1,today:"",view:{month:"",year:"",week:"",day:""},month:{long:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""},short:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""}},week:{long:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},short:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}}};const RM={locale:"zh-CN",dayjsLocale:"zh-cn",Calendar:S_,DatePicker:{Calendar:S_,placeholder:{date:"",week:"",month:"",year:"",quarter:""},placeholders:{date:["",""],week:["",""],month:["",""],year:["",""],quarter:["",""]},selectTime:"",selectDate:"",today:"",now:"",ok:""},Drawer:{okText:"",cancelText:""},Empty:{noData:""},Modal:{okText:"",cancelText:""},Pagination:{goto:"",page:"",countPerPage:"/",total:" {0} ",prev:"",next:"",currentPage:" {0} ",prevSomePages:" {0} ",nextSomePages:" {0} ",pageSize:""},Popconfirm:{okText:"",cancelText:""},Table:{okText:"",resetText:"",sortAscend:"",sortDescend:"",cancelSort:""},TimePicker:{ok:"",placeholder:"",placeholders:["",""],now:""},Progress:{success:"",error:""},Upload:{start:"",cancel:"",delete:"",reupload:"",upload:"",preview:"",drag:"",dragHover:"",error:""},Typography:{copy:"",copied:"",edit:"",fold:"",unfold:""},Transfer:{resetText:""},ImagePreview:{fullScreen:"",rotateRight:"",rotateLeft:"",zoomIn:"",zoomOut:"",originalSize:""},Form:{validateMessages:{required:"#{field} ",type:{string:"#{field} ",number:"#{field} ",boolean:"#{field} ",array:"#{field} ",object:"#{field} ",url:"#{field}  url ",email:"#{field} ",ip:"#{field}  IP "},number:{min:"`#{value}`  `#{min}`",max:"`#{value}`  `#{max}`",equal:"`#{value}`  `#{equal}`",range:"`#{value}`  `#{min} ~ #{max}` ",positive:"`#{value}` ",negative:"`#{value}` "},array:{length:"`#{field}`  #{length}",minLength:"`#{field}`  #{minLength}",maxLength:"`#{field}`  #{maxLength}",includes:"#{field}  #{includes}",deepEqual:"#{field}  #{deepEqual}",empty:"`#{field}` "},string:{minLength:" #{minLength}",maxLength:" #{maxLength}",length:" #{length}",match:"`#{value}`  #{pattern}",uppercase:"`#{value}` ",lowercase:"`#{value}` "},object:{deepEqual:"`#{field}` ",hasKeys:"`#{field}` ",empty:"`#{field}` "},boolean:{true:" `true`",false:" `false`"}}},ColorPicker:{history:"",preset:"",empty:""}};function E_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function O_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):E_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function DM(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=O_(O_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-empty")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"}))}var Kv=E.forwardRef(DM);Kv.defaultProps={isIcon:!0};Kv.displayName="IconEmpty";var Ig=function(){return Ig=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ig.apply(this,arguments)};function ze(n,t){var e=Ig({},n);return t.forEach(function(r){r in e&&delete e[r]}),e}var qc=function(){return qc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qc.apply(this,arguments)};function $e(n,t,e){var r=n._ignorePropsFromGlobal,i=M.useMemo(function(){return qc(qc({},t),r?{}:e)},[t,e,r]),s=M.useMemo(function(){var o=ze(n,["_ignorePropsFromGlobal"]);for(var a in i)o[a]===void 0&&(o[a]=i[a]);return o},[n,i]);return s}var Rg=function(){return Rg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rg.apply(this,arguments)},BM=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function LM(n,t){var e=M.useContext(Mt),r=e.getPrefixCls,i=e.locale,s=e.componentConfig,o=$e(n,{},s==null?void 0:s.Empty),a=o.style,l=o.className,u=o.description,c=o.icon,h=o.imgSrc,d=BM(o,["style","className","description","icon","imgSrc"]),f=r("empty"),p=at(f,l),g=i.Empty.noData,_=typeof u=="string"?u:"empty";return E.createElement("div",Rg({ref:t,className:p,style:a},d),E.createElement("div",{className:f+"-wrapper"},E.createElement("div",{className:f+"-image"},h?E.createElement("img",{alt:_,src:h}):c||E.createElement(Kv,null)),E.createElement("div",{className:f+"-description"},u||g)))}var AS=M.forwardRef(LM);AS.displayName="Empty";const jM=M.memo(AS);var Dg=function(){return Dg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dg.apply(this,arguments)};function NM(n){switch(n){default:return E.createElement(jM,null)}}var FM={locale:RM,prefixCls:"arco",getPopupContainer:function(){return document.body},size:"default",renderEmpty:NM,focusLock:{modal:{autoFocus:!0},drawer:{autoFocus:!0}}},Mt=M.createContext(Dg({getPrefixCls:function(n,t){return(t||"arco")+"-"+n}},FM));Mt.Consumer;function zM(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var nu=zM,$M=typeof Fs=="object"&&Fs&&Fs.Object===Object&&Fs,GM=$M,HM=GM,VM=typeof self=="object"&&self&&self.Object===Object&&self,UM=HM||VM||Function("return this")(),wd=UM,WM=wd,YM=function(){return WM.Date.now()},XM=YM,KM=/\s/;function qM(n){for(var t=n.length;t--&&KM.test(n.charAt(t)););return t}var ZM=qM,QM=ZM,JM=/^\s+/;function tP(n){return n&&n.slice(0,QM(n)+1).replace(JM,"")}var eP=tP,nP=wd,rP=nP.Symbol,qv=rP,k_=qv,MS=Object.prototype,iP=MS.hasOwnProperty,sP=MS.toString,xa=k_?k_.toStringTag:void 0;function oP(n){var t=iP.call(n,xa),e=n[xa];try{n[xa]=void 0;var r=!0}catch{}var i=sP.call(n);return r&&(t?n[xa]=e:delete n[xa]),i}var aP=oP,lP=Object.prototype,uP=lP.toString;function cP(n){return uP.call(n)}var hP=cP,T_=qv,dP=aP,fP=hP,pP="[object Null]",gP="[object Undefined]",A_=T_?T_.toStringTag:void 0;function mP(n){return n==null?n===void 0?gP:pP:A_&&A_ in Object(n)?dP(n):fP(n)}var PS=mP;function vP(n){return n!=null&&typeof n=="object"}var yP=vP,_P=PS,bP=yP,wP="[object Symbol]";function xP(n){return typeof n=="symbol"||bP(n)&&_P(n)==wP}var xd=xP,CP=eP,M_=nu,SP=xd,P_=NaN,EP=/^[-+]0x[0-9a-f]+$/i,OP=/^0b[01]+$/i,kP=/^0o[0-7]+$/i,TP=parseInt;function AP(n){if(typeof n=="number")return n;if(SP(n))return P_;if(M_(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=M_(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=CP(n);var e=OP.test(n);return e||kP.test(n)?TP(n.slice(2),e?2:8):EP.test(n)?P_:+n}var MP=AP,PP=nu,Lf=XM,I_=MP,IP="Expected a function",RP=Math.max,DP=Math.min;function BP(n,t,e){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof n!="function")throw new TypeError(IP);t=I_(t)||0,PP(e)&&(c=!!e.leading,h="maxWait"in e,s=h?RP(I_(e.maxWait)||0,t):s,d="trailing"in e?!!e.trailing:d);function f(w){var C=r,S=i;return r=i=void 0,u=w,o=n.apply(S,C),o}function p(w){return u=w,a=setTimeout(m,t),c?f(w):o}function g(w){var C=w-l,S=w-u,k=t-C;return h?DP(k,s-S):k}function _(w){var C=w-l,S=w-u;return l===void 0||C>=t||C<0||h&&S>=s}function m(){var w=Lf();if(_(w))return y(w);a=setTimeout(m,g(w))}function y(w){return a=void 0,d&&r?f(w):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(Lf())}function x(){var w=Lf(),C=_(w);if(r=arguments,i=this,l=w,C){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(m,t),f(l)}return a===void 0&&(a=setTimeout(m,t)),o}return x.cancel=v,x.flush=b,x}var LP=BP,jP=LP,NP=nu,FP="Expected a function";function zP(n,t,e){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(FP);return NP(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),jP(n,t,{leading:r,maxWait:t,trailing:i})}var $P=zP;const GP=ql($P);function R_(n){return n!=null&&typeof n=="object"&&n.nodeType===1}function D_(n,t){return t&&n==="hidden"?!1:n!=="visible"&&n!=="clip"}function jf(n,t){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var e=getComputedStyle(n,null);return D_(e.overflowY,t)||D_(e.overflowX,t)}return!1}function Lu(n,t,e,r,i,s,o,a){return s<n&&o>t||s>n&&o<t?0:s<=n&&a<=e||o>=t&&a>=e?s-n-r:o>t&&a<e||s<n&&a>e?o-t+i:0}const B_=function(n,t){var e=t.scrollMode,r=t.block,i=t.inline,s=t.boundary,o=t.skipOverflowHiddenElements,a=typeof s=="function"?s:function(Z){return Z!==s};if(!R_(n))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],c=n;R_(c)&&a(c);){if(c=c.parentNode,c===l){u.push(c);break}c===document.body&&jf(c)&&!jf(document.documentElement)||jf(c,o)&&u.push(c)}for(var h=window.visualViewport?visualViewport.width:innerWidth,d=window.visualViewport?visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,p=window.scrollY||pageYOffset,g=n.getBoundingClientRect(),_=g.height,m=g.width,y=g.top,v=g.right,b=g.bottom,x=g.left,w=r==="start"||r==="nearest"?y:r==="end"?b:y+_/2,C=i==="center"?x+m/2:i==="end"?v:x,S=[],k=0;k<u.length;k++){var O=u[k],T=O.getBoundingClientRect(),I=T.height,R=T.width,N=T.top,j=T.right,P=T.bottom,B=T.left;if(e==="if-needed"&&y>=0&&x>=0&&b<=d&&v<=h&&y>=N&&b<=P&&x>=B&&v<=j)return S;var A=getComputedStyle(O),$=parseInt(A.borderLeftWidth,10),L=parseInt(A.borderTopWidth,10),G=parseInt(A.borderRightWidth,10),V=parseInt(A.borderBottomWidth,10),W=0,K=0,lt="offsetWidth"in O?O.offsetWidth-O.clientWidth-$-G:0,D="offsetHeight"in O?O.offsetHeight-O.clientHeight-L-V:0;if(l===O)r==="start"?W=w:r==="end"?W=w-d:r==="nearest"?W=Lu(p,p+d,d,L,V,p+w,p+w+_,_):W=w-d/2,i==="start"?K=C:i==="center"?K=C-h/2:i==="end"?K=C-h:K=Lu(f,f+h,h,$,G,f+C,f+C+m,m),W=Math.max(0,W+p),K=Math.max(0,K+f);else{r==="start"?W=w-N-L:r==="end"?W=w-P+V+D:r==="nearest"?W=Lu(N,P,I,L,V+D,w,w+_,_):W=w-(N+I/2)+D/2,i==="start"?K=C-B-$:i==="center"?K=C-(B+R/2)+lt/2:i==="end"?K=C-j+G+lt:K=Lu(B,j,R,$,G+lt,C,C+m,m);var F=O.scrollLeft,H=O.scrollTop;W=Math.max(0,Math.min(H+W,O.scrollHeight-I+D)),K=Math.max(0,Math.min(F+K,O.scrollWidth-R+lt)),w+=H-W,C+=F-K}S.push({el:O,top:W,left:K})}return S};function IS(n){return n===Object(n)&&Object.keys(n).length!==0}function HP(n,t){t===void 0&&(t="auto");var e="scrollBehavior"in document.body.style;n.forEach(function(r){var i=r.el,s=r.top,o=r.left;i.scroll&&e?i.scroll({top:s,left:o,behavior:t}):(i.scrollTop=s,i.scrollLeft=o)})}function VP(n){return n===!1?{block:"end",inline:"nearest"}:IS(n)?n:{block:"start",inline:"nearest"}}function UP(n,t){var e=!n.ownerDocument.documentElement.contains(n);if(IS(t)&&typeof t.behavior=="function")return t.behavior(e?[]:B_(n,t));if(!e){var r=VP(t);return HP(B_(n,r),r.behavior)}}function Zv(n,t){var e={};return t.forEach(function(r){var i=r;r in n&&(e[i]=n[i])}),e}function Cd(n){var t={};return n&&Object.keys(n).forEach(function(e){var r=String(e);r.indexOf("data-")===0&&(t[r]=n[r]),r.indexOf("aria-")===0&&(t[r]=n[r])}),t}var RS=function(){},aa=function(){try{return!(typeof window<"u"&&document!==void 0)}catch{return!0}}(),Ae=function(){return aa?RS:function(n,t,e,r){n&&n.addEventListener(t,e,r||!1)}}(),Me=function(){return aa?RS:function(n,t,e,r){n&&n.removeEventListener(t,e,r||!1)}}(),Zc=function(n,t){if(!n)return!1;if(n.contains)return n.contains(t);for(var e=t;e;){if(e===n)return!0;e=e.parentNode}return!1},DS=function(n){var t=n===document.documentElement?n.clientHeight:n.offsetHeight,e=n===document.documentElement?n.clientWidth:n.offsetWidth;return n.scrollHeight>t||n.scrollWidth>e},WP=function(n,t){t===void 0&&(t=document.documentElement);for(var e=[],r=n;r&&r!==t;)DS(r)&&e.push(r),r=r.parentElement;return e};function BS(){var n=M.useRef(!0);return M.useEffect(function(){n.current=!1},[]),n.current}var cs=typeof window>"u"?global:window,YP=["webkit","ms","moz","o"],or=cs.requestAnimationFrame,kn=cs.cancelAnimationFrame;if((!or||!kn)&&(YP.some(function(n){return or=cs[n+"RequestAnimationFrame"],kn=cs[n+"CancelAnimationFrame"]||cs[n+"CancelRequestAnimationFrame"],or&&kn}),!or||!kn)){var L_=0;or=function(n){var t=Date.now(),e=Math.max(0,16-(t-L_)),r=setTimeout(function(){n(),L_=t+e},e);return r},kn=function(n){clearTimeout(n)}}or=or.bind(cs);kn=kn.bind(cs);var XP=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},KP=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};function Qc(n){var t=null,e=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t&&kn(t),t=or(function(){n.apply(void 0,KP([],XP(r),!1)),t=null})};return e.cancel=function(){kn(t),t=null},e}var LS=function(){if(typeof Map<"u")return Map;function n(t,e){var r=-1;return t.some(function(i,s){return i[0]===e?(r=s,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var r=n(this.__entries__,e),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(e,r){var i=n(this.__entries__,e);~i?this.__entries__[i][1]=r:this.__entries__.push([e,r])},t.prototype.delete=function(e){var r=this.__entries__,i=n(r,e);~i&&r.splice(i,1)},t.prototype.has=function(e){return!!~n(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];e.call(r,o[1],o[0])}},t}()}(),Bg=typeof window<"u"&&typeof document<"u"&&window.document===document,Jc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),qP=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),ZP=2;function QP(n,t){var e=!1,r=!1,i=0;function s(){e&&(e=!1,n()),r&&a()}function o(){qP(s)}function a(){var l=Date.now();if(e){if(l-i<ZP)return;r=!0}else e=!0,r=!1,setTimeout(o,t);i=l}return a}var JP=20,t2=["top","right","bottom","left","width","height","size","weight"],e2=typeof MutationObserver<"u",n2=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=QP(this.refresh.bind(this),JP)}return n.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},n.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},n.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},n.prototype.connect_=function(){!Bg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),e2?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Bg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=e===void 0?"":e,i=t2.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),jS=function(n,t){for(var e=0,r=Object.keys(t);e<r.length;e++){var i=r[e];Object.defineProperty(n,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return n},Vo=function(n){var t=n&&n.ownerDocument&&n.ownerDocument.defaultView;return t||Jc},NS=Sd(0,0,0,0);function th(n){return parseFloat(n)||0}function j_(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+th(s)},0)}function r2(n){for(var t=["top","right","bottom","left"],e={},r=0,i=t;r<i.length;r++){var s=i[r],o=n["padding-"+s];e[s]=th(o)}return e}function i2(n){var t=n.getBBox();return Sd(0,0,t.width,t.height)}function s2(n){var t=n.clientWidth,e=n.clientHeight;if(!t&&!e)return NS;var r=Vo(n).getComputedStyle(n),i=r2(r),s=i.left+i.right,o=i.top+i.bottom,a=th(r.width),l=th(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==t&&(a-=j_(r,"left","right")+s),Math.round(l+o)!==e&&(l-=j_(r,"top","bottom")+o)),!a2(n)){var u=Math.round(a+s)-t,c=Math.round(l+o)-e;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Sd(i.left,i.top,a,l)}var o2=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Vo(n).SVGGraphicsElement}:function(n){return n instanceof Vo(n).SVGElement&&typeof n.getBBox=="function"}}();function a2(n){return n===Vo(n).document.documentElement}function l2(n){return Bg?o2(n)?i2(n):s2(n):NS}function u2(n){var t=n.x,e=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return jS(o,{x:t,y:e,width:r,height:i,top:e,right:t+r,bottom:i+e,left:t}),o}function Sd(n,t,e,r){return{x:n,y:t,width:e,height:r}}var c2=function(){function n(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Sd(0,0,0,0),this.target=t}return n.prototype.isActive=function(){var t=l2(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},n}(),h2=function(){function n(t,e){var r=u2(e);jS(this,{target:t,contentRect:r})}return n}(),d2=function(){function n(t,e,r){if(this.activeObservations_=[],this.observations_=new LS,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return n.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new c2(t)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(r){return new h2(r.target,r.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),FS=typeof WeakMap<"u"?new WeakMap:new LS,zS=function(){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=n2.getInstance(),r=new d2(t,e,this);FS.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){zS.prototype[n]=function(){var t;return(t=FS.get(this))[n].apply(t,arguments)}});var $S=function(){return typeof Jc.ResizeObserver<"u"?Jc.ResizeObserver:zS}(),f2=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ji=function(n){f2(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.componentWillUnmount=function(){e.resizeObserver&&e.destroyResizeObserver()},e.createResizeObserver=function(){var r=e.props.throttle,i=r===void 0?!0:r,s=function(l){var u,c;(c=(u=e.props).onResize)===null||c===void 0||c.call(u,l)},o=i?GP(s):s,a=!0;e.resizeObserver=new $S(function(l){a&&(a=!1,s(l)),o(l)}),e.resizeObserver.observe(Bl.findDOMNode(e))},e.destroyResizeObserver=function(){e.resizeObserver&&e.resizeObserver.disconnect(),e.resizeObserver=null},e}return t.prototype.componentDidMount=function(){E.isValidElement(this.props.children)?this.createResizeObserver():console.warn("The children of ResizeObserver is invalid.")},t.prototype.componentDidUpdate=function(){!this.resizeObserver&&Bl.findDOMNode(this)&&this.createResizeObserver()},t.prototype.render=function(){return this.props.children},t}(E.Component),nl=aa?M.useEffect:M.useLayoutEffect,p2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function g2(n){var t=p2(M.useState({value:n,resolve:function(i){}}),2),e=t[0],r=t[1];return M.useEffect(function(){e.resolve(e.value)},[e]),[e.value,function(i){return new Promise(function(s){r(function(o){var a=i;return typeof i=="function"&&(a=i(o.value)),{value:a,resolve:s}})})}]}var Lg=function(){return Lg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lg.apply(this,arguments)},m2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function v2(n,t){var e=n.className,r=n.style,i=n.children,s=m2(n,["className","style","children"]),o=M.useContext(Mt).getPrefixCls,a=o("btn-group"),l=at(a,e);return E.createElement("div",Lg({ref:t,className:l,style:r},s),i)}var GS=E.forwardRef(v2);GS.displayName="ButtonGroup";var rl=function(){return rl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rl.apply(this,arguments)},y2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},_2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},b2=/^[\u4e00-\u9fa5]{2}$/;function w2(n){var t=[],e=!1;return E.Children.forEach(n,function(r){var i=typeof r=="string"||typeof r=="number";if(i&&e){var s=t.length-1,o=t[s];t[s]=""+o+r}else t.push(r);e=i}),E.Children.map(t,function(r){return typeof r=="string"?E.createElement("span",null,r):r})}var x2={htmlType:"button",type:"default",shape:"square"};function C2(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.size,o=r.autoInsertSpaceInButton,a=r.componentConfig,l=r.rtl,u=$e(n,x2,a==null?void 0:a.Button),c=u.style,h=u.className,d=u.children,f=u.htmlType,p=u.type,g=u.status,_=u.size,m=u.shape,y=u.href,v=u.anchorProps,b=u.disabled,x=u.loading,w=u.loadingFixedWidth,C=u.icon,S=u.iconOnly,k=u.onClick,O=u.long,T=y2(u,["style","className","children","htmlType","type","status","size","shape","href","anchorProps","disabled","loading","loadingFixedWidth","icon","iconOnly","onClick","long"]),I=x?E.createElement(bd,null):C,R=_2(M.useState(!1),2),N=R[0],j=R[1],P=M.useRef(),B=t||P;M.useEffect(function(){if(o&&B&&B.current){var K=B.current.textContent;b2.test(K)?N||j(!0):N&&j(!1)}},[B.current,o]);var A=i("btn"),$=p==="default"?"secondary":p,L=at(A,A+"-"+$,A+"-size-"+(_||s),A+"-shape-"+m,(e={},e[A+"-long"]=O,e[A+"-status-"+g]=g,e[A+"-loading-fixed-width"]=w,e[A+"-loading"]=x,e[A+"-link"]=y,e[A+"-icon-only"]=S||!d&&d!==0&&I,e[A+"-disabled"]=b,e[A+"-two-chinese-chars"]=N,e[A+"-rtl"]=l,e),h),G=function(K){if(x||b){typeof(K==null?void 0:K.preventDefault)=="function"&&K.preventDefault();return}k&&k(K)},V=E.createElement(E.Fragment,null,I,w2(d));if(y){var W=rl({},v);return b?delete W.href:W.href=y,E.createElement("a",rl({ref:B},T,W,{style:c,className:L,onClick:G}),V)}return E.createElement("button",rl({ref:B},T,{style:c,className:L,type:f,disabled:b,onClick:G}),V)}var S2=M.forwardRef(C2),Yr=S2;Yr.__BYTE_BUTTON=!0;Yr.Group=GS;Yr.displayName="Button";function N_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function F_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function E2(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=F_(F_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-search")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"}))}var eh=E.forwardRef(E2);eh.defaultProps={isIcon:!0};eh.displayName="IconSearch";function O2(n){var t=M.useRef();return M.useEffect(function(){t.current=n}),t.current}var k2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function In(n,t){var e=t||{},r=e.defaultValue,i=e.value,s=M.useRef(!0),o=O2(i),a=k2(M.useState(Wr(i)?Wr(r)?n:r:i),2),l=a[0],u=a[1];M.useEffect(function(){if(s.current){s.current=!1;return}i===void 0&&o!==i&&u(i)},[i]);var c=Wr(i)?l:i;return[c,u,l]}var jg=function(){return jg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jg.apply(this,arguments)},T2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},A2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},HS=E.forwardRef(function(n,t){var e,r=M.useContext(Mt).getPrefixCls,i=n.className,s=n.style,o=n.placeholder,a=n.disabled,l=n.searchButton,u=n.loading,c=n.defaultValue,h=n.addAfter,d=n.suffix,f=T2(n,["className","style","placeholder","disabled","searchButton","loading","defaultValue","addAfter","suffix"]),p=Pt(n.maxLength)?n.maxLength.length:n.maxLength,g=Pt(n.maxLength)&&n.maxLength.errorOnly?void 0:p,_=A2(In("",{defaultValue:"defaultValue"in n?Uo(n.defaultValue,g):void 0,value:"value"in n?Uo(n.value,g):void 0}),2),m=_[0],y=_[1],v=r("input-search"),b=at(v,(e={},e[v+"-button"]=l,e),i),x=function(){!a&&n.onSearch&&n.onSearch(m)};return E.createElement(Hi,jg({},ze(f,["onSearch"]),{disabled:a,className:b,style:s,ref:t,placeholder:o,addAfter:h!==void 0?h:l?E.createElement(Yr,{disabled:a,size:f.size,className:v+"-btn",type:"primary",onClick:x,loading:u,loadingFixedWidth:!0,icon:l===!0&&!u&&E.createElement(eh,null)},l!==!0&&l):null,suffix:d!==void 0?d:!l&&(u?E.createElement(bd,null):E.createElement(eh,{onClick:x})),onChange:function(w,C){y(w),n.onChange&&n.onChange(w,C)},defaultValue:c,onPressEnter:function(w){x(),n.onPressEnter&&n.onPressEnter(w)}}))});HS.displayName="Search";var M2=`
  position: absolute;
  min-height: 0 !important;
  max-height: none;
  height:0;
  visibility: hidden;
  z-index: -100;
  top: 0;
  right: 0;
`,P2=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","width"],mi;function I2(n){mi||(mi=document.createElement("textarea"),document.body.appendChild(mi));var t=window.getComputedStyle(n),e=`
    `+P2.map(function(o){return o+":"+t.getPropertyValue(o)}).join(";")+`
  `;mi.setAttribute("style",""+M2+e);var r=parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom")),i=t.getPropertyValue("box-sizing"),s=parseFloat(t.getPropertyValue("border-top-width"))+parseFloat(t.getPropertyValue("border-bottom-width"));return{paddingSize:r,boxSizing:i,borderSize:s}}function R2(n,t){var e=function(){var m,y;return Pt(n)&&(m=n.minRows,y=n.maxRows),{minRows:m,maxRows:y}};if(n){var r=e(),i=r.minRows,s=r.maxRows,o=t,a=I2(o),l=a.paddingSize,u=a.boxSizing,c=a.borderSize;mi.value=o.value||o.placeholder||"";var h=mi.scrollHeight+c,d=void 0,f=void 0,p=void 0;if(i||s){mi.value="";var g=mi.scrollHeight-l;Zn(i)&&(d=g*i,u==="border-box"&&(d+=l,d+=c),h=Math.max(h,d)),Zn(s)&&(f=g*s,u==="border-box"&&(f+=l,f+=c),p=h>f?"auto":"",f=Math.min(h,f))}var _={};return _.height=h,d&&(_.minHeight=d),f&&(_.maxHeight=f),p&&(_.overflowY=p),_}}var ru={key:"Enter",code:13},z_={key:"Escape",code:27},D2={key:"ArrowUp",code:38},B2={key:"ArrowDown",code:40},VS={key:"ArrowLeft",code:37},US={key:"ArrowRight",code:39},L2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function WS(n){var t=n.value,e=n.maxLength,r=n.onChange,i=n.onKeyDown,s=n.onPressEnter,o=n.beforeTriggerValueChangeCallback,a=n.normalizeHandler,l=M.useRef(!1),u=L2(M.useState(""),2),c=u[0],h=u[1],d=function(f,p){o&&o(f),r&&f!==t&&(e===void 0||f.length<=e)&&r(f,p)};return{compositionValue:c,triggerValueChangeCallback:d,compositionHandler:function(f){l.current=f.type!=="compositionend",l.current||(h(void 0),d(f.target.value,f))},valueChangeHandler:function(f){var p=f.target.value;l.current?(l.current=!1,h(p)):(c&&h(void 0),d(p,f))},keyDownHandler:function(f){var p=f.keyCode||f.which;if(!l.current&&(i&&i(f),p===ru.code)){s&&s(f);var g=a==null?void 0:a("onPressEnter");g&&d(g(f.target.value),f)}}}}var il=function(){return il=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},il.apply(this,arguments)},j2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Nf=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},N2=function(n,t){var e,r,i,s=n.className,o=n.style,a=n.wrapperStyle,l=n.placeholder,u=n.disabled,c=n.error,h=n.maxLength,d=n.showWordLimit,f=n.allowClear,p=n.onChange,g=n.onClear,_=n.onKeyDown,m=n.onPressEnter,y=n.status,v=n.clearIcon,b=j2(n,["className","style","wrapperStyle","placeholder","disabled","error","maxLength","showWordLimit","allowClear","onChange","onClear","onKeyDown","onPressEnter","status","clearIcon"]),x=Pt(h)?h.length:h,w=Pt(h)?h.errorOnly?void 0:h.length:h,C=M.useRef(),S=Nf(M.useState({}),2),k=S[0],O=S[1],T=Nf(In("",{defaultValue:"defaultValue"in n?Uo(n.defaultValue,w):void 0,value:"value"in n?Uo(n.value,w):void 0}),2),I=T[0],R=T[1],N=WS({value:I,maxLength:w,onChange:p,onKeyDown:_,onPressEnter:m,beforeTriggerValueChangeCallback:function(pt){!("value"in n)&&(w===void 0||pt.length<=w)&&R(pt)}}),j=N.compositionValue,P=N.compositionHandler,B=N.valueChangeHandler,A=N.keyDownHandler,$=N.triggerValueChangeCallback,L=j||I||"",G=M.useContext(Mt),V=G.getPrefixCls,W=G.rtl,K=V("textarea");u&&(k.resize="none");var lt=function(){if(C.current&&C.current.focus){if(C.current.setSelectionRange){var pt=C.current.textContent.length;C.current.setSelectionRange(pt,pt)}C.current.focus()}},D=function(){var pt=R2(n.autoSize,C.current);pt&&O(pt)},F=function(pt){pt.stopPropagation(),lt(),$("",pt),g==null||g()};nl(function(){D()},[L]),M.useImperativeHandle(t,function(){return{dom:C.current,focus:function(){lt()},blur:function(){C.current&&C.current.blur&&C.current.blur()}}},[]);var H=I?I.length:0,Z=x&&d||f,tt=M.useMemo(function(){return!w&&x?H>x:!1},[H,x,w]),ct=y||(c||tt?"error":void 0),et=at(K,(e={},e[K+"-"+ct]=ct,e[K+"-disabled"]=u,e[K+"-rtl"]=W,e),s),rt=E.createElement("textarea",il({},ze(b,["autoSize","defaultValue"]),{maxLength:w,ref:C,style:il(il({},o),k),className:et,placeholder:l,disabled:u,value:L,onChange:B,onKeyDown:A,onCompositionStart:P,onCompositionUpdate:P,onCompositionEnd:P}));if(Z){var Q=!u&&f&&I,U=Nf(W?[x,H]:[H,x],2),X=U[0],gt=U[1];return E.createElement("div",{className:at(K+"-wrapper",(r={},r[K+"-clear-wrapper"]=f,r[K+"-wrapper-rtl"]=W,r)),style:a},rt,Q?v!==void 0?E.createElement("span",{className:K+"-clear-icon",onClick:F,onMouseDown:function(pt){pt.preventDefault()}},v):E.createElement(kS,{className:K+"-clear-icon"},E.createElement(yd,{onClick:F,onMouseDown:function(pt){pt.preventDefault()}})):null,x&&d&&E.createElement("span",{className:at(K+"-word-limit",(i={},i[K+"-word-limit-error"]=tt,i))},X,"/",gt))}return rt},YS=E.forwardRef(N2);YS.displayName="TextArea";function $_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function G_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function F2(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=G_(G_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-eye")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z",clipRule:"evenodd"}),E.createElement("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"}))}var Qv=E.forwardRef(F2);Qv.defaultProps={isIcon:!0};Qv.displayName="IconEye";function H_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function V_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):H_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function z2(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=V_(V_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-eye-invisible")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"}),E.createElement("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"}))}var Jv=E.forwardRef(z2);Jv.defaultProps={isIcon:!0};Jv.displayName="IconEyeInvisible";function Ed(n){var t=M.useCallback(function(e){return{onKeyDown:function(r){var i,s,o,a,l,u,c=r.keyCode||r.which;c===ru.code&&((i=e.onPressEnter)===null||i===void 0||i.call(e,r)),c===B2.code&&((s=e.onArrowDown)===null||s===void 0||s.call(e,r)),c===VS.code&&((o=e.onArrowLeft)===null||o===void 0||o.call(e,r)),c===US.code&&((a=e.onArrowRight)===null||a===void 0||a.call(e,r)),c===D2.code&&((l=e.onArrowUp)===null||l===void 0||l.call(e,r)),(u=void 0)===null||u===void 0||u.call(n,r)}}},[]);return t}var Qs=function(){return Qs=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qs.apply(this,arguments)},$2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},G2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},XS=E.forwardRef(function(n,t){var e,r=G2(In(!1,{defaultValue:n.defaultVisibility,value:n.visibility}),2),i=r[0],s=r[1],o=M.useContext(Mt).getPrefixCls,a=Ed(),l=n.className,u=n.visibilityToggle,c=u===void 0?!0:u,h=n.onVisibilityChange,d=$2(n,["className","visibilityToggle","onVisibilityChange"]),f=o("input-password"),p=at(f,(e={},e[f+"-visibility"]=c,e),l),g=function(b){"visibility"in n||s(b),h&&h(b)},_=n.suffix,m=function(){g(!i)};if(c){var y=Qs({onClick:m,onMouseDown:function(b){return b.preventDefault()},onMouseUp:function(b){return b.preventDefault()}},a({onPressEnter:m}));if(n.suffix)_=E.createElement("span",Qs({},y),n.suffix);else{var v=i?Qv:Jv;_=E.createElement(v,Qs({},y,{focusable:void 0,"aria-hidden":void 0,tabIndex:0,className:f+"-visibility-icon"}))}}return E.createElement(Hi,Qs({},ze(d,["visibility","defaultVisibility"]),{type:i?"text":"password",className:p,ref:t,suffix:_}))});XS.displayName="Password";function H2(n){return typeof n=="string"?n.replace(/(\s{2,})|(\s{1,}$)/g,function(t){return"".repeat(t.length)}):n}var _n=function(){return _n=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_n.apply(this,arguments)},V2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},U2=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},W2=2,Y2=function(n){if(!n)return{};var t=window.getComputedStyle(n),e=["font","letterSpacing","overflow","tabSize","textIndent","textTransform","whiteSpace","wordBreak","wordSpacing","paddingLeft","paddingRight","borderLeft","borderRight","boxSizing"];return e.reduce(function(r,i){return r[i]=t[i],r},{})},KS=E.forwardRef(function(n,t){var e,r=n.allowClear,i=n.disabled,s=n.placeholder,o=n.className,a=n.style,l=n.height,u=n.prefixCls,c=n.hasParent,h=n.size,d=n.value,f=n.autoFitWidth,p=n.onClear,g=n.readOnly,_=n.onChange,m=n.onKeyDown,y=n.onPressEnter,v=n.maxLength,b=n.clearIcon,x=V2(n,["allowClear","disabled","placeholder","className","style","height","prefixCls","hasParent","size","value","autoFitWidth","onClear","readOnly","onChange","onKeyDown","onPressEnter","maxLength","clearIcon"]),w=ze(x,["error","status","showWordLimit","className","defaultValue","addBefore","addAfter","afterStyle","beforeStyle","prefix","suffix","normalize","normalizeTrigger","autoWidth"]),C=U2(M.useState(),2),S=C[0],k=C[1],O=Ed(),T=M.useRef(),I=M.useRef(),R=M.useRef(null),N=Pt(v)?v.errorOnly?void 0:v.length:v,j=function(F){var H,Z=n.normalizeTrigger||["onBlur"];return Array.isArray(Z)&&Z.indexOf(F)>-1&&fn(n.normalize)&&(H=n.normalize),H},P=WS({value:d,maxLength:N,onChange:_,onKeyDown:m,onPressEnter:y,normalizeHandler:j}),B=P.compositionValue,A=P.valueChangeHandler,$=P.compositionHandler,L=P.keyDownHandler,G=P.triggerValueChangeCallback,V=at(u,u&&(e={},e[u+"-size-"+h]=h,e[u+"-"+n.status]=n.status,e[u+"-disabled"]=i,e[u+"-autowidth"]=f,e),c?void 0:o),W=_n(_n({"aria-invalid":n.status==="error"||void 0},w),{readOnly:g,maxLength:N,disabled:i,placeholder:s,value:B||d||"",className:V,onKeyDown:L,onChange:A,onCompositionStart:function(F){var H;(H=x.onCompositionStart)===null||H===void 0||H.call(x,F),$(F)},onCompositionUpdate:function(F){var H;(H=x.onCompositionUpdate)===null||H===void 0||H.call(x,F),$(F)},onCompositionEnd:function(F){var H;(H=x.onCompositionEnd)===null||H===void 0||H.call(x,F),$(F)},onBlur:function(F){var H;(H=n.onBlur)===null||H===void 0||H.call(n,F);var Z=j("onBlur");Z&&G(Z(F.target.value),F)}});M.useImperativeHandle(t,function(){return{dom:T.current,focus:function(){T.current&&T.current.focus&&T.current.focus()},blur:function(){T.current&&T.current.blur&&T.current.blur()}}},[]);var K=function(){if(I.current&&T.current){var F=I.current.offsetWidth;T.current.style.width=F+W2+"px"}};M.useEffect(function(){f&&((!Pt(f)||!f.pure)&&k(Y2(T==null?void 0:T.current)),K())},[f]);var lt=W.value||s,D=function(F){T.current&&T.current.focus&&T.current.focus(),G("",F),p==null||p()};return E.createElement(E.Fragment,null,r?E.createElement(E.Fragment,null,E.createElement("input",_n({ref:T},W)),!g&&!i&&r&&d?b!==void 0?E.createElement("span",_n({tabIndex:0,className:u+"-clear-icon"},O({onPressEnter:D}),{onClick:function(F){F.stopPropagation(),D(F)},onMouseDown:function(F){F.preventDefault()}}),b):E.createElement(kS,_n({tabIndex:0,className:u+"-clear-icon"},O({onPressEnter:D}),{onClick:function(F){F.stopPropagation(),D(F)}}),E.createElement(yd,{onMouseDown:function(F){F.preventDefault()}})):null):E.createElement("input",_n({ref:T},W,{style:c?{}:_n(_n({minWidth:Pt(f)?f.minWidth:void 0,maxWidth:Pt(f)?f.maxWidth:void 0},a),"height"in n?{height:l}:{})})),f&&E.createElement(ji,{onResize:function(){var F=I.current.offsetWidth;if(typeof f=="object"){var H=typeof f.delay=="function"?f.delay(F,R.current):f.delay;H?setTimeout(K,H):K()}else K();R.current=F}},E.createElement("span",{className:at(u+"-mirror"),style:c?S:_n(_n(_n({},S),a),"height"in n?{height:l}:{}),ref:I},H2(lt))))});KS.displayName="InputComponent";var Ng=function(){return Ng=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ng.apply(this,arguments)},X2=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},qS=E.forwardRef(function(n,t){var e,r=M.useContext(Mt).getPrefixCls,i=n.className,s=n.style,o=n.children,a=n.compact,l=X2(n,["className","style","children","compact"]),u=r("input-group"),c=at(u,(e={},e[u+"-compact"]=a,e),i);return E.createElement("div",Ng({ref:t,className:c,style:s},l),o)});qS.displayName="InputGroup";var Br=function(){return Br=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Br.apply(this,arguments)},Ff=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},K2=function(n){n.target.tagName!=="INPUT"&&n.preventDefault()},ju=function(n,t,e,r){return e===void 0&&(e={}),t?E.createElement("span",{style:e,className:n,onClick:r},t):null};function Uo(n,t){var e=n!==null&&!Wr(n)&&!oa(n)?String(n):n||"";return t?e.slice(0,t):e}function q2(n,t){var e,r,i,s=M.useContext(Mt),o=s.getPrefixCls,a=s.size,l=s.componentConfig,u=s.rtl,c=$e(n,{},l==null?void 0:l.Input),h=c.className,d=c.style,f=c.addBefore,p=c.addAfter,g=c.suffix,_=c.prefix,m=c.beforeStyle,y=c.afterStyle,v=c.height,b=c.disabled,x=c.maxLength,w=c.showWordLimit,C=c.allowClear,S=c.autoWidth,k=S?Br({minWidth:0,maxWidth:"100%"},Pt(S)?S:{}):null,O=Br({minWidth:k==null?void 0:k.minWidth,maxWidth:k==null?void 0:k.maxWidth,width:k&&"auto"},d),T=Pt(x)?x.length:x,I=Pt(x)&&x.errorOnly?void 0:T,R=Ff(M.useState(!1),2),N=R[0],j=R[1],P=M.useRef(),B=M.useRef(),A=Ff(In("",{defaultValue:"defaultValue"in c?Uo(c.defaultValue,I):void 0,value:"value"in c?Uo(c.value,I):void 0}),2),$=A[0],L=A[1];M.useImperativeHandle(t,function(){return P.current},[]);var G=function(X,gt){"value"in c||L(X),c.onChange&&c.onChange(X,gt)},V=o("input"),W=c.size||a,K="height"in c,lt=g,D=$?$.length:0,F=M.useMemo(function(){return!I&&T?D>T:!1},[D,T,I]);if(T&&w){var H=Ff(u?[T,D]:[D,T],2),Z=H[0],tt=H[1];lt=E.createElement("span",{className:at(V+"-word-limit",(e={},e[V+"-word-limit-error"]=F,e))},Z,"/",tt)}var ct=at(V+"-group-wrapper",V+"-group-wrapper-"+W,(r={},r[V+"-custom-height"]=K,r[V+"-has-suffix"]=lt,r[V+"-group-wrapper-disabled"]=b,r[V+"-group-wrapper-rtl"]=u,r[V+"-group-wrapper-autowidth"]=k,r),h),et=c.status||(c.error||F?"error":void 0),rt=f||p||lt||_,Q=E.createElement(KS,Br({ref:P},c,{autoFitWidth:!!k,style:O,status:et,onFocus:function(X){j(!0),c.onFocus&&c.onFocus(X)},onBlur:function(X){j(!1),c.onBlur&&c.onBlur(X)},onChange:G,prefixCls:V,value:$,hasParent:!!rt||C,size:W})),U=at(V+"-inner-wrapper",(i={},i[V+"-inner-wrapper-"+et]=et,i[V+"-inner-wrapper-disabled"]=b,i[V+"-inner-wrapper-focus"]=N,i[V+"-inner-wrapper-has-prefix"]=_,i[V+"-inner-wrapper-"+W]=W,i[V+"-clear-wrapper"]=C,i[V+"-inner-wrapper-rtl"]=u,i));return rt?E.createElement("div",{className:ct,style:Br(Br({},O),K?{height:v}:{})},E.createElement("span",{className:V+"-group"},ju(V+"-group-addbefore",f,m),E.createElement("span",{className:U,ref:B,onMouseDown:function(X){X.target.tagName!=="INPUT"&&B.current&&Zc(B.current,X.target)&&X.preventDefault()},onClick:function(X){B.current&&Zc(B.current,X.target)&&P.current&&P.current.focus()}},ju(V+"-group-prefix",_),Q,ju(V+"-group-suffix",lt)),ju(V+"-group-addafter",p,y))):C?E.createElement("span",{className:at(h,U),style:Br(Br({},O),K?{height:v}:{}),onMouseDown:K2,onClick:function(){P.current&&P.current.focus()}},Q):Q}var Hi=E.forwardRef(q2);Hi.displayName="Input";Hi.Search=HS;Hi.TextArea=YS;Hi.Password=XS;Hi.Group=qS;var Z2=function(n){var t=n.getContainer,e=n.children,r=M.useRef(),i=BS();return(i||r.current===null)&&!aa&&(r.current=t()),M.useEffect(function(){return function(){var s=r.current;s&&s.parentNode&&(s.parentNode.removeChild(s),r.current=null)}},[]),r.current?ja.createPortal(e,r.current):null},Js=function(){return Js=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Js.apply(this,arguments)},to=0,nh=function(n,t){var e=t.position,r=n.getBoundingClientRect(),i=r.width,s=r.height,o=r.left,a=r.right,l=r.top,u=r.bottom,c=t.boundaryDistance||{},h="left"in c&&c.left||to,d="top"in c&&c.top||to,f,p,g,_;return["bottom","bl","br"].indexOf(e)>-1?(g=l,_=u):(g=l-d,_=u-d),["right","rt","rb"].indexOf(e)>-1?(f=o,p=a):(f=o-h,p=a-h),{width:i,height:s,left:f,right:p,top:g,bottom:_}};function Q2(n,t,e,r){if(!e||!n||aa)return{left:0,width:0,height:0,top:0};var i=function(g){return document.documentElement[g]||document.body[g]},s=e===document.body?i("scrollTop"):e.scrollTop,o=e===document.body?i("scrollLeft"):e.scrollLeft,a=t.left,l=t.top,u=t.width,c=t.height,h=e===document.body?0:nh(e,r).left,d=e===document.body?0:nh(e,r).top,f=l+s-d,p=a+o-h;return{left:p,top:f,width:u,height:c}}var Nn=function(n,t,e){return e<n?n:e>t?t:e},J2=function(n,t){var e=0,r=0,i={};t?i=Js({left:12,right:12,top:12,bottom:12},n):i=Js({},n);for(var s in i)if(sa(i[s])){var o=0;["top","bottom"].indexOf(s)>-1?(o=1,e=i[s][0]):r=i[s][1],i[s]=i[s][o]}return Js(Js({},i),{horizontalOffset:e,verticalOffset:r})},tI=function(n,t,e){var r=e.boundaryDistance,i=e.position;return t?{left:t.clientX,top:t.clientY,width:0,height:0,right:t.clientX,bottom:t.clientY}:nh(n,{boundaryDistance:r,position:i})},eI=function(n){var t=n.offsetWidth,e=n.offsetHeight;return{width:t,height:e}},nI=function(n){var t,e,r=n||{},i="left"in r?r.left:"right"in r?r.right:to,s="top"in r?r.top:"bottom"in r?r.bottom:to,o=(((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||window.innerHeight)-(s||to),a=(((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||window.innerWidth)-(i||to);return{windowHeight:o,windowWidth:a}};const rI=function(n,t,e,r,i){var s=n.autoAlignPopupWidth,o=n.autoAlignPopupMinWidth,a=n.alignPoint,l=n.style;if(!e||!t||!r)return{};var u={},c=!n.alignPoint&&n.boundaryDistance||{},h=tI(e,a&&i,{boundaryDistance:c,position:n.position}),d=Q2(e,h,r,{boundaryDistance:c,position:n.position}),f=d.left,p=d.top,g=d.width,_=d.height,m=J2(n.popupAlign,n.showArrow),y=m.left||0,v=m.right||0,b=m.top||0,x=m.bottom||0;s&&(l==null?void 0:l.width)===void 0&&(t.style.width=e.offsetWidth+"px"),o&&(t.style.minWidth=e.offsetWidth+"px");var w=eI(t),C=n.position,S={},k=function(A){if(n.autoFitPosition){var $=nI(c),L=$.windowHeight,G=$.windowWidth,V=!1,W={left:f-h.left,top:p-h.top},K=u.top,lt=K===void 0?0:K,D=u.left,F=D===void 0?0:D;if((A==="top"||A==="bottom")&&(W.left>F&&h.right>12?(u.left=Math.max(W.left,f-w.width),u.left=Math.max(u.left,f-w.width+24)):F-W.left+w.width>G&&G-h.left>12&&(u.left=Math.max(W.left,W.left+G-w.width),u.left=Math.max(u.left,f-w.width+24))),(A==="left"||A==="right")&&(W.top>lt&&h.bottom>12?(u.top=W.top,u.top=Math.max(u.top,p-w.height+h.height/2)):lt-W.top+w.height>L&&L-h.top>12&&(u.top=Math.max(W.top,W.top+L-w.height),u.top=Math.max(u.top,p-w.height+h.height/2))),A==="top"&&W.top>lt&&(h.top<L-h.bottom?(u.top=Math.min(p+_+(b||0),W.top+L-w.height),V=!0):u.top=W.top),A==="bottom"&&lt-W.top+w.height>L&&(L-h.bottom<h.top?(u.top=Math.max(p-w.height-(x||0),W.top),V=!0):u.top=W.top+L-w.height),A==="left"&&W.left>F&&(h.left<G-h.right?(u.left=Math.min(g+f+v,W.left+G-w.width),V=!0):u.left=W.left),A==="right"&&F-W.left+w.width>G&&(G-h.right<h.left?(u.left=Math.max(f-w.width-y,W.left),V=!0):u.left=W.left+G-w.width),u.left<0)u.left=0;else{var H=r.scrollWidth-w.width;u.left=Math.min(H,u.left)}return V}},O=m.horizontalOffset||0,T=m.verticalOffset||0;switch(n.position){case"top":{u.top=p-w.height-b,u.left=f+g/2-w.width/2,k("top")&&(C="bottom"),u.left+=O;var I=f-Number(u.left)+g/2;S.left=Nn(12,w.width-12,I);break}case"tl":u.top=p-w.height-b,u.left=f,k("top")&&(C="bl"),u.left+=O;var R=f-Number(u.left)+Math.min(g/2,50);S.left=Nn(12,w.width-12,R);break;case"tr":u.top=-t.clientHeight+p-b,u.left=f+g-w.width,k("top")&&(C="br"),u.left+=O,R=f-Number(u.left)+Math.max(g/2,g-50),S.left=Nn(12,w.width-12,R);break;case"bottom":{u.top=_+p+x,u.left=f+g/2-w.width/2,k("bottom")&&(C="top"),u.left+=O;var N=f-Number(u.left)+g/2;S.left=Nn(12,w.width-12,N);break}case"bl":u.top=_+p+x,u.left=f,k("bottom")&&(C="tl"),u.left+=O,R=f-Number(u.left)+Math.min(g/2,50),S.left=Nn(12,w.width-12,R);break;case"br":u.top=_+p+x,u.left=f+g-w.width,k("bottom")&&(C="tr"),u.left+=O,R=f-Number(u.left)+Math.max(g/2,g-50),S.left=Nn(12,w.width-12,R);break;case"left":{u.top=p+_/2-w.height/2,u.left=f-w.width-y,k("left")&&(C="right"),u.top+=T;var j=p-Number(u.top)+_/2;S.top=Nn(12,w.height-12,j);break}case"lt":u.top=p,u.left=f-w.width-y,k("left")&&(C="rt"),u.top+=T;var P=p-Number(u.top)+Math.min(_/2,50);S.top=Nn(12,w.height-12,P);break;case"lb":u.top=p+_-w.height,u.left=f-w.width-y,k("left")&&(C="rb"),u.top+=T,P=p-Number(u.top)+Math.max(_/2,_-50),S.top=Nn(12,w.height-12,P);break;case"right":{u.top=p+_/2-w.height/2,u.left=g+f+v,k("right")&&(C="left"),u.top+=T;var B=p-Number(u.top)+_/2;S.top=Nn(12,w.height-12,B);break}case"rt":u.top=p,u.left=g+f+v,k("right")&&(C="lt"),u.top+=T,P=p-Number(u.top)+Math.min(_/2,50),S.top=Nn(12,w.height-12,P);break;case"rb":u.top=p+_-w.height,u.left=g+f+v,k("right")&&(C="lb"),u.top+=T,P=p-Number(u.top)+Math.max(_/2,_-50),S.top=Nn(12,w.height-12,P);break}return{style:u,arrowStyle:S,realPosition:C}};function iI(n,t,e,r){var i=t||{},s=e||{},o=n||{},a=r?new Set(r):new Set(Object.keys(o).concat(Object.keys(i)).concat(Object.keys(s))),l={};return a.forEach(function(u){o[u]!==void 0?l[u]=o[u]:u in s?l[u]=s[u]:u in i&&(l[u]=i[u])}),l}var sI=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ve=function(){return ve=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ve.apply(this,arguments)};function U_(n,t){if(!n)return{};var e=nh(n,t),r=e.width,i=e.height,s=e.left,o=e.right;return{width:r,height:i,left:s,right:o}}var ZS=["onClick","onMouseEnter","onMouseLeave","onMouseMove","onFocus","onBlur","onContextMenu","onKeyDown"];function oI(n,t){var e={},r=ve({},n);return t.forEach(function(i){n&&i in n&&(e[i]=n[i],delete r[i])}),{picked:e,omitted:r}}var aI={blurToHide:!0,classNames:"fadeIn",trigger:"hover",position:"bottom",duration:200,unmountOnExit:!0,popupAlign:{},popupHoverStay:!0,clickOutsideToClose:!0,escToClose:!1,mouseLeaveToClose:!0,containerScrollToClose:!1,getDocument:function(){return window.document},autoFixPosition:!0,mouseEnterDelay:100,mouseLeaveDelay:100,autoFitPosition:!0},lI=function(n){sI(t,n);function t(e,r){var i=n.call(this,e,r)||this;i.delayTimer=null,i.updatePositionTimer=null,i.popupOpen=!1,i.mousedownToHide=!1,i.hasPopupMouseDown=!1,i.unmount=!1,i.isDidMount=!1,i.mouseLocation={clientX:0,clientY:0},i.observerContainer=null,i.scrollElements=null,i.resizeObserver=new $S(function(){i.handleUpdatePosition()}),i.childrenDom=null,i.childrenDomSize={},i.getMergedProps=function(a){var l=i.context.componentConfig,u=iI(a&&Pt(a)?a:i.props,aI,l==null?void 0:l.Trigger,a&&sa(a)?a:void 0);return u},i.getRootElement=function(){return i.childrenDom=Bl.findDOMNode(i),i.childrenDom},i.offScrollListeners=function(){(i.scrollElements||[]).forEach(function(a){Me(a,"scroll",i.handleScroll)}),i.scrollElements=null},i.offWindowResize=function(){i.handleWindowResize=!1,Me(window,"resize",i.handleUpdatePosition)},i.offContainerResize=function(){i.resizeObserver&&i.observerContainer&&(i.resizeObserver.unobserve(i.observerContainer),i.observerContainer=null)},i.handleScroll=function(){var a=i.getMergedProps(["containerScrollToClose","updateOnScroll"]);a.containerScrollToClose?i.setPopupVisible(!1):a.updateOnScroll&&i.handleUpdatePosition()},i.onContainersScroll=function(a){var l,u;i.scrollElements||(i.scrollElements=WP(i.childrenDom,(l=i.popupContainer)===null||l===void 0?void 0:l.parentNode),a.containerScrollToClose&&((u=i.popupContainer)===null||u===void 0?void 0:u.parentNode)===document.body&&i.scrollElements.indexOf(document.body)===-1&&DS(document.documentElement)&&i.scrollElements.push(window),i.scrollElements.forEach(function(c){Ae(c,"scroll",i.handleScroll)}))},i.onContainerResize=function(){var a,l=(a=i.popupContainer)===null||a===void 0?void 0:a.parentNode;i.resizeObserver&&i.observerContainer!==l&&(i.offContainerResize(),l&&i.resizeObserver.observe(l),i.observerContainer=l)},i.handleUpdatePosition=Qc(function(){i.updatePopupPosition()}),i.isClickTrigger=function(){var a=i.getMergedProps(["trigger"]).trigger;return[].concat(a).indexOf("click")>-1},i.isFocusTrigger=function(){var a=i.getMergedProps(["trigger"]).trigger;return[].concat(a).indexOf("focus")>-1},i.isHoverTrigger=function(){var a=i.getMergedProps(["trigger"]).trigger;return[].concat(a).indexOf("hover")>-1},i.isContextMenuTrigger=function(){var a=i.getMergedProps(["trigger"]).trigger;return[].concat(a).indexOf("contextMenu")>-1},i.isMouseLeaveToClose=function(){return i.isHoverTrigger()&&i.getMergedProps(["mouseLeaveToClose"]).mouseLeaveToClose},i.isPopupHoverHide=function(){return i.isHoverTrigger()&&!i.getMergedProps(["popupHoverStay"]).popupHoverStay},i.isClickToHide=function(){if(i.isClickTrigger()||i.isContextMenuTrigger()){var a=i.getMergedProps(["clickToClose"]).clickToClose,l=a===void 0?!0:a;return l}return i.isHoverTrigger()&&i.props.clickToClose},i.isBlurToHide=function(){return i.isFocusTrigger()&&i.getMergedProps(["blurToHide"]).blurToHide},i.clearTimer=function(){i.updatePositionTimer&&(i.updatePositionTimer.cancel?i.updatePositionTimer.cancel():(clearTimeout(i.updatePositionTimer),i.updatePositionTimer=null)),i.delayTimer&&(clearTimeout(i.delayTimer),i.delayTimer=null),i.mouseDownTimeout&&(clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=null)},i.offClickOutside=function(){if(i.handleClickOutside){var a=i.getMergedProps(["getDocument"]).getDocument,l=fn(a)&&a();Me(l,"mousedown",i.onClickOutside),i.handleClickOutside=!1}},i.getTransformOrigin=function(a){var l,u,c=i.triggerRef;if(!c)return{};var h=i.getMergedProps(["showArrow","classNames"]),d=h.showArrow,f=h.classNames,p=d&&((l=i.arrowStyle)===null||l===void 0?void 0:l.top)||0,g=d&&((u=i.arrowStyle)===null||u===void 0?void 0:u.left)||0;p=p?p+"px":"",g=g?g+"px":"";var _={top:(g||"50%")+" 100% 0",tl:(g||"15px")+" 100% 0",tr:(g||c.clientWidth-15+"px")+" 100% 0",bottom:(g||"50%")+" 0 0",bl:(g||"15px")+" 0 0",br:(g||c.clientWidth-15+"px")+" 0 0",left:"100% "+(p||"50%")+" 0",lt:"100% "+(p||"15px")+" 0",lb:"100% "+(p||c.clientHeight-15+"px")+" 0",right:"0 "+(p||"50%")+" 0",rt:"0 "+(p||"15px")+" 0",rb:"0 "+(p||c.clientHeight-15+"px")+" 0"};if(f&&f.indexOf("zoom")>-1)return{transformOrigin:_[a]};if(f==="slideDynamicOrigin"){var m="0% 0%";return["top","tl","tr"].indexOf(a)>-1&&(m="100% 100%"),{transformOrigin:m}}return{}},i.getTransformTranslate=function(){if(i.getMergedProps(["classNames"]).classNames!=="slideDynamicOrigin")return"";switch(i.realPosition){case"bottom":case"bl":case"br":return"scaleY(0.9) translateY(-4px)";case"top":case"tl":case"tr":return"scaleY(0.9) translateY(4px)";default:return""}},i.getPopupStyle=function(){if(!(i.unmount||!i.popupContainer)){var a=i.popupContainer,l=i.triggerRef,u=i.getRootElement();if(!u.offsetParent&&!u.getClientRects().length)return i.state.popupStyle;var c=i.getMergedProps(),h=rI(c,l,u,a,i.mouseLocation),d=h.style,f=h.arrowStyle,p=h.realPosition;return i.realPosition=p||c.position,i.arrowStyle=f||{},ve(ve({},d),i.getTransformOrigin(i.realPosition))}},i.showPopup=function(a){a===void 0&&(a=function(){});var l=i.getPopupStyle();i.setState({popupStyle:l},a)},i.update=Qc(function(a){if(!(i.unmount||!i.state.popupVisible)){var l=i.getPopupStyle();i.setState({popupStyle:l},function(){a==null||a()})}}),i.updatePopupPosition=function(a,l){a===void 0&&(a=0);var u=i.state.popupVisible;if(u){if(a<4){i.updatePositionTimer=i.update(l);return}i.updatePositionTimer=setTimeout(function(){var c=i.getPopupStyle();i.setState({popupStyle:c},function(){l==null||l()})},a)}},i.setPopupVisible=function(a,l,u){l===void 0&&(l=0);var c=i.getMergedProps(["onVisibleChange","popupVisible"]),h=c.onVisibleChange,d=i.state.popupVisible;a!==d?i.delayToDo(l,function(){h&&h(a),"popupVisible"in c?u==null||u():a?i.setState({popupVisible:!0},function(){i.showPopup(u)}):i.setState({popupVisible:!1},function(){u==null||u()})}):u==null||u()},i.delayToDo=function(a,l){a?(i.clearDelayTimer(),i.delayTimer=setTimeout(function(){l(),i.clearDelayTimer()},a)):l()},i.onClickOutside=function(a){var l=i.getMergedProps(["onClickOutside","clickOutsideToClose"]),u=l.onClickOutside,c=l.clickOutsideToClose,h=i.triggerRef,d=i.getRootElement();!Zc(h,a.target)&&!Zc(d,a.target)&&!i.hasPopupMouseDown&&(u==null||u(),c&&!i.isBlurToHide()&&!i.isHoverTrigger()&&i.setPopupVisible(!1))},i.onKeyDown=function(a){var l=a.keyCode||a.which;i.triggerPropsEvent("onKeyDown",a),l===z_.code&&i.onPressEsc(a)},i.onPressEsc=function(a){var l=i.getMergedProps(["escToClose"]).escToClose;l&&a&&a.key===z_.key&&i.state.popupVisible&&i.setPopupVisible(!1)},i.onMouseEnter=function(a){var l=i.getMergedProps(["mouseEnterDelay"]).mouseEnterDelay;i.triggerPropsEvent("onMouseEnter",a),i.clearDelayTimer(),i.setPopupVisible(!0,l||0)},i.onMouseMove=function(a){i.triggerPropsEvent("onMouseMove",a),i.setMouseLocation(a),i.state.popupVisible&&i.update()},i.onMouseLeave=function(a){var l=i.getMergedProps(["mouseLeaveDelay"]).mouseLeaveDelay;i.clearDelayTimer(),i.triggerPropsEvent("onMouseLeave",a),i.isMouseLeaveToClose()&&i.state.popupVisible&&i.setPopupVisible(!1,l||0)},i.onPopupMouseEnter=function(){i.clearDelayTimer()},i.onPopupMouseLeave=function(a){i.onMouseLeave(a)},i.setMouseLocation=function(a){i.getMergedProps(["alignPoint"]).alignPoint&&(i.mouseLocation={clientX:a.clientX,clientY:a.clientY})},i.onContextMenu=function(a){a.preventDefault(),i.triggerPropsEvent("onContextMenu",a),i.setMouseLocation(a),i.state.popupVisible?i.getMergedProps(["alignPoint"]).alignPoint&&i.update():i.setPopupVisible(!0,0)},i.clickToHidePopup=function(a){var l=i.state.popupVisible;l&&(i.mousedownToHide=!0),i.triggerPropsEvent("onClick",a),i.isClickToHide()&&l&&i.setPopupVisible(!l,0)},i.onClick=function(a){var l=i.state.popupVisible;l&&(i.mousedownToHide=!0),i.triggerPropsEvent("onClick",a),i.setMouseLocation(a),!(!i.isClickToHide()&&l)&&i.setPopupVisible(!l,0)},i.onFocus=function(a){var l=i.getMergedProps(["focusDelay"]).focusDelay,u=function(){i.triggerPropsEvent("onFocus",a)};i.clearDelayTimer(),i.mousedownToHide||(i.state.popupVisible?u==null||u():i.setPopupVisible(!0,l||0,u)),i.mousedownToHide=!1},i.onBlur=function(a){i.setPopupVisible(!1,200,function(){return i.triggerPropsEvent("onBlur",a)})},i.onResize=function(){i.getMergedProps(["autoFixPosition"]).autoFixPosition&&i.state.popupVisible&&i.updatePopupPosition()},i.onPopupMouseDown=function(){i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=setTimeout(function(){i.hasPopupMouseDown=!1},0)},i.getChild=function(){var a,l=i.props.children,u=l,c=u&&typeof u!="string"&&u.type,h=l;if(["string","number"].indexOf(typeof l)>-1||E.Children.count(l)>1)h=E.createElement("span",null,l);else if(u&&c&&(c.__BYTE_BUTTON===!0||c.__BYTE_CHECKBOX===!0||c.__BYTE_SWITCH===!0||c.__BYTE_RADIO===!0||c==="button")&&u.props.disabled){var d=oI(u.props.style,["position","left","right","top","bottom","float","display","zIndex"]),f=d.picked,p=d.omitted;h=E.createElement("span",{className:(a=u.props)===null||a===void 0?void 0:a.className,style:ve(ve({display:"inline-block"},f),{cursor:"not-allowed"})},E.cloneElement(u,{style:ve(ve({},p),{pointerEvents:"none"}),className:void 0}))}return h||E.createElement("span",null)},i.appendToContainer=function(a){if(kn(i.rafId),i.isDidMount){var l=i.context.getPopupContainer,u=i.getMergedProps(["getPopupContainer"]).getPopupContainer,c=u||l,h=i.getRootElement(),d=c(h);if(d){d.appendChild(a);return}}i.rafId=or(function(){i.appendToContainer(a)})},i.getContainer=function(){var a=document.createElement("div");return a.style.width="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",i.popupContainer=a,i.appendToContainer(a),a},i.triggerPropsEvent=function(a,l){var u=i.getChild(),c=u&&u.props&&u.props[a],h=i.getMergedProps([a])[a];fn(c)&&c(l),fn(h)&&h(l)},i.triggerOriginEvent=function(a){var l=i.getChild(),u=l&&l.props&&l.props[a],c=i.getMergedProps([a])[a];return fn(c)&&fn(u)?function(h){u(h),c(h)}:u||c};var s=i.getMergedProps(e),o="popupVisible"in s?s.popupVisible:s.defaultPopupVisible;return i.popupOpen=!!o,i.state={popupVisible:!!o,popupStyle:{}},i}return t.getDerivedStateFromProps=function(e,r){return"popupVisible"in e&&e.popupVisible!==r.popupVisible?{popupVisible:e.popupVisible}:null},t.prototype.componentDidMount=function(){this.componentDidUpdate(this.getMergedProps()),this.isDidMount=!0,this.unmount=!1,this.childrenDom=this.getRootElement(),this.state.popupVisible&&(this.childrenDomSize=U_(this.childrenDom,{boundaryDistance:this.props.alignPoint?void 0:this.props.boundaryDistance,position:this.props.position}))},t.prototype.componentDidUpdate=function(e){var r=this.getMergedProps(e),i=this.getMergedProps();!r.popupVisible&&i.popupVisible&&this.update();var s=this.state.popupVisible;this.popupOpen=s;var o=i.getDocument;if(!s){this.offClickOutside(),this.offContainerResize(),this.offWindowResize(),this.offScrollListeners();return}var a=U_(this.childrenDom,{boundaryDistance:this.props.alignPoint?{}:this.props.boundaryDistance,position:this.props.position});if(JSON.stringify(a)!==JSON.stringify(this.childrenDomSize)&&(this.updatePopupPosition(),this.childrenDomSize=a),this.onContainerResize(),(i.updateOnScroll||i.containerScrollToClose)&&this.onContainersScroll(i),this.handleWindowResize||(Ae(window,"resize",this.handleUpdatePosition),this.handleWindowResize=!0),!this.handleClickOutside){var l=fn(o)&&o();l&&(Ae(l,"mousedown",this.onClickOutside,{capture:Pt(i.clickOutsideToClose)?i.clickOutsideToClose.capture:!1}),this.handleClickOutside=!0)}},t.prototype.componentWillUnmount=function(){this.unmount=!0,this.offClickOutside(),this.clearTimer(),this.offWindowResize(),this.offScrollListeners(),this.offContainerResize(),kn(this.rafId)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.render=function(){var e,r,i,s=this,o,a=this.getMergedProps(),l=a.children,u=a.style,c=a.className,h=a.arrowProps,d=a.disabled,f=a.popup,p=a.classNames,g=a.duration,_=a.unmountOnExit,m=a.alignPoint,y=a.autoAlignPopupWidth,v=a.position,b=a.childrenPrefix,x=a.showArrow,w=a.popupStyle,C=a.__onExit,S=a.__onExited,k=l||l===0,O=this.context,T=O.getPrefixCls,I=O.zIndex,R=O.rtl,N=this.state,j=N.popupVisible,P=N.popupStyle;if(!f)return null;var B={},A={onMouseDown:this.onPopupMouseDown};this.isHoverTrigger()&&!d?(B.onMouseEnter=this.onMouseEnter,B.onMouseLeave=this.onMouseLeave,this.isClickToHide()&&(B.onClick=this.clickToHidePopup),m&&(B.onMouseMove=this.onMouseMove),this.isPopupHoverHide()||(A.onMouseEnter=this.onPopupMouseEnter,A.onMouseLeave=this.onPopupMouseLeave)):(B.onMouseEnter=this.triggerOriginEvent("onMouseEnter"),B.onMouseLeave=this.triggerOriginEvent("onMouseLeave")),this.isContextMenuTrigger()&&!d?(B.onContextMenu=this.onContextMenu,B.onClick=this.clickToHidePopup):B.onContextMenu=this.triggerOriginEvent("onContextMenu"),this.isClickTrigger()&&!d?B.onClick=this.onClick:B.onClick=B.onClick||this.triggerOriginEvent("onClick"),this.isFocusTrigger()&&!d?(B.onFocus=this.onFocus,this.isBlurToHide()&&(B.onBlur=this.onBlur)):(B.onFocus=this.triggerOriginEvent("onFocus"),B.onBlur=this.triggerOriginEvent("onBlur")),d?B.onKeyDown=this.triggerOriginEvent("onKeyDown"):B.onKeyDown=this.onKeyDown;var $=this.getChild(),L=E.Children.only(f());$.props.className&&(B.className=$.props.className),b&&j&&(B.className=B.className?B.className+" "+b+"-open":b+"-open"),this.isFocusTrigger()&&(B.tabIndex=d?-1:0);var G=T("trigger"),V=at(G,b,G+"-position-"+v,(e={},e[G+"-rtl"]=R,e),c),W=k&&E.createElement(ji,{onResize:this.onResize},E.cloneElement($,ve({},B))),K=E.createElement(vd,{in:!!j,timeout:g,classNames:p,unmountOnExit:_,appear:!0,mountOnEnter:!0,onEnter:function(D){D.style.display="initial",D.style.pointerEvents="none",p==="slideDynamicOrigin"&&(D.style.transform=s.getTransformTranslate())},onEntering:function(D){p==="slideDynamicOrigin"&&(D.style.transform="")},onEntered:function(D){D.style.pointerEvents="auto",s.forceUpdate()},onExit:function(D){D.style.pointerEvents="none",C==null||C(D)},onExited:function(D){D.style.display="none",_&&(s.triggerRef=null),s.setState({popupStyle:{}}),S==null||S(D)}},E.createElement(ji,{onResize:function(){var D=s.triggerRef;if(D){var F=s.getPopupStyle(),H=s.props.style||{};D.style.top=String(H.top||F.top+"px"),D.style.left=String(H.left||F.left+"px")}s.onResize()}},E.createElement("span",ve({ref:function(D){return s.triggerRef=D},"trigger-placement":this.realPosition,style:ve(ve(ve({width:y&&(u==null?void 0:u.width)===void 0?(o=this.childrenDomSize)===null||o===void 0?void 0:o.width:""},P),{position:"absolute",zIndex:I||""}),u)},A,{className:V},Cd(this.props)),E.createElement(L.type,ve({ref:L.ref},L.props,{style:ve(ve({},L.props.style),w)})),(x||h)&&E.createElement("div",{className:at(G+"-arrow-container",(r={},r[b+"-arrow-container"]=b,r))},E.createElement("div",ve({},h,{className:at(G+"-arrow",(i={},i[b+"-arrow"]=b,i),h==null?void 0:h.className),style:ve(ve({},this.arrowStyle),h==null?void 0:h.style)})))))),lt=j||this.triggerRef?E.createElement(Z2,{getContainer:this.getContainer},K):null;return k?E.createElement(E.Fragment,null,W,lt):lt},t.displayName="Trigger",t.contextType=Mt,t}(M.PureComponent);const QS=lI;function W_(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Y_(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):W_(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function uI(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=Y_(Y_({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-down")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M39.6 17.443 24.043 33 8.487 17.443"}))}var Od=E.forwardRef(uI);Od.defaultProps={isIcon:!0};Od.displayName="IconDown";var Lr=function(){return Lr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lr.apply(this,arguments)},cI=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},hI={position:"top",trigger:"hover",escToClose:!1,unmountOnExit:!0,blurToHide:!0,popupHoverStay:!0},dI={enter:300,exit:100},fI={left:12,right:12,top:12,bottom:12};function pI(n,t){var e=M.useContext(Mt),r=e.getPrefixCls,i=e.componentConfig,s=$e(n,hI,i==null?void 0:i.Tooltip),o=s.style,a=s.className,l=s.children,u=s.trigger,c=s.escToClose,h=s.defaultPopupVisible,d=s.position,f=s.unmountOnExit,p=s.popupVisible,g=s.prefixCls,_=s.blurToHide,m=s.popupHoverStay,y=s.disabled,v=s.onVisibleChange,b=s.triggerProps,x=s.childrenPrefix,w=s.getPopupContainer,C=s.content,S=s.mini,k=s.color,O=cI(s,["style","className","children","trigger","escToClose","defaultPopupVisible","position","unmountOnExit","popupVisible","prefixCls","blurToHide","popupHoverStay","disabled","onVisibleChange","triggerProps","childrenPrefix","getPopupContainer","content","mini","color"]),T=M.useRef(),I=function(P,B){P===void 0&&(P=0),T.current&&T.current.updatePopupPosition(P,B)};M.useImperativeHandle(t,function(){return{updatePopupPosition:I}},[]);var R=g||r("tooltip"),N=Lr(Lr(Lr(Lr({},Zv(O,ZS)),Cd(O)),b),{className:at(a,b==null?void 0:b.className)}),j=fn(C)?C():C;return"popupVisible"in s?N.popupVisible=p:Mg(j)&&(N.popupVisible=!1),(N.showArrow!==!1||N.arrowProps)&&(N.arrowProps=N.arrowProps||{},k&&(N.arrowProps.style=Lr({backgroundColor:k},N.arrowProps.style))),E.createElement(QS,Lr({style:Lr({maxWidth:350},o),ref:T,classNames:"zoomInFadeOut",duration:dI,popup:function(){var P;return E.createElement("div",{style:{backgroundColor:k},className:at(R+"-content",R+"-content-"+d,(P={},P[R+"-mini"]=S,P)),role:"tooltip"},E.createElement("div",{className:R+"-content-inner"},j))},position:d,disabled:y,trigger:u,escToClose:c,showArrow:!0,popupAlign:fI,mouseEnterDelay:200,mouseLeaveDelay:200,unmountOnExit:f,popupHoverStay:m,blurToHide:_,childrenPrefix:x||R,getPopupContainer:w,onVisibleChange:v,defaultPopupVisible:h},N),l)}var ys=M.forwardRef(pI);ys.displayName="Tooltip";var rh=function(){return rh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rh.apply(this,arguments)},gI=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},mI={position:"top",trigger:"hover",unmountOnExit:!0};function vI(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,mI,s==null?void 0:s.Popover),l=a.style,u=a.className,c=a.children,h=a.position,d=a.getPopupContainer,f=a.trigger,p=a.defaultPopupVisible,g=a.popupVisible,_=a.triggerProps,m=a.unmountOnExit,y=a.onVisibleChange,v=a.content,b=a.title,x=gI(a,["style","className","children","position","getPopupContainer","trigger","defaultPopupVisible","popupVisible","triggerProps","unmountOnExit","onVisibleChange","content","title"]),w=i("popover"),C=fn(b)?b():b,S=fn(v)?v():v,k=Mg(C)&&Mg(S)?null:E.createElement("div",{className:at(w+"-inner",(e={},e[w+"-inner-rtl"]=o,e))},C?E.createElement("div",{className:w+"-title"},C):null,E.createElement("div",{className:w+"-inner-content"},S));return E.createElement(ys,rh({},x,{ref:t,style:rh({maxWidth:350},l),className:u,prefixCls:w,getPopupContainer:d,position:h,trigger:f,content:k,popupHoverStay:!0,unmountOnExit:m,triggerProps:_,defaultPopupVisible:p,onVisibleChange:y||(_?_.onVisibleChange:void 0),childrenPrefix:w},"popupVisible"in a?{popupVisible:g}:{}),typeof c=="string"?E.createElement("span",null,c):c)}var JS=M.forwardRef(vI);JS.displayName="Popover";var yI=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function _I(){var n=yI(M.useReducer(function(e){return e+1},0),2),t=n[1];return t}var bI=Array.isArray,ty=bI,wI=ty,xI=xd,CI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SI=/^\w*$/;function EI(n,t){if(wI(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||xI(n)?!0:SI.test(n)||!CI.test(n)||t!=null&&n in Object(t)}var OI=EI,kI=PS,TI=nu,AI="[object AsyncFunction]",MI="[object Function]",PI="[object GeneratorFunction]",II="[object Proxy]";function RI(n){if(!TI(n))return!1;var t=kI(n);return t==MI||t==PI||t==AI||t==II}var DI=RI,BI=wd,LI=BI["__core-js_shared__"],jI=LI,zf=jI,X_=function(){var n=/[^.]+$/.exec(zf&&zf.keys&&zf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function NI(n){return!!X_&&X_ in n}var FI=NI,zI=Function.prototype,$I=zI.toString;function GI(n){if(n!=null){try{return $I.call(n)}catch{}try{return n+""}catch{}}return""}var HI=GI,VI=DI,UI=FI,WI=nu,YI=HI,XI=/[\\^$.*+?()[\]{}|]/g,KI=/^\[object .+?Constructor\]$/,qI=Function.prototype,ZI=Object.prototype,QI=qI.toString,JI=ZI.hasOwnProperty,tR=RegExp("^"+QI.call(JI).replace(XI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eR(n){if(!WI(n)||UI(n))return!1;var t=VI(n)?tR:KI;return t.test(YI(n))}var nR=eR;function rR(n,t){return n==null?void 0:n[t]}var iR=rR,sR=nR,oR=iR;function aR(n,t){var e=oR(n,t);return sR(e)?e:void 0}var tE=aR,lR=tE,uR=lR(Object,"create"),kd=uR,K_=kd;function cR(){this.__data__=K_?K_(null):{},this.size=0}var hR=cR;function dR(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var fR=dR,pR=kd,gR="__lodash_hash_undefined__",mR=Object.prototype,vR=mR.hasOwnProperty;function yR(n){var t=this.__data__;if(pR){var e=t[n];return e===gR?void 0:e}return vR.call(t,n)?t[n]:void 0}var _R=yR,bR=kd,wR=Object.prototype,xR=wR.hasOwnProperty;function CR(n){var t=this.__data__;return bR?t[n]!==void 0:xR.call(t,n)}var SR=CR,ER=kd,OR="__lodash_hash_undefined__";function kR(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=ER&&t===void 0?OR:t,this}var TR=kR,AR=hR,MR=fR,PR=_R,IR=SR,RR=TR;function la(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}la.prototype.clear=AR;la.prototype.delete=MR;la.prototype.get=PR;la.prototype.has=IR;la.prototype.set=RR;var DR=la;function BR(){this.__data__=[],this.size=0}var LR=BR;function jR(n,t){return n===t||n!==n&&t!==t}var NR=jR,FR=NR;function zR(n,t){for(var e=n.length;e--;)if(FR(n[e][0],t))return e;return-1}var Td=zR,$R=Td,GR=Array.prototype,HR=GR.splice;function VR(n){var t=this.__data__,e=$R(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():HR.call(t,e,1),--this.size,!0}var UR=VR,WR=Td;function YR(n){var t=this.__data__,e=WR(t,n);return e<0?void 0:t[e][1]}var XR=YR,KR=Td;function qR(n){return KR(this.__data__,n)>-1}var ZR=qR,QR=Td;function JR(n,t){var e=this.__data__,r=QR(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}var tD=JR,eD=LR,nD=UR,rD=XR,iD=ZR,sD=tD;function ua(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ua.prototype.clear=eD;ua.prototype.delete=nD;ua.prototype.get=rD;ua.prototype.has=iD;ua.prototype.set=sD;var oD=ua,aD=tE,lD=wd,uD=aD(lD,"Map"),cD=uD,q_=DR,hD=oD,dD=cD;function fD(){this.size=0,this.__data__={hash:new q_,map:new(dD||hD),string:new q_}}var pD=fD;function gD(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var mD=gD,vD=mD;function yD(n,t){var e=n.__data__;return vD(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Ad=yD,_D=Ad;function bD(n){var t=_D(this,n).delete(n);return this.size-=t?1:0,t}var wD=bD,xD=Ad;function CD(n){return xD(this,n).get(n)}var SD=CD,ED=Ad;function OD(n){return ED(this,n).has(n)}var kD=OD,TD=Ad;function AD(n,t){var e=TD(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}var MD=AD,PD=pD,ID=wD,RD=SD,DD=kD,BD=MD;function ca(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ca.prototype.clear=PD;ca.prototype.delete=ID;ca.prototype.get=RD;ca.prototype.has=DD;ca.prototype.set=BD;var LD=ca,eE=LD,jD="Expected a function";function ey(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(jD);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=e.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return e.cache=s.set(i,o)||s,o};return e.cache=new(ey.Cache||eE),e}ey.Cache=eE;var ND=ey,FD=ND,zD=500;function $D(n){var t=FD(n,function(r){return e.size===zD&&e.clear(),r}),e=t.cache;return t}var GD=$D,HD=GD,VD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UD=/\\(\\)?/g,WD=HD(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(VD,function(e,r,i,s){t.push(i?s.replace(UD,"$1"):r||e)}),t}),YD=WD;function XD(n,t){for(var e=-1,r=n==null?0:n.length,i=Array(r);++e<r;)i[e]=t(n[e],e,n);return i}var KD=XD,Z_=qv,qD=KD,ZD=ty,QD=xd,JD=1/0,Q_=Z_?Z_.prototype:void 0,J_=Q_?Q_.toString:void 0;function nE(n){if(typeof n=="string")return n;if(ZD(n))return qD(n,nE)+"";if(QD(n))return J_?J_.call(n):"";var t=n+"";return t=="0"&&1/n==-JD?"-0":t}var tB=nE,eB=tB;function nB(n){return n==null?"":eB(n)}var rB=nB,iB=ty,sB=OI,oB=YD,aB=rB;function lB(n,t){return iB(n)?n:sB(n,t)?[n]:oB(aB(n))}var uB=lB,cB=xd,hB=1/0;function dB(n){if(typeof n=="string"||cB(n))return n;var t=n+"";return t=="0"&&1/n==-hB?"-0":t}var fB=dB,pB=uB,gB=fB;function mB(n,t){t=pB(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[gB(t[e++])];return e&&e==r?n:void 0}var vB=mB,yB=vB;function _B(n,t,e){var r=n==null?void 0:yB(n,t);return r===void 0?e:r}var bB=_B;const jl=ql(bB);var wB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},Ca={};function ny(n){var t=wB(M.useState(),2),e=t[0],r=t[1];return M.useEffect(function(){Ca[n]=n in Ca?Ca[n]:0,r(Ca[n]),Ca[n]+=1},[]),typeof e=="number"?""+n+e:void 0}function t1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function e1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):t1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function xB(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=e1(e1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-more")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"}),E.createElement("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"}))}var Md=E.forwardRef(xB);Md.defaultProps={isIcon:!0};Md.displayName="IconMore";var eo=function(){return eo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eo.apply(this,arguments)},CB=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},SB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},EB={position:"br",trigger:"hover",type:"default",icon:E.createElement(Md,null),unmountOnExit:!0};function OB(n,t){var e,r=M.useContext(Mt).componentConfig,i=$e(n,EB,r==null?void 0:r["Dropdown.Button"]),s=i.className,o=i.style,a=i.children,l=i.disabled,u=i.position,c=u===void 0?"br":u,h=i.type,d=h===void 0?"default":h,f=i.size,p=i.icon,g=p===void 0?E.createElement(Md,null):p,_=i.onClick,m=i.buttonProps,y=i.buttonsRender,v=CB(i,["className","style","children","disabled","position","type","size","icon","onClick","buttonProps","buttonsRender"]),b=E.createElement(Yr,eo({disabled:l,type:d,size:f,onClick:_},m),a),x=E.createElement(Yr,{disabled:l,type:d,size:f,icon:g});y&&(e=SB(y([b,x]),2),b=e[0],x=e[1]);var w=l||!x||x.props&&x.props.loading;return E.createElement(Yr.Group,eo({className:s,style:o,ref:t},Cd(i)),b,E.createElement(Pd,eo({disabled:l,position:c},v,{triggerProps:eo({disabled:w},v==null?void 0:v.triggerProps)}),x))}var rE=M.forwardRef(OB);rE.displayName="DropdownButton";var sl=function(){return sl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sl.apply(this,arguments)},kB=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},n1=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},TB=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AB=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},MB={position:"bl",trigger:"hover",unmountOnExit:!0},PB={left:4,right:4,top:4,bottom:4};function IB(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,MB,s==null?void 0:s.Dropdown),l=a.trigger,u=a.droplist,c=a.children,h=a.position,d=a.disabled,f=a.unmountOnExit,p=a.triggerProps,g=a.getPopupContainer,_=a.onVisibleChange,m=kB(a,["trigger","droplist","children","position","disabled","unmountOnExit","triggerProps","getPopupContainer","onVisibleChange"]),y=i("dropdown"),v=M.useRef(null),b=n1(In(!1,{defaultValue:a.defaultPopupVisible,value:a.popupVisible}),2),x=b[0],w=b[1],C=function(){return E.Children.only(u||E.createElement("span",null))},S=function(T){w(T),_&&_(T),p&&p.onVisibleChange&&p.onVisibleChange(T)},k=function(T){T!==x&&S(T)},O=function(){var T,I,R,N=C();if(jl(N,"type.__ARCO_MENU__")||jl(N,"props.isMenu")){var j=!0;try{for(var P=TB(E.Children.toArray(N.props.children)),B=P.next();!B.done;B=P.next()){var A=B.value;if(A!=null){j=!1;break}}}catch($){T={error:$}}finally{try{B&&!B.done&&(I=P.return)&&I.call(P)}finally{if(T)throw T.error}}return E.cloneElement(N,{prefixCls:at(y+"-menu",(R={},R[y+"-menu-hidden"]=j,R)),inDropdown:!0,selectable:!1,onClickMenuItem:function(){for(var $,L=[],G=0;G<arguments.length;G++)L[G]=arguments[G];var V=null,W=C();W.props.onClickMenuItem&&(V=($=W.props).onClickMenuItem.apply($,AB([],n1(L),!1)));var K=v.current&&v.current.getRootElement();K&&K.focus&&K.focus(),V instanceof Promise?V.finally(function(){return S(!1)}):V!==!1&&S(!1)}})}return N};return E.createElement(QS,sl({ref:function(T){return v.current=T},classNames:"slideDynamicOrigin",childrenPrefix:y,trigger:l,popup:O,mouseEnterDelay:400,mouseLeaveDelay:400,disabled:d,unmountOnExit:f,position:h,popupVisible:x,popupAlign:PB,getPopupContainer:g,alignPoint:l==="contextMenu"},Zv(m,ZS),Cd(m),ze(p,["onVisibleChange"]),{onVisibleChange:k}),E.isValidElement(c)?E.cloneElement(c,sl(sl({},typeof d=="boolean"?{disabled:d}:{}),{className:at((e={},e[y+"-popup-visible"]=x,e[[y]+"-rtl"]=o,e),c.props.className)})):c)}var RB=E.forwardRef(IB),Pd=RB;Pd.displayName="Dropdown";Pd.Button=rE;var Qr=M.createContext({}),DB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},BB=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};function Id(n){var t=n.prefixCls,e=n.levelIndent,r=M.useContext(Qr).collapse,i=n.level-1;return!r&&i>0?E.createElement("span",null,BB([],DB(new Array(i)),!1).map(function(s,o){return E.createElement("span",{key:o,className:t+"-indent",style:{width:e}})})):null}var ar=function(){return ar=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ar.apply(this,arguments)},LB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},jB=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},iE=["popup","triggerProps","selectable"],sE=function(n){var t=[];return E.Children.forEach(n,function(e){var r,i=(r=e==null?void 0:e.type)===null||r===void 0?void 0:r.menuType;i==="MenuItem"||i==="SubMenu"?t.push(e):i==="MenuGroup"&&(t=t.concat(sE(e.props.children)))}),t},oE=function(n,t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=sE(n);return r.forEach(function(i,s){var o,a,l,u=i.key,c=i.type.menuType,h=jB([u],LB(t),!1),d={keyPath:[],prev:((a=r[s-1])===null||a===void 0?void 0:a.key)||null,next:((l=r[s+1])===null||l===void 0?void 0:l.key)||null};if(s===0||s===r.length-1){var f=h[1],p=s===0?"firstChild":"lastChild";f&&(e[f]=ar(ar({},e[f]),(o={},o[p]=u,o)))}switch(c){case"SubMenu":d.keyPath=h,oE(i.props.children,h,e);break;case"MenuItem":d.keyPath=h,d.disabled=i.props.disabled;break}e[u]=ar(ar({},e[u]),d)}),e},Rd=function(n,t){return E.Children.map(n,function(e,r){if(!e||!e.props)return e;var i=typeof e.type=="string",s=e.type&&e.type.menuType;if(!s&&e.props.children){var o=i?{}:t,a=Rd(e.props.children,t);return E.cloneElement(e,ar(ar({},o),{_key:e.key,children:a.length===1?a[0]:a}))}return i?e:E.cloneElement(e,ar(ar(ar({},t),e.props),{_key:e.key||"$menu-"+r}))})};function aE(n,t){var e=!1;function r(i){!i||e||E.Children.forEach(i,function(s){if(s&&s.props&&s.type&&!e){var o=s.type.menuType,a=s.props.selectable;(o==="MenuItem"||o==="SubMenu"&&a)&&(e=t.indexOf(s.key)!==-1),!e&&s.props.children&&r(s.props.children)}})}return r(n),e}var no=function(){return no=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},no.apply(this,arguments)},NB=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function FB(n,t){var e,r=n._key,i=n.children,s=n.level,o=n.disabled,a=n.className,l=n.style,u=n.wrapper,c=u===void 0?"div":u,h=n.onClick,d=n.renderItemInTooltip,f=NB(n,["_key","children","level","disabled","className","style","wrapper","onClick","renderItemInTooltip"]),p=M.useContext(Qr),g=p.prefixCls,_=p.mode,m=p.collapse,y=p.inDropdown,v=p.levelIndent,b=p.selectedKeys,x=p.autoScrollIntoView,w=p.scrollConfig,C=p.tooltipProps,S=p.onClickMenuItem,k=M.useRef(null),O=BS(),T=_==="vertical"&&s>1,I=m&&!y&&s===1,R=b&&~b.indexOf(r);M.useEffect(function(){var P=R&&x;k.current&&P&&setTimeout(function(){k.current&&UP(k.current,no({behavior:"smooth",block:"start",scrollMode:"if-needed",boundary:document.body},w))},O?500:0)},[R,x]);var N=function(P){o||(S(r,P),h&&h(P))},j=E.createElement(c,no({tabIndex:o?-1:0,role:"menuitem",ref:function(P){t=P,k.current=t},style:l,className:at(g+"-item",(e={},e[g+"-disabled"]=o,e[g+"-selected"]=R,e[g+"-item-indented"]=T&&!m,e),a),onClick:N,onKeyDown:function(P){var B=P.keyCode||P.which;B===ru.code&&N(P)}},ze(f,["key","_key"].concat(iE))),T&&!m?E.createElement(E.Fragment,null,E.createElement(Id,{prefixCls:g,levelIndent:v,level:s}),E.createElement("span",{className:g+"-item-inner",style:{display:"block"}},i)):i,R&&_==="horizontal"?E.createElement("div",{className:g+"-selected-label"}):null);return I?E.createElement(ys,no({trigger:"hover",position:"right",content:typeof d=="function"?d():E.createElement("span",null,i),triggerProps:no({className:g+"-item-tooltip"},(C==null?void 0:C.triggerProps)||{})},ze(C,["triggerProps"])),j):j}var zB=M.forwardRef(FB),ry=zB;ry.displayName="MenuItem";ry.menuType="MenuItem";function $B(n,t){var e=n.children,r=n.title,i=n.level,s=n.className,o=n.style,a=M.useContext(Qr),l=a.prefixCls,u=a.levelIndent,c=i===1?i+1:i,h=Rd(e,{level:c});return E.createElement("div",{ref:t,className:at(l+"-group",s),style:o},E.createElement("div",{className:l+"-group-title"},E.createElement(Id,{level:i,prefixCls:l,levelIndent:u}),E.createElement("span",null,r)),h)}var GB=M.forwardRef($B),iy=GB;iy.displayName="MenuItemGroup";iy.menuType="MenuGroup";var ol=function(){return ol=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ol.apply(this,arguments)},r1=function(n,t,e,r){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},i1=function(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){e.label=u[1];break}if(u[0]===6&&e.label<s[1]){e.label=s[1],s=u;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(u);break}s[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},HB=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},VB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},$f={height:0,visibility:"hidden"},UB=function(n){var t,e=n._key,r=n.children,i=n.style,s=n.className,o=n.title,a=n.level,l=n.forwardedRef,u=n.selectable,c=HB(n,["_key","children","style","className","title","level","forwardedRef","selectable"]),h=M.useContext(Qr),d=h.id,f=h.prefixCls,p=h.levelIndent,g=h.openKeys,_=g===void 0?[]:g,m=h.selectedKeys,y=m===void 0?[]:m,v=h.icons,b=h.onClickSubMenu,x=h.onClickMenuItem,w=f+"-inline",C=(_==null?void 0:_.indexOf(e))>-1,S=u&&y.indexOf(n._key)>-1||aE(r,y),k=VB(g2(C?{height:"auto"}:$f),2),O=k[0],T=k[1],I=function(B){b(e,a,"inline"),u&&x(e,B)},R=ny(d+"-submenu-inline-"),N=Rd(r,ol(ol({},Zv(c,iE)),{level:a+1,selectable:u})),j=E.createElement("div",{tabIndex:0,"aria-expanded":C,"aria-controls":R,className:at(w+"-header",(t={},t[f+"-selected"]=S,t)),onClick:I,onKeyDown:function(B){var A=B.keyCode||B.which;A===ru.code&&I(B)}},E.createElement(Id,{level:a,prefixCls:f,levelIndent:p}),E.createElement("span",null,o),E.createElement("span",{className:f+"-icon-suffix "+(C?"is-open":"")},v&&v.horizontalArrowDown?v.horizontalArrowDown:E.createElement(Od,null))),P=E.createElement("div",{id:R,className:at(w+"-content"),style:O},N);return E.createElement("div",ol({ref:l,className:at(w,s),style:i},ze(c,["key","popup","triggerProps"])),j,E.createElement(vd,{in:C,timeout:200,classNames:w,unmountOnExit:!1,onEnter:function(B){return r1(void 0,void 0,void 0,function(){return i1(this,function(A){switch(A.label){case 0:return[4,T($f)];case 1:return A.sent(),[4,T({height:B.scrollHeight})];case 2:return A.sent(),[2]}})})},onEntered:function(){T({height:"auto"})},onExit:function(B){return r1(void 0,void 0,void 0,function(){return i1(this,function(A){switch(A.label){case 0:return[4,T({height:B.scrollHeight})];case 1:return A.sent(),[4,T($f)];case 2:return A.sent(),[2]}})})}},P))};function s1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function o1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function WB(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=o1(o1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-right")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"m16 39.513 15.556-15.557L16 8.4"}))}var Nl=E.forwardRef(WB);Nl.defaultProps={isIcon:!0};Nl.displayName="IconRight";function a1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function l1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function YB(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=l1(l1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-left")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M32 8.4 16.444 23.956 32 39.513"}))}var Fl=E.forwardRef(YB);Fl.defaultProps={isIcon:!0};Fl.displayName="IconLeft";var ro=function(){return ro=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ro.apply(this,arguments)},XB=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},KB=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},qB=function(n){var t,e=n._key,r=n.children,i=n.style,s=n.className,o=n.title,a=n.level,l=n.selectable,u=n.forwardedRef,c=n.triggerProps,h=XB(n,["_key","children","style","className","title","level","selectable","forwardedRef","triggerProps"]),d=M.useContext(Qr),f=d.id,p=d.prefixCls,g=d.mode,_=d.inDropdown,m=d.levelIndent,y=d.selectedKeys,v=y===void 0?[]:y,b=d.icons,x=d.triggerProps,w=d.onClickSubMenu,C=d.onClickMenuItem,S=M.useContext(Mt).rtl,k=ro(ro({},x),c),O=KB(M.useState(!1),2),T=O[0],I=O[1],R=p+"-pop",N=l&&v.indexOf(n._key)>-1,j=g==="horizontal"&&!_,P=ny(f+"-submenu-pop-"),B=function(){var G=b&&b.popArrowRight?b.popArrowRight:S?E.createElement(Fl,null):E.createElement(Nl,null),V=b&&b.horizontalArrowDown?b.horizontalArrowDown:E.createElement(Od,null);return E.createElement("span",{className:p+"-icon-suffix"},j?V:G)},A=aE(r,v)||N,$=S?["br","lt"]:["bl","rt"],L=function(G){w(e,a,"pop"),l&&C(e,G)};return E.createElement(Pd,{trigger:"hover",popupVisible:T,onVisibleChange:I,droplist:E.createElement(Vi,{id:P,selectedKeys:v,onClickMenuItem:function(G,V){C(G,V),I(!1)}},r),triggerProps:ro({position:j?$[0]:$[1],showArrow:!0,autoAlignPopupMinWidth:!0,classNames:"fadeIn",duration:100,mouseEnterDelay:50,mouseLeaveDelay:50,className:at(R+"-trigger",k&&k.className)},ze(k,["className"]))},E.createElement("div",ro({tabIndex:0,"aria-haspopup":!0,"aria-expanded":T,"aria-controls":P,ref:u,style:i,className:at(R,R+"-header",(t={},t[p+"-selected"]=A,t),s),onClick:L,onKeyDown:function(G){var V=G.keyCode||G.which;V===ru.code?L(G):V===VS.code?I(!1):V===US.code&&I(!0)}},ze(h,["key","popup"])),E.createElement(Id,{prefixCls:p,levelIndent:m,level:a}),o,B(),A&&g==="horizontal"?E.createElement("div",{className:p+"-selected-label"}):null))},Fg=function(){return Fg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fg.apply(this,arguments)};function ZB(n,t){var e=n.children,r=n.popup,i=n.level,s=M.useContext(Qr),o=s.mode,a=s.collapse,l=s.inDropdown,u=s.collectInlineMenuKeys,c=!!(typeof r=="function"?r(i):r),h=c||a||l||o!=="vertical",d=h?qB:UB;return M.useEffect(function(){return u(n._key),function(){u(n._key,!0)}},[]),E.createElement(d,Fg({forwardedRef:t},n),e)}var QB=M.forwardRef(ZB),Dd=QB;Dd.displayName="SubMenu";Dd.menuType="SubMenu";function u1(n,t){if(!n||!t)return null;var e=t;e==="float"&&(e="cssFloat");try{if(document.defaultView){var r=document.defaultView.getComputedStyle(n,"");return n.style[e]||r?r[e]:""}}catch{return n.style[e]}}var c1=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},h1=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},JB=5;function d1(n){return n&&Math.ceil(+n.getBoundingClientRect().width)}function f1(n){var t=Number(n.replace("px",""));return isNaN(t)?0:t}var tL=function(n){var t=n.children,e=n.ellipsisText,r=e===void 0?"":e,i=n.onEllipsisChange,s=M.useContext(Qr).prefixCls,o=M.useRef(null),a=c1(M.useState(null),2),l=a[0],u=a[1],c=s+"-overflow-sub-menu",h=s+"-overflow-hidden-menu-item",d=s+"-overflow-sub-menu-mirror",f=function(m){if(m!==l){var y=E.Children.toArray(t),v=m===null;i==null||i({lastVisibleIndex:v?y.length-1:m,overflowNodes:v?[]:y.slice(m+1)}),u(m)}};function p(){if(o.current){for(var m=o.current,y=d1(m)-JB,v=[].slice.call(m.children),b=0,x=0,w=0,C=0;C<v.length;C++){var S=v[C],k=S.className.split(" "),O=k.indexOf(c)>-1,T=k.indexOf(d)>-1;if(!O){var I=d1(S)+f1(u1(S,"marginLeft"))+f1(u1(S,"marginRight"));if(T){w=I;continue}if(x+=I,x>y){f(b-(x-I+w<=y?1:2));return}b++}}f(null)}}var g=function(m,y){return y===void 0&&(y=!1),E.createElement(Dd,{title:E.createElement("span",null,r),key:"arco-menu-overflow-sub-menu"+(y?"-mirror":""),className:y?d:c,children:m})},_=function(){var m=null,y=g(null,!0),v=E.Children.map(t,function(b,x){var w=b;if(l!==null&&(x>l&&(w=E.cloneElement(b,{className:h})),x===l+1)){var C=E.Children.toArray(t).slice(l+1).map(function(S){return E.cloneElement(S,{key:S.props._key})});m=g(C)}return w});return h1(h1([y],c1(v),!1),[m],!1)};return E.createElement(ji,{onResize:p},E.createElement("div",{className:s+"-overflow-wrap",ref:o},_()))};function p1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function g1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function eL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=g1(g1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-drag-dot-vertical")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z"}),E.createElement("path",{d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z"}))}var sy=E.forwardRef(eL);sy.defaultProps={isIcon:!0};sy.displayName="IconDragDotVertical";function m1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function v1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):m1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function nL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=v1(v1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-drag-dot")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z"}),E.createElement("path",{d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z"}))}var oy=E.forwardRef(nL);oy.defaultProps={isIcon:!0};oy.displayName="IconDragDot";function y1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function _1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function rL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=_1(_1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-right")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M34.829 23.063c.6.48.6 1.394 0 1.874L17.949 38.44c-.785.629-1.949.07-1.949-.937V10.497c0-1.007 1.164-1.566 1.95-.937l16.879 13.503Z"}))}var ih=E.forwardRef(rL);ih.defaultProps={isIcon:!0};ih.displayName="IconCaretRight";function b1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function w1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):b1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function iL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=w1(w1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-left")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z"}))}var sh=E.forwardRef(iL);sh.defaultProps={isIcon:!0};sh.displayName="IconCaretLeft";function x1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function C1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function sL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=C1(C1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-down")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M24.938 34.829a1.2 1.2 0 0 1-1.875 0L9.56 17.949c-.628-.785-.069-1.949.937-1.949h27.007c1.006 0 1.565 1.164.937 1.95L24.937 34.829Z"}))}var ay=E.forwardRef(sL);ay.defaultProps={isIcon:!0};ay.displayName="IconCaretDown";function S1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function E1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function oL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=E1(E1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-up")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{fill:"currentColor",stroke:"none",d:"M23.063 13.171a1.2 1.2 0 0 1 1.875 0l13.503 16.88c.628.785.069 1.949-.937 1.949H10.497c-1.006 0-1.565-1.164-.937-1.95l13.503-16.879Z"}))}var ly=E.forwardRef(oL);ly.defaultProps={isIcon:!0};ly.displayName="IconCaretUp";var Qi=function(){return Qi=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qi.apply(this,arguments)},aL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function uy(n){var t,e,r=n.className,i=n.direction,s=n.icon,o=n.onMouseDown,a=n.onResize,l=n.children,u=n.collapsible,c=u===void 0?{}:u,h=n.resizable,d=h===void 0?!0:h,f=n.renderChildren,p=aL(n,["className","direction","icon","onMouseDown","onResize","children","collapsible","resizable","renderChildren"]),g=M.useContext(Mt),_=g.getPrefixCls,m=g.rtl,y=_("resizebox-trigger"),v=i==="horizontal",b=m&&!v,x=at(y,y+"-"+(v?"horizontal":"vertical"),(t={},t[y+"-not-resizable"]=!d,t),(e={},e[y+"-rtl"]=m,e),r),w=b?[E.createElement(ih,{key:"prev"}),E.createElement(sh,{key:"next"})]:[E.createElement(sh,{key:"prev"}),E.createElement(ih,{key:"next"})],C=Pt(c.prev)?Qi(Qi({},c.prev),{icon:c.prev.icon||(v?E.createElement(ly,null):w[0])}):{},S=Pt(c.next)?Qi(Qi({},c.next),{icon:c.next.icon||(v?E.createElement(ay,null):w[1])}):{},k=function(){return C.icon&&!C.collapsed||S.collapsed?E.createElement("span",{className:at(y+"-icon",at(y+"-prev")),onClick:C.onClick},C.icon):E.createElement("span",{className:at(y+"-icon-empty")})},O=function(){return S.icon&&!S.collapsed||C.collapsed?E.createElement("span",{className:at(y+"-icon",at(y+"-next")),onClick:S.onClick},S.icon):E.createElement("span",{className:at(y+"-icon-empty")})},T=function(){return d?E.createElement("span",{className:y+"-icon"},s||(v?E.createElement(oy,null):E.createElement(sy,null))):E.createElement("span",{className:at(y+"-icon-empty")})},I=k(),R=T(),N=O(),j=function(){return E.createElement("div",{className:y+"-icon-wrapper"},I,R,N)};return d?E.createElement(ji,{onResize:a},E.createElement("div",Qi({},ze(p,["style"]),{className:x,onMouseDown:o}),fn(f)?f(I,R,N):l||j())):E.createElement("div",{className:x},fn(f)?f(I,R,N):l||j())}var Gf=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},Hf="horizontal",O1="vertical";function lL(n,t){var e,r=n.style,i=n.className,s=n.component,o=s===void 0?"div":s,a=n.direction,l=a===void 0?"horizontal":a,u=n.icon,c=n.size,h=c===void 0?.5:c,d=n.min,f=n.max,p=n.panes,g=n.disabled,_=n.trigger,m=M.useContext(Mt),y=m.getPrefixCls,v=m.rtl,b=y("resizebox-split"),x=l.includes(Hf),w=l.includes("reverse"),C=x&&v,S=!x,k=at(b,b+"-"+(x?Hf:O1),(e={},e[b+"-rtl"]=v,e),i),O=Gf(p,2),T=O[0],I=O[1],R=typeof h=="string",N=Gf(M.useState(parseFloat(h)),2),j=N[0],P=N[1],B=Gf(M.useState(0),2),A=B[0],$=B[1],L=M.useRef({startX:0,startY:0,startWidth:0,startHeight:0,startOffset:0,moving:!1}),G=M.useRef(),V=M.useRef([]);M.useImperativeHandle(t,function(){return G.current},[]);function W(Q,U){return parseFloat(Q)/parseFloat(U)}function K(Q,U,X,gt){var pt=typeof d=="string"?W(parseFloat(d),Q):d||0,wt=typeof f=="string"?W(parseFloat(f),Q):f||1,Et=w?-1:1,Jt=C?-1:1;Et*=Jt;var ue=R?U+(gt-X)*Et:W(Q*U+(gt-X)*Et,Q),Ge=R?pt*Q:pt,Bt=R?wt*Q:wt;return ue=Math.max(ue,Ge),ue=Math.min(ue,Bt),ue}function lt(Q){var U,X;n.onMovingStart&&n.onMovingStart(),L.current.moving=!0,L.current.startX=Q.pageX,L.current.startY=Q.pageY,L.current.startWidth=(U=G.current)===null||U===void 0?void 0:U.offsetWidth,L.current.startHeight=(X=G.current)===null||X===void 0?void 0:X.offsetHeight,L.current.startOffset=j,Ae(window,"mousemove",D),Ae(window,"touchmove",D),Ae(window,"mouseup",F),Ae(window,"touchend",F),Ae(window,"contextmenu",F),document.body.style.cursor=S?"row-resize":"col-resize"}function D(Q){if(L.current.moving){var U=x?K(L.current.startWidth,L.current.startOffset,L.current.startX,Q.pageX):K(L.current.startHeight,L.current.startOffset,L.current.startY,Q.pageY);P(U),n.onMoving&&n.onMoving(Q,R?U+"px":U)}}function F(){L.current.moving=!1,Me(window,"mousemove",D),Me(window,"touchmove",D),Me(window,"mouseup",F),Me(window,"touchend",F),Me(window,"contextmenu",F),document.body.style.cursor="default",n.onMovingEnd&&n.onMovingEnd()}function H(Q){var U=Q[0].contentRect,X=U[S?"height":"width"];$(X)}function Z(){var Q=R?"px":"%";if(!j)return"0"+Q;var U=R?j:j*100;return"calc("+U+Q+" - "+A/2+"px)"}M.useEffect(function(){n.onPaneResize&&n.onPaneResize(V.current)},[j,A]),nl(function(){var Q=parseFloat(h);j!==Q&&P(Q)},[h]);var tt=o,ct=E.createElement("div",{className:at(b+"-pane","first-pane"),style:{flexBasis:Z()},ref:function(Q){V.current[0]=Q}},T),et=E.createElement("div",{className:at(b+"-pane","second-pane"),ref:function(Q){V.current[1]=Q}},I),rt=w?[et,ct]:[ct,et];return E.createElement(tt,{style:r,className:k,ref:G},rt[0],!g&&E.createElement(uy,{className:b+"-trigger",direction:S?Hf:O1,icon:u,onMouseDown:lt,onResize:H},_),rt[1])}var lE=M.forwardRef(lL);lE.displayName="ResizeBoxSplit";var zg=function(){return zg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zg.apply(this,arguments)},uL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Ui=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},Vf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},Uf="horizontal",k1="vertical";function cL(n,t){var e,r,i=n.panes,s=n.style,o=n.className,a=n.component,l=a===void 0?"div":a,u=n.direction,c=u===void 0?"horizontal":u,h=n.icon,d=uL(n,["panes","style","className","component","direction","icon"]),f=M.useContext(Mt),p=f.getPrefixCls,g=f.rtl,_=1/i.length,m=M.useRef(),y=M.useRef(new Array(i.length).fill({moving:!1,startOffset:0,startPosition:0})),v=M.useRef([]),b=M.useRef(0),x=M.useRef([]),w=Ui(M.useState(new Array(i.length).fill(_)),2),C=w[0],S=w[1],k=Ui(M.useState(!1),2),O=k[0],T=k[1],I=Ui(M.useState(new Array(i.length).fill(0)),2),R=I[0],N=I[1],j=Ui(M.useState(new Array(Math.max(i.length-1,0)).fill({prev:!1,next:!1})),2),P=j[0],B=j[1],A=p("resizebox-split-group"),$=c===Uf,L=$&&g,G=!$,V=at(A,A+"-"+($?Uf:k1),(e={},e[A+"-moving"]=O,e),(r={},r[A+"-rtl"]=g,r),o),W=l,K=function(){var U=[];i.forEach(function(wt){var Et=wt.size;Wr(Et)?U.push(void 0):U.push(D(Et))});var X=U.filter(function(wt){return!wt}),gt=1-U.reduce(function(wt,Et){var Jt=wt||0,ue=Et||0;return Jt+ue},0),pt=gt/X.length;return U=U.map(function(wt){return Wr(wt)?pt:wt}),U},lt=function(U){var X=R[U-1]||0,gt=R[U],pt=C[U]*100,wt="%";return"calc("+pt+wt+" - "+(X+gt)/2+"px)"};function D(U){var X=$?m.current.offsetWidth:m.current.offsetHeight;if(!U||Zn(U)&&U<0)return 0;var gt=oa(U)?parseFloat(U)/X:U;return Math.min(gt,1)}var F=function(U){var X=Math.min(U+1,i.length-1),gt=C[U]+C[X],pt=D(i[U].min)||0,wt=D(i[U].max)||gt,Et=D(i[X].min)||0,Jt=D(i[X].max)||gt;return wt=Math.min(gt-Et,wt),Jt=Math.min(gt-pt,Jt),{currentMin:pt,currentMax:wt,nextMin:Et,nextMax:Jt}},H=function(U,X,gt){var pt=b.current,wt=pt+1,Et=Vf([],Ui(C),!1),Jt=L?-1:1,ue=C[pt],Ge=C[wt],Bt=ue+Ge,Ee=F(pt),te=Ee.currentMin,He=Ee.currentMax,ce=U+D((gt-X)*Jt+"px");return ce=Math.max(te,ce),ce=Math.min(He,ce),Et[pt]=ce,Et[wt]=Bt-ce,Et};function Z(U,X){var gt=U[0].contentRect,pt=gt[G?"height":"width"],wt=Vf([],Ui(R),!1);wt[X]=pt,N(wt)}var tt=function(U){var X=i[U].collapsible;Pt(X)||(X=X?{prev:!0,next:!0}:{});var gt=X.prev,pt=X.next;if(!gt&&!pt)return{};if(!P[U])return{};var wt=!!gt||!gt&&P[U].next,Et=!!pt||!pt&&P[U].prev;return{hasPrev:wt,hasNext:Et}};function ct(U,X){n.onMovingStart&&n.onMovingStart(X),b.current=X;var gt=y.current[X];gt.moving=!0,gt.startOffset=C[X],gt.startPosition=$?U.pageX:U.pageY,T(!0),Ae(window,"mousemove",et),Ae(window,"touchmove",et),Ae(window,"mouseup",rt),Ae(window,"touchend",rt),Ae(window,"contextmenu",rt),document.body.style.cursor=G?"row-resize":"col-resize"}function et(U){var X=b.current,gt=y.current[X],pt=$?m.current.offsetWidth:m.current.offsetHeight;if(gt.moving){var wt=H(gt.startOffset,gt.startPosition,$?U.pageX:U.pageY);S(wt),x.current=wt,n.onMoving&&n.onMoving(U,wt.map(function(Et){return Et*pt+"px"}),X)}}function rt(){var U=b.current;y.current[U].moving=!1,T(!1),Me(window,"mousemove",et),Me(window,"touchmove",et),Me(window,"mouseup",rt),Me(window,"touchend",rt),Me(window,"contextmenu",rt),document.body.style.cursor="default",n.onMovingEnd&&n.onMovingEnd(U)}function Q(U,X,gt,pt){var wt=X+1,Et=Vf([],Ui(C),!1),Jt=C[X],ue=C[wt],Ge=Jt+ue,Bt=$?m.current.offsetWidth:m.current.offsetHeight,Ee=F(X),te=Ee.currentMin,He=Ee.nextMin,ce=x.current[X],Ve=x.current[wt],lf=P[X][gt];gt==="prev"?(ue!==He||Ve===He)&&(ce=te,Ve=Ge-te,lf=!0):(Jt!==te||ce===te)&&(ce=Ge-He,Ve=He,lf=!0),Et[X]=ce,Et[wt]=Ve,n.onMoving&&n.onMoving(U,Et.map(function(Uk){return Uk*Bt+"px"}),X),n.onMovingEnd&&n.onMovingEnd(X),S(Et),fn(pt)&&pt(U,X,gt,lf)}return M.useEffect(function(){var U=K();S(U),x.current=U},[JSON.stringify(i.map(function(U){return U.size}))]),M.useImperativeHandle(t,function(){return m.current},[]),M.useEffect(function(){var U=[];C.forEach(function(X,gt){var pt={prev:!1,next:!1},wt=gt+1,Et=F(gt),Jt=Et.currentMin,ue=Et.nextMin;X===Jt?pt.prev=!0:C[wt]===ue&&(pt.next=!0),U.push(pt)}),B(U)},[C]),E.createElement(W,zg({},ze(d,["onMovingStart","onPaneResize","onMoving","onMovingEnd"]),{style:s,className:V,ref:m}),i.map(function(U,X){var gt=U.content,pt=U.disabled,wt=U.trigger,Et=U.resizable,Jt=Et===void 0?!0:Et,ue=U.collapsible,Ge=ue===void 0?{}:ue,Bt=tt(X),Ee=Bt.hasPrev,te=Bt.hasNext,He=Pt(Ge)&&Pt(Ge.prev)?Ge.prev:{},ce=Pt(Ge)&&Pt(Ge.next)?Ge.next:{};return E.createElement(E.Fragment,{key:X},E.createElement("div",{className:A+"-pane",style:{flexBasis:lt(X)},ref:function(Ve){return v.current[X]=Ve}},gt),!pt&&X!==i.length-1&&E.createElement(uy,{className:A+"-trigger",direction:G?Uf:k1,icon:h,onResize:function(Ve){return Z(Ve,X)},onMouseDown:function(Ve){return ct(Ve,X)},collapsible:{prev:Ee?{onClick:function(Ve){return Q(Ve,X,"prev",He.onClick)},icon:He.icon,collapsed:P[X].prev}:void 0,next:te?{onClick:function(Ve){return Q(Ve,X,"next",ce.onClick)},icon:ce.icon,collapsed:P[X].next}:void 0},resizable:Jt,renderChildren:wt}))}))}var uE=M.forwardRef(cL);uE.displayName="ResizeBoxSplitGroup";var jr=function(){return jr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jr.apply(this,arguments)},hL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Wf=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},cE="left",$g="right",Gg="top",Hg="bottom",dL=[cE,$g,Gg,Hg],fL={component:"div",directions:["right"],resizeIcons:{},resizeTriggers:{}},pL=function(n){switch(n){case"left":return"right";case"right":return"left";default:return n}};function gL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,fL,s==null?void 0:s.ResizeBox),l=a.style,u=a.className,c=a.component,h=a.directions,d=a.resizeIcons,f=a.children,p=a.resizeTriggers,g=a.width,_=a.height,m=hL(a,["style","className","component","directions","resizeIcons","children","resizeTriggers","width","height"]),y=o?h.map(function(D){return pL(D)}):h,v=i("resizebox"),b=at(v,(e={},e[v+"-rtl"]=o,e),u),x=Wf(M.useState({}),2),w=x[0],C=x[1],S=Wf(In(void 0,{value:g}),2),k=S[0],O=S[1],T=Wf(In(void 0,{value:_}),2),I=T[0],R=T[1],N=M.useRef({startX:0,startY:0,startWidth:0,startHeight:0,direction:$g,moving:!1,padding:{top:0,bottom:0,left:0,right:0}}),j=M.useRef();M.useImperativeHandle(t,function(){return j.current},[]);function P(D){return[Gg,Hg].indexOf(D)>-1}function B(D,F){if(D===0)return 0;var H=D-F;return H<=0?0:H}function A(D){var F="data-arco-origin-cursor";if(D)document.body.setAttribute(F,document.body.style.cursor),document.body.style.cursor=D;else{var H=document.body.getAttribute(F);document.body.style.cursor=H||"",document.body.removeAttribute(F)}}function $(D,F){var H,Z;a.onMovingStart&&a.onMovingStart(),N.current.moving=!0,N.current.startX=F.pageX,N.current.startY=F.pageY,N.current.direction=D;var tt=N.current.padding,ct=tt.top,et=tt.left,rt=tt.right,Q=tt.bottom;N.current.startWidth=B((H=j.current)===null||H===void 0?void 0:H.clientWidth,et+rt),N.current.startHeight=B((Z=j.current)===null||Z===void 0?void 0:Z.clientHeight,ct+Q),Ae(window,"mousemove",L),Ae(window,"touchmove",L),Ae(window,"mouseup",G),Ae(window,"touchend",G),Ae(window,"contextmenu",G),A(P(D)?"row-resize":"col-resize")}function L(D){if(!N.current.moving)return!1;var F=N.current,H=F.startX,Z=F.startY,tt=F.startWidth,ct=F.startHeight,et=tt,rt=ct,Q=D.pageX-H,U=D.pageY-Z;switch(N.current.direction){case cE:et=tt-Q,O(et);break;case $g:et=tt+Q,O(et);break;case Gg:rt=ct-U,R(rt);break;case Hg:rt=ct+U,R(rt);break}a.onMoving&&a.onMoving(D,{width:et,height:rt})}function G(){N.current.moving=!1,V(),A(),a.onMovingEnd&&a.onMovingEnd()}function V(){Me(window,"mousemove",L),Me(window,"touchmove",L),Me(window,"mouseup",G),Me(window,"touchend",G),Me(window,"contextmenu",G)}function W(D,F){var H=P(D),Z=F[0].contentRect,tt=""+D.slice(0,1).toUpperCase()+D.slice(1),ct=Z[H?"height":"width"];N.current.padding[D]=ct,C(function(et){var rt;return jr(jr({},et),(rt={},rt["padding"+tt]=ct,rt))})}var K=jr(jr(jr(jr({},w),l||{}),Zn(k)?{width:k}:{}),Zn(I)?{height:I}:{}),lt=c;return E.createElement(lt,jr({},ze(m,["onMovingStart","onMoving","onMovingEnd"]),{style:K,className:b,ref:j}),f,y.map(function(D){if(dL.indexOf(D)!==-1)return E.createElement(uy,{key:D,className:v+"-direction-"+D,direction:P(D)?"horizontal":"vertical",icon:d[D],onMouseDown:function(F){$(D,F)},onResize:function(F){W(D,F)}},p[D])}))}var mL=M.forwardRef(gL),Bd=mL;Bd.Split=lE;Bd.SplitGroup=uE;Bd.displayName="ResizeBox";var oh=function(){return oh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oh.apply(this,arguments)},ah=["xxxl","xxl","xl","lg","md","sm","xs"],Fa={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)",xxxl:"(min-width: 2000px)"},Wi=[],vL=-1,Nu={},Wo={matchHandlers:{},dispatch:function(n,t){return Nu=n,Wi.length<1?!1:(Wi.forEach(function(e){e.func(Nu,t)}),!0)},subscribe:function(n){Wi.length===0&&this.register();var t=(++vL).toString();return Wi.push({token:t,func:n}),n(Nu,null),t},unsubscribe:function(n){Wi=Wi.filter(function(t){return t.token!==n}),Wi.length===0&&this.unregister()},unregister:function(){var n=this;Object.keys(Fa).forEach(function(t){var e=Fa[t],r=n.matchHandlers[e];r&&r.mql&&r.listener&&r.mql.removeListener(r.listener)})},register:function(){var n=this;Object.keys(Fa).forEach(function(t){var e=Fa[t],r=function(s){var o,a=s.matches;n.dispatch(oh(oh({},Nu),(o={},o[t]=a,o)),t)},i=window.matchMedia(e);i.addListener(r),n.matchHandlers[e]={mql:i,listener:r},r(i)})}},io=function(){return io=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},io.apply(this,arguments)},T1=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},hE=M.createContext({siderCollapsed:!1,collapsedWidth:64}),yL=function(){var n=0;return function(t){return t===void 0&&(t=""),n+=1,""+t+n}}();function _L(n,t){var e,r,i=n.children,s=n.className,o=n.style,a=n.theme,l=a===void 0?"light":a,u=n.trigger,c=n.reverseArrow,h=n.collapsedWidth,d=h===void 0?48:h,f=n.width,p=f===void 0?200:f,g=n.collapsible,_=n.resizeDirections,m=n.onSiderMount,y=n.onSiderUnmount,v=n.breakpoint,b=n.onBreakpoint,x=n.onCollapse,w=n.resizeBoxProps,C=w===void 0?{}:w,S=yL("arco-sider-"),k=M.useContext(Mt).getPrefixCls,O=k("layout-sider"),T=T1(In(!1,{value:"collapsed"in n?n.collapsed:void 0,defaultValue:n.defaultCollapsed}),2),I=T[0],R=T[1],N=Zn(p)?p+"px":String(p),j=Zn(d)?""+d:String(d),P=T1(M.useState(I?j:N),2),B=P[0],A=P[1],$=M.useRef(null),L=M.useRef(null);L.current={breakpoint:v,collapsed:I,onCollapse:x,onBreakpoint:b},M.useEffect(function(){return m&&m(S),g&&v in Fa&&($.current=Wo.subscribe(function(lt,D){var F=L.current,H=F.breakpoint,Z=F.collapsed,tt=F.onCollapse,ct=F.onBreakpoint;if(!D||D===H){var et=!lt[H];et!==Z&&(R(et),tt&&tt(et,"responsive")),ct&&ct(et)}})),function(){y&&y(S),$.current&&Wo.unsubscribe($.current)}},[]),M.useEffect(function(){var lt=Zn(d)?d+"px":String(d);A(I?lt:N)},[I,N,d]);var G=_&&sa(_)||((r=C.directions)===null||r===void 0?void 0:r.length),V=G?Bd:"aside",W=function(){var lt,D=u||(I?c?E.createElement(Fl,null):E.createElement(Nl,null):c?E.createElement(Nl,null):E.createElement(Fl,null));return g&&u!==null?E.createElement("div",{style:{width:B},className:at(O+"-trigger",(lt={},lt[O+"-trigger-light"]=l==="light",lt)),onClick:function(){R(!I),x&&x(!I,"clickTrigger")}},D):null},K=M.useMemo(function(){return G?io(io({component:"aside"},C),{width:B,directions:_,onMoving:function(lt,D){var F;A(D.width+"px"),(F=C==null?void 0:C.onMoving)===null||F===void 0||F.call(C,lt,D)}}):{}},[G,_,B,C]);return E.createElement(hE.Provider,{value:{siderCollapsed:I,collapsedWidth:d}},E.createElement(V,io({ref:t,style:io({width:B},o),className:at(O,(e={},e[O+"-light"]=l==="light",e[O+"-has-trigger"]=u!==null&&g,e[O+"-collapsed"]=I,e),s)},K),E.createElement("div",{className:O+"-children"},i),W()))}var bL=M.forwardRef(_L),cy=bL;cy.displayName="LayoutSider";cy.__ARCO_SIGN__="sider";var Vg=function(){return Vg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vg.apply(this,arguments)},wL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function xL(n,t){var e=M.useContext(Mt).getPrefixCls,r=n.className,i=n.children,s=wL(n,["className","children"]),o=e("layout-header"),a=at(o,r);return E.createElement("header",Vg({ref:t},s,{className:a}),i)}var dE=M.forwardRef(xL);dE.displayName="LayoutHeader";var Ug=function(){return Ug=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ug.apply(this,arguments)},CL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function SL(n,t){var e=n.className,r=n.children,i=CL(n,["className","children"]),s=M.useContext(Mt).getPrefixCls,o=s("layout-footer"),a=at(o,e);return E.createElement("footer",Ug({ref:t},i,{className:a}),r)}var fE=M.forwardRef(SL);fE.displayName="LayoutFooter";var Wg=function(){return Wg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wg.apply(this,arguments)},EL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function OL(n,t){var e=n.className,r=n.children,i=EL(n,["className","children"]),s=M.useContext(Mt).getPrefixCls,o=s("layout-content"),a=at(o,e);return E.createElement("main",Wg({ref:t},i,{className:a}),r)}var hy=M.forwardRef(OL);hy.displayName="LayoutContent";var Yg=function(){return Yg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yg.apply(this,arguments)},kL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},A1=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},M1=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};function TL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=$e(n,{},s==null?void 0:s.Layout),a=o.className,l=o.hasSider,u=o.children,c=kL(o,["className","hasSider","children"]),h=A1(M.useState([]),2),d=h[0],f=h[1],p=i("layout"),g=at(p,(e={},e[p+"-has-sider"]=typeof l=="boolean"?l:d.length>0,e),a);return E.createElement("section",Yg({ref:t},c,{className:g}),E.Children.map(u,function(_){var m=jl(_,"type.__ARCO_SIGN__")||jl(_,"props.sign");return _&&m==="sider"?E.cloneElement(_,{onSiderMount:function(y){return f(M1(M1([],A1(d),!1),[y],!1))},onSiderUnmount:function(y){return f(d.filter(function(v){return v!==y}))}}):_}))}var AL=M.forwardRef(TL),Pr=AL;Pr.displayName="Layout";Pr.Sider=cy;Pr.Header=dE;Pr.Footer=fE;Pr.Content=hy;function P1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function I1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):P1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function ML(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=I1(I1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-menu-fold")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M42 11H6M42 24H22M42 37H6M13.66 26.912l-4.82-3.118 4.82-3.118v6.236Z"}))}var dy=E.forwardRef(ML);dy.defaultProps={isIcon:!0};dy.displayName="IconMenuFold";function R1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function D1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):R1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function PL(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=D1(D1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-menu-unfold")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M6 11h36M22 24h20M6 37h36M8 20.882 12.819 24 8 27.118v-6.236Z"}))}var fy=E.forwardRef(PL);fy.defaultProps={isIcon:!0};fy.displayName="IconMenuUnfold";var al=function(){return al=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},al.apply(this,arguments)},IL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Fu=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},RL=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},DL="light",BL={mode:"vertical",selectable:!0,ellipsis:!0};function LL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,BL,s==null?void 0:s.Menu),l=a.style,u=a.children,c=a.className,h=a.prefixCls,d=a.mode,f=a.theme,p=a.icons,g=a.levelIndent,_=a.collapse,m=a.inDropdown,y=a.selectable,v=a.triggerProps,b=a.tooltipProps,x=a.ellipsis,w=a.accordion,C=a.autoOpen,S=a.autoScrollIntoView,k=a.scrollConfig,O=a.hasCollapseButton,T=a.defaultOpenKeys,I=a.defaultSelectedKeys,R=a.openKeys,N=a.selectedKeys,j=a.onClickSubMenu,P=a.onClickMenuItem,B=a.onCollapseChange,A=a.onEllipsisChange,$=IL(a,["style","children","className","prefixCls","mode","theme","icons","levelIndent","collapse","inDropdown","selectable","triggerProps","tooltipProps","ellipsis","accordion","autoOpen","autoScrollIntoView","scrollConfig","hasCollapseButton","defaultOpenKeys","defaultSelectedKeys","openKeys","selectedKeys","onClickSubMenu","onClickMenuItem","onCollapseChange","onEllipsisChange"]),L=Fu(In([],{defaultValue:T,value:R}),2),G=L[0],V=L[1],W=Fu(In([],{defaultValue:I,value:N}),2),K=W[0],lt=W[1],D=Fu(In(!1,{value:_}),2),F=D[0],H=D[1],Z=M.useContext(Qr),tt=M.useContext(hE).siderCollapsed,ct=h||i("menu"),et=tt||F||m||d==="popButton",rt=f||Z.theme||DL,Q=M.useRef([]),U=M.useRef([]),X=_I(),gt=Ed(),pt=M.useMemo(function(){return oE(u)},[u]),wt=ny(ct+"-"),Et=$.id||wt;M.useEffect(function(){var Bt=G.filter(function(te){return Q.current.indexOf(te)!==-1});if(C){var Ee=Q.current.filter(function(te){return U.current.indexOf(te)===-1});Bt=G.concat(Ee)}V(w?Bt.slice(0,1):Bt),U.current=Q.current.slice()},[Q.current.toString()]);var Jt=d!=="horizontal"&&d!=="popButton"&&!m&&O,ue=function(){var Bt=Rd(u,{level:1}),Ee=F?p&&p.collapseActive||E.createElement(fy,null):p&&p.collapseDefault||E.createElement(dy,null),te=function(){var He=!F;H(He),B&&B(He)};return E.createElement(E.Fragment,null,E.createElement("div",{className:ct+"-inner"},d==="horizontal"&&x!==!1?E.createElement(tL,{ellipsisText:Pt(x)?x.text:"",onEllipsisChange:A},Bt):Bt),Jt&&E.createElement("div",al({tabIndex:0,role:"button","aria-controls":Et,"aria-expanded":!F,className:ct+"-collapse-button",onClick:te},gt({onPressEnter:te})),Ee))},Ge=al({},l);return et&&!m&&delete Ge.width,E.createElement("div",al({id:Jt?Et:void 0,role:"menu"},ze($,["isMenu"]),{ref:t,style:Ge,className:at(ct,ct+"-"+rt,ct+"-"+(d==="horizontal"?"horizontal":"vertical"),(e={},e[ct+"-collapse"]=et,e[ct+"-pop"]=d==="pop"||et,e[ct+"-pop-button"]=d==="popButton",e[ct+"-rtl"]=o,e),c)}),E.createElement(Qr.Provider,{value:{mode:d,theme:rt,collapse:et,levelIndent:g,inDropdown:m,selectedKeys:K,openKeys:G,icons:p,triggerProps:v,tooltipProps:b,autoScrollIntoView:S,scrollConfig:k,id:Et,prefixCls:ct,collectInlineMenuKeys:function(Bt,Ee){Ee?Q.current=Q.current.filter(function(te){return te!==Bt}):Q.current.push(Bt),X()},onClickMenuItem:function(Bt,Ee){var te;y&&lt([Bt]),P&&P(Bt,Ee,(te=pt[Bt])===null||te===void 0?void 0:te.keyPath)},onClickSubMenu:function(Bt,Ee,te){var He,ce=RL([],Fu(G),!1);te==="inline"&&((G==null?void 0:G.indexOf(Bt))>-1?w&&Ee===1?ce=[]:ce=G.filter(function(Ve){return Ve!==Bt}):w&&Ee===1?ce=[Bt]:ce=G.concat([Bt])),V(ce),j&&j(Bt,ce,(He=pt[Bt])===null||He===void 0?void 0:He.keyPath)}}},ue()))}var jL=M.forwardRef(LL),Vi=jL;Vi.displayName="Menu";Vi.Item=ry;Vi.SubMenu=Dd;Vi.ItemGroup=iy;Vi.__ARCO_MENU__=!0;function pE(n,t){t===void 0&&(t=[]);var e=M.useRef(!1);M.useEffect(function(){e.current?n():e.current=!0},t)}var Xg=function(){return Xg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xg.apply(this,arguments)},NL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},FL={type:"horizontal",orientation:"center"};function zL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=$e(n,FL,s==null?void 0:s.Divider),a=o.children,l=o.style,u=o.className,c=o.type,h=o.orientation,d=NL(o,["children","style","className","type","orientation"]),f=i("divider"),p=at(f,f+"-"+c,(e={},e[f+"-with-text"]=a,e[f+"-with-text-"+h]=a&&h,e),u);return E.createElement("div",Xg({role:"separator",ref:t,className:p,style:l},d),a&&c==="horizontal"?E.createElement("span",{className:f+"-text "+f+"-text-"+h},a):null)}var so=M.forwardRef(zL);so.displayName="Divider";var gE=M.createContext({}),mE=M.createContext({}),vE=M.createContext({}),oo=function(){return oo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oo.apply(this,arguments)},$L=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},GL={span:24};function B1(n){return typeof n=="string"&&/\d+[px|%|em|rem|]{1}/.test(n)?"0 0 "+n:n}function HL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,GL,s==null?void 0:s["Grid.Col"]),l=M.useContext(gE),u=l.gutter,c=l.div,h=a.className,d=a.style,f=a.children,p=a.span,g=a.offset,_=a.order,m=a.pull,y=a.push,v=a.xs,b=a.sm,x=a.md,w=a.lg,C=a.xl,S=a.xxl,k=a.xxxl,O=a.flex,T=$L(a,["className","style","children","span","offset","order","pull","push","xs","sm","md","lg","xl","xxl","xxxl","flex"]);function I(L,G){var V={xs:v,sm:b,md:x,lg:w,xl:C,xxl:S,xxxl:k};return Object.keys(V).forEach(function(W){var K=V[W];Zn(K)?K>=0&&(G[L+"-"+W+"-"+K]=!0):Pt(K)&&(G[L+"-"+W+"-"+K.span]=K.span,G[L+"-"+W+"-offset-"+K.offset]=K.offset,G[L+"-"+W+"-order-"+K.order]=K.order,G[L+"-"+W+"-pull-"+K.pull]=K.pull,G[L+"-"+W+"-push-"+K.push]=K.push)}),G}var R=i("col"),N=(e={},e[""+R]=!c,e[R+"-order-"+_]=_,e[R+"-"+p]=!c&&!v&&!b&&!x&&!w&&!C&&!S&&!k,e[R+"-offset-"+g]=g,e[R+"-pull-"+m]=m,e[R+"-push-"+y]=y,e[R+"-rtl"]=o,e);N=I(R,N);var j=at(O?R:N,h),P={};if(Array.isArray(u)&&!c){var B=u[0]&&u[0]/2||0,A=u[1]&&u[1]/2||0;B&&(P.paddingLeft=B,P.paddingRight=B),A&&(P.paddingTop=A,P.paddingBottom=A)}var $=M.useMemo(function(){return B1(O)?{flex:B1(O)}:{}},[O]);return E.createElement("div",oo({ref:t},T,{style:oo(oo(oo({},d),P),$),className:j}),f)}var yE=M.forwardRef(HL);yE.displayName="Col";var ll=function(){return ll=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ll.apply(this,arguments)},VL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},UL=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},WL={gutter:0,align:"start",justify:"start"};function YL(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,WL,s==null?void 0:s["Grid.Row"]),l=a.className,u=a.style,c=a.children,h=a.div,d=a.align,f=a.justify,p=a.gutter,g=VL(a,["className","style","children","div","align","justify","gutter"]),_=UL(M.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0,xxxl:!0}),2),m=_[0],y=_[1],v=M.useRef();M.useEffect(function(){return v.current=Wo.subscribe(function(I){(!Array.isArray(p)&&typeof p=="object"||Array.isArray(p)&&(typeof p[0]=="object"||typeof p[1]=="object"))&&y(I)}),function(){Wo.unsubscribe(v.current)}},[]);function b(I){var R=0;if(typeof I=="object")for(var N=0;N<ah.length;N++){var j=ah[N];if(m[j]&&I[j]!==void 0){R=I[j];break}}else R=I;return R}var x=i("row"),w=at((e={},e[""+x]=!h,e[x+"-align-"+d]=d,e[x+"-justify-"+f]=f,e[x+"-rtl"]=o,e),l),C={},S=b(Array.isArray(p)?p[0]:p),k=b(Array.isArray(p)?p[1]:0);if((S||k)&&!h){var O=-S/2,T=-k/2;O&&(C.marginLeft=O,C.marginRight=O),T&&(C.marginTop=T,C.marginBottom=T)}return E.createElement("div",ll({ref:t},ze(g,["gutter"]),{style:ll(ll({},u),C),className:w}),E.createElement(gE.Provider,{value:{gutter:[S,k],div:h}},c))}var _E=M.forwardRef(YL);_E.displayName="Row";var XL=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function L1(n){return Pt(n)}var ul=function(n,t,e){e===void 0&&(e=!1);var r=M.useRef(),i=XL(M.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0,xxxl:!0}),2),s=i[0],o=i[1];M.useEffect(function(){return r.current=Wo.subscribe(function(l){L1(n)&&o(l)}),function(){Wo.unsubscribe(r.current)}},[]);var a=M.useMemo(function(){var l=t;if(L1(n))for(var u=0;u<ah.length;u++){var c=ah[u];if((s[c]||c==="xs"&&e)&&n[c]!==void 0){l=n[c];break}}else l=n;return l},[s,n,t,e]);return a};function KL(n,t){var e=t.span,r=t.offset,i=t.suffix,s=e??1,o=r??0,a=Math.min(o,n),l=Math.min(a>0?s+o:s,n);return{span:l,offset:a,suffix:i}}function qL(n){var t=n.cols,e=n.collapsed,r=n.collapsedRows,i=n.itemDataList,s=!1,o=[];function a(d){return Math.ceil(d/t)>r}if(e){for(var l=0,u=0;u<i.length;u++)i[u].suffix&&(l+=i[u].span,o.push(u));if(!a(l))for(var c=0;c<i.length;){var h=i[c];if(!h.suffix){if(l+=h.span,a(l))break;o.push(c)}c++}s=i.some(function(d,f){return!d.suffix&&!o.includes(f)})}else o=i.map(function(d,f){return f});return{overflow:s,displayIndexList:o}}var cl=function(){return cl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cl.apply(this,arguments)},zu=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},ZL=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j1=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))},QL={collapsed:!1,collapsedRows:1,cols:24,colGap:0,rowGap:0};function JL(n,t){var e,r=zu(M.useState(new Map),2),i=r[0],s=r[1],o=M.useContext(Mt),a=o.getPrefixCls,l=o.componentConfig,u=o.rtl,c=$e(n,QL,l==null?void 0:l.Grid),h=c.children,d=c.className,f=c.style,p=c.cols,g=c.colGap,_=c.rowGap,m=c.collapsed,y=c.collapsedRows,v=ul(p,24),b=ul(g,0),x=ul(_,0),w={gap:x+"px "+b+"px",gridTemplateColumns:"repeat("+v+", minmax(0px, 1fr))"},C=a("grid"),S=(e={},e[""+C]=!0,e[C+"-rtl"]=u,e),k=at(S,d),O=function(){var R,N,j=[];try{for(var P=ZL(i.entries()),B=P.next();!B.done;B=P.next()){var A=zu(B.value,2),$=A[0],L=A[1];j[$]=L}}catch(G){R={error:G}}finally{try{B&&!B.done&&(N=P.return)&&N.call(P)}finally{if(R)throw R.error}}return j},T=O(),I=qL({cols:v,collapsed:m,collapsedRows:y,itemDataList:T});return E.createElement("div",{ref:t,className:k,style:cl(cl({},w),f)},E.createElement(vE.Provider,{value:{collectItemData:function(R,N){i.set(R,N),s(new Map(j1([],zu(i),!1)))},removeItemData:function(R){i.delete(R),s(new Map(j1([],zu(i),!1)))}}},E.createElement(mE.Provider,{value:{cols:v,colGap:b,collapsed:m,overflow:I.overflow,displayIndexList:I.displayIndexList}},E.Children.map(h,function(R,N){if(R){var j=cl({__index__:N},R.props);return E.cloneElement(R,j)}return null}).filter(function(R){return jl(R,"type.__ARCO_GRID_ITEM__")}))))}var bE=M.forwardRef(JL);bE.displayName="Grid";var Ji=function(){return Ji=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ji.apply(this,arguments)},tj={suffix:!1,offset:0,span:1};function ej(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,tj,s==null?void 0:s["Grid.GridItem"]),l=a.children,u=a.className,c=a.style,h=a.offset,d=a.span,f=a.__index__,p=M.useContext(mE),g=M.useContext(vE),_=g.collectItemData,m=g.removeItemData,y=p.colGap,v=p.cols,b=p.displayIndexList,x=p.overflow,w=ul(h,0),C=ul(d,1),S=i("grid-item"),k=b==null?void 0:b.includes(f),O=(e={},e[""+S]=!0,e[S+"-rtl"]=o,e),T=at(O,u),I=M.useMemo(function(){return KL(p.cols,{suffix:!!a.suffix,span:C,offset:w})},[p.cols,a.suffix,C,w]);M.useEffect(function(){return _(f,I),function(){m(f)}},[f,I]);var R=M.useMemo(function(){var B=I.offset,A=I.span;if(B>0){var $="(100% - "+y*(A-1)+"px) / "+A;return{marginLeft:"calc(("+$+" * "+B+") + "+y*B+"px)"}}return{}},[I,y]),N=M.useMemo(function(){var B=I.suffix,A=I.span;return B?""+(v-A+1):"span "+A},[I,v]),j=!k||C===0?{display:"none"}:{},P=Ji(Ji({gridColumn:N+" / span "+C},R),j);return E.createElement("div",{ref:t,className:T,style:Ji(Ji({},P),c)},fn(l)?l({overflow:x}):E.Children.map(l,function(B){return B&&p.collapsed&&E.isValidElement(B)&&!oa(B.type)?E.cloneElement(B,Ji({overflow:x},B.props)):B}))}var nj=M.forwardRef(ej),py=nj;py.displayName="GridItem";py.__ARCO_GRID_ITEM__=!0;var iu=bE;iu.Col=yE;iu.Row=_E;iu.GridItem=py;var wE={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),my=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),Fd=Symbol.for("react.provider"),zd=Symbol.for("react.context"),rj=Symbol.for("react.server_context"),$d=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Vd=Symbol.for("react.memo"),Ud=Symbol.for("react.lazy"),ij=Symbol.for("react.offscreen"),xE;xE=Symbol.for("react.module.reference");function tr(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case gy:switch(n=n.type,n){case Ld:case Nd:case jd:case Gd:case Hd:return n;default:switch(n=n&&n.$$typeof,n){case rj:case zd:case $d:case Ud:case Vd:case Fd:return n;default:return t}}case my:return t}}}jt.ContextConsumer=zd;jt.ContextProvider=Fd;jt.Element=gy;jt.ForwardRef=$d;jt.Fragment=Ld;jt.Lazy=Ud;jt.Memo=Vd;jt.Portal=my;jt.Profiler=Nd;jt.StrictMode=jd;jt.Suspense=Gd;jt.SuspenseList=Hd;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(n){return tr(n)===zd};jt.isContextProvider=function(n){return tr(n)===Fd};jt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===gy};jt.isForwardRef=function(n){return tr(n)===$d};jt.isFragment=function(n){return tr(n)===Ld};jt.isLazy=function(n){return tr(n)===Ud};jt.isMemo=function(n){return tr(n)===Vd};jt.isPortal=function(n){return tr(n)===my};jt.isProfiler=function(n){return tr(n)===Nd};jt.isStrictMode=function(n){return tr(n)===jd};jt.isSuspense=function(n){return tr(n)===Gd};jt.isSuspenseList=function(n){return tr(n)===Hd};jt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Ld||n===Nd||n===jd||n===Gd||n===Hd||n===ij||typeof n=="object"&&n!==null&&(n.$$typeof===Ud||n.$$typeof===Vd||n.$$typeof===Fd||n.$$typeof===zd||n.$$typeof===$d||n.$$typeof===xE||n.getModuleId!==void 0)};jt.typeOf=tr;wE.exports=jt;var sj=wE.exports;function CE(n){var t=[];return E.Children.forEach(n,function(e){sj.isFragment(e)&&e.props?t=t.concat(CE(e.props.children)):e!=null&&t.push(e)}),t}var Kg=function(){return Kg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kg.apply(this,arguments)},oj=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},aj={size:"small",direction:"horizontal"};function lj(n,t){var e,r=M.useContext(Mt),i=r.getPrefixCls,s=r.componentConfig,o=r.rtl,a=$e(n,aj,s==null?void 0:s.Space),l=a.className,u=a.style,c=a.children,h=a.size,d=a.direction,f=a.align,p=a.wrap,g=a.split,_=oj(a,["className","style","children","size","direction","align","wrap","split"]),m=i("space"),y=f||(d==="horizontal"?"center":""),v=at(m,(e={},e[m+"-"+d]=d,e[m+"-align-"+y]=y,e[m+"-wrap"]=p,e[m+"-rtl"]=o,e),l);function b(C){if(Zn(C))return C;switch(C){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}var x=CE(c);function w(C){var S,k,O,T,I=x.length===C+1,R=o?"marginLeft":"marginRight";if(typeof h=="string"||typeof h=="number"){var N=b(h);return p?I?{marginBottom:N}:(S={},S[""+R]=N,S.marginBottom=N,S):I?{}:(k={},k[d==="vertical"?"marginBottom":R]=N,k)}if(sa(h)){var j=b(h[0]),P=b(h[1]);return p?I?{marginBottom:P}:(O={},O[""+R]=j,O.marginBottom=P,O):d==="vertical"?{marginBottom:P}:(T={},T[""+R]=j,T)}}return E.createElement("div",Kg({ref:t,className:v,style:u},_),x.map(function(C,S){var k,O=((k=C)===null||k===void 0?void 0:k.key)||S,T=g!=null&&S>0;return E.createElement(M.Fragment,{key:O},T&&E.createElement("div",{className:m+"-item-split"},g),E.createElement("div",{className:m+"-item",style:w(S)},C))}))}var SE=M.forwardRef(lj);SE.displayName="Space";function uj(n,t){var e=M.useContext(Mt).getPrefixCls,r=e("typography"),i=n.className,s=n.style,o=n.children,a=at(r,i);return E.createElement("article",{ref:t,style:s,className:a},o)}var EE=M.forwardRef(uj);EE.displayName="Typography";var cj=function(n,t,e,r){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},hj=function(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){e.label=u[1];break}if(u[0]===6&&e.label<s[1]){e.label=s[1],s=u;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(u);break}s[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function dj(n){return cj(this,void 0,void 0,function(){var t,e,r,i,s;return hj(this,function(o){switch(o.label){case 0:if(!(navigator.clipboard&&navigator.clipboard.writeText))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(n)];case 2:return o.sent(),[2];case 3:return t=o.sent(),console.error(t??new DOMException("The request is not allowed","NotAllowedError")),[3,4];case 4:e=document.createElement("span"),e.textContent=n,e.style.whiteSpace="pre",document.body.appendChild(e),r=window.getSelection(),i=window.document.createRange(),r.removeAllRanges(),i.selectNode(e),r.addRange(i),s=!1;try{s=window.document.execCommand("copy")}catch(a){console.log("error",a)}return r.removeAllRanges(),window.document.body.removeChild(e),[2,s?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))]}})})}function N1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function F1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function fj(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=F1(F1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-copy")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"M20 6h18a2 2 0 0 1 2 2v22M8 16v24c0 1.105.891 2 1.996 2h20.007A1.99 1.99 0 0 0 32 40.008V15.997A1.997 1.997 0 0 0 30 14H10a2 2 0 0 0-2 2Z"}))}var vy=E.forwardRef(fj);vy.defaultProps={isIcon:!0};vy.displayName="IconCopy";function z1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(e),!0).forEach(function(r){pe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):z1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function pj(n,t){var e=M.useContext(ge),r=e.prefixCls,i=r===void 0?"arco":r,s=n.spin,o=n.className,a=$1($1({"aria-hidden":!0,focusable:!1,ref:t},n),{},{className:"".concat(o?o+" ":"").concat(i,"-icon ").concat(i,"-icon-edit")});return s&&(a.className="".concat(a.className," ").concat(i,"-icon-loading")),delete a.spin,delete a.isIcon,E.createElement("svg",Qt({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},a),E.createElement("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"}))}var yy=E.forwardRef(pj);yy.defaultProps={isIcon:!0};yy.displayName="IconEdit";var G1=function(n){return oa(n)||Zn(n)};function zl(n){var t=[""];return E.Children.forEach(n,function(e){var r=t.length-1,i=t[r];G1(e)&&G1(i)?t[r]=""+i+e:e&&e.props&&e.props.children&&t.push(zl(e.props.children))}),t.join("")}var ts=function(){return ts=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ts.apply(this,arguments)},gj=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function mj(n){var t=n.children,e=n.copyable,r=n.editable,i=n.ellipsis,s=n.expanding,o=n.setEditing,a=n.onClickExpand,l=n.forceShowExpand,u=n.isEllipsis,c=n.currentContext,h=c===void 0?{}:c,d=Ed(),f=h.getPrefixCls,p=h.locale,g=f("typography"),_=gj(M.useState(!1),2),m=_[0],y=_[1],v=M.useRef(null),b=Pt(e)?e:{},x=Pt(i)?i:{},w=Pt(r)?r:{},C=sa(x.expandNodes)?x.expandNodes:[p.Typography.fold,p.Typography.unfold];M.useEffect(function(){return function(){clearTimeout(v.current),v.current=null}},[]);function S(N){if(!m){var j=b.text!==void 0?b.text:zl(t);dj(j),y(!0),b.onCopy&&b.onCopy(j,N),v.current=setTimeout(function(){y(!1)},3e3)}}var k=function(N){w.onStart&&w.onStart(zl(t),N),o(!0)},O=b.tooltips||[p.Typography.copy,p.Typography.copied],T=e&&E.createElement(ys,ts({content:m?O[1]:O[0]},b.tooltipProps),E.createElement("span",ts({className:m?g+"-operation-copied":g+"-operation-copy",onClick:S,role:"button","aria-label":O[0],tabIndex:0},d({onPressEnter:S})),m?E.createElement(Xv,null):b.icon||E.createElement(vy,null))),I=r&&E.createElement(ys,ts({content:p.Typography.edit},w.tooltipProps),E.createElement("span",ts({tabIndex:0,"aria-label":p.Typography.edit,role:"button",className:g+"-operation-edit",onClick:k},d({onPressEnter:k})),E.createElement(yy,null))),R=l||x.expandable&&u?E.createElement("a",ts({className:g+"-operation-expand",onClick:a,role:"button",tabIndex:0,"aria-label":p.Typography.unfold},d({onPressEnter:a})),s?C[0]:C[1]):null;return E.createElement(E.Fragment,null,R,I,T)}function vj(n){var t=n.prefixCls,e=n.children,r=n.setEditing,i=n.editableConfig,s=n.style,o=at(t+"-typography",t+"-edit-content",n.className),a=zl(e),l=M.useRef(null);M.useEffect(function(){if(l.current&&l.current.focus&&l.current.focus(),l.current&&l.current.dom){var d=l.current.dom.value.length;l.current.dom.setSelectionRange(d,d)}},[]);function u(){r(!1),i.onEnd&&i.onEnd(a)}function c(d){i.onChange&&i.onChange(d)}function h(){u()}return E.createElement("div",{className:o,style:s},E.createElement(Hi.TextArea,{className:t+"-edit-content-textarea",onBlur:h,ref:l,value:a,autoSize:!0,onChange:c,onPressEnter:u}))}var ao=function(){return ao=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ao.apply(this,arguments)},Sa=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},yj="hxj",ae;(function(n){n[n.INIT=0]="INIT",n[n.BEFORE_MEASURE=1]="BEFORE_MEASURE",n[n.MEASURING=2]="MEASURING",n[n.MEASURE_END=3]="MEASURE_END",n[n.NO_NEED_ELLIPSIS=4]="NO_NEED_ELLIPSIS"})(ae||(ae={}));function _j(n){var t=n.children,e=n.rows,r=e===void 0?1:e,i=n.width,s=n.expanding,o=n.renderMeasureContent,a=n.simpleEllipsis,l=n.onEllipsis,u=n.suffix,c=n.expandNodes,h=n.expandable,d=n.ellipsisStr,f=M.useRef(),p=M.useRef(),g=Sa(M.useState([0,0,0]),2),_=g[0],m=g[1],y=Sa(M.useState(0),2),v=y[0],b=y[1],x=Sa(M.useState(ae.NO_NEED_ELLIPSIS),2),w=x[0],C=x[1],S=Sa(_,3),k=S[0],O=S[1],T=S[2],I=Sa(M.useState(!1),2),R=I[0],N=I[1],j=M.useMemo(function(){return E.Children.toArray(t)},[t]),P=M.useRef(0);pE(function(){l&&l(R)},[R]);var B=function(H){return oa(H)||Zn(H)},A=function(H){var Z=0;return H.forEach(function(tt){B(tt)?Z+=String(tt).length:Z+=1}),Z},$=M.useMemo(function(){return A(j)},[j]),L=Qc(function(H){return m(H)}),G=function(H){var Z=[],tt=0;if(H>=$)return j;for(var ct in j){var et=j[ct];if(tt>=H)return Z;var rt=B(et)?String(et).length:1;if(rt>H-tt)return Z.push(String(et).slice(0,H-tt)),tt=H,Z;tt+=rt,Z.push(et)}return Z},V=function(){var H,Z;if(v){if(w===ae.INIT){var tt=r*v,ct=(H=p.current)===null||H===void 0?void 0:H.offsetHeight,et=ct>tt;!et||a||s?(C(ae.MEASURE_END),N(et),m([0,$,$])):(N(!0),C(ae.BEFORE_MEASURE))}else if(w===ae.BEFORE_MEASURE){var rt=f==null?void 0:f.current.offsetWidth,Q=r*i;if(rt>r*i){var U=Math.max(Q/rt-.1,0),X=Math.min(Q/rt+.1,1),gt=Math.floor(U*$),pt=Math.ceil(X*$),wt=Math.floor((gt+pt)/2);P.current=wt}C(ae.MEASURING)}else if(w===ae.MEASURING)if(k!==T-1){var ct=(Z=p.current)===null||Z===void 0?void 0:Z.offsetHeight,tt=r*v,Et=k,Jt=T;ct<=tt?Et=O:Jt=O;var ue=Math.floor((Jt+Et)/2);L([Et,ue,Jt])}else L([k,k,k]),C(ae.MEASURE_END)}};nl(function(){n.rows&&i?(m([0,Math.floor($/2),$]),C(ae.INIT)):C(ae.NO_NEED_ELLIPSIS)},[$,a,s,i,u,c,h,d,n.rows]),nl(function(){if(f.current&&w===ae.INIT){var H=f.current.offsetHeight;b(H)}},[w]),nl(function(){V()},[w,O,k,T,v]);var W={zIndex:-999,position:"fixed",opacity:0,padding:0,margin:0},K=ao({whiteSpace:"nowrap"},W),lt=a?ao({textOverflow:"clip"},W):W,D;if(w===ae.INIT||w===ae.BEFORE_MEASURE)D=E.createElement("div",null,E.createElement("div",{ref:f,style:K},w===ae.INIT?yj:o(t,!1)),E.createElement("div",{ref:p,style:ao({width:i},lt)},o(t,R))),D=D.props.children;else if(w===ae.MEASURING){var F={height:v*r,overflow:"hidden"};D=E.createElement("div",null,E.createElement("div",{ref:p,style:ao({width:i},lt)},o(G(O),R)),E.createElement("div",{style:F},G(P.current))),D=D.props.children}else w===ae.MEASURE_END?D=o(G(O),R):w===ae.NO_NEED_ELLIPSIS&&(D=o(t,!1));return{ellipsisNode:D,isEllipsis:R,measureStatus:w}}var bj=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},wj=function(n,t){if(typeof window<"u"&&window.CSS&&window.CSS.supports)return Wr(t)?window.CSS.supports(n):window.CSS.supports(n,t);if(typeof document<"u"&&document.createElement){var e=document.createElement("div");return e.setAttribute("style",n+":"+t+";"),typeof e.style[n]<"u"}return!1},xj={display:" -webkit-box","-webkit-line-clamp":2},Cj=function(){return Object.entries(xj).every(function(n){var t=bj(n,2),e=t[0],r=t[1];return wj(e,r)})};function Sj(n){var t=n.cssEllipsis,e=n.ellipsisStr,r=e===void 0?"...":e,i=n.suffix,s=n.rows,o=M.useMemo(function(){return!t||s>1&&!Cj()?!1:r==="..."&&!i},[r,t,s,i]),a={textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},l={textOverflow:"ellipsis",whiteSpace:"normal",overflow:"hidden",WebkitLineClamp:""+n.rows,WebkitBoxOrient:"vertical",display:"-webkit-box"};return{simpleEllipsis:o,ellipsisStyle:o?n.rows>1?l:a:{}}}var H1=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},V1=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return n.concat(s||Array.prototype.slice.call(t))};function Ej(n){var t=null,e=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t||(n.apply(void 0,V1([],H1(r),!1)),t=or(function(){})),t&&kn(t),t=or(function(){n.apply(void 0,V1([],H1(r),!1)),t=null})};return e.cancel=function(){kn(t),t=null},e}var bn=function(){return bn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bn.apply(this,arguments)},Oj=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Yf=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s};function kj(n,t){var e=n.type,r=n.bold,i=n.disabled,s=n.mark,o=n.underline,a=n.delete,l=n.code,u=[],c=[];return e&&c.push(t+"-"+e),i&&c.push(t+"-disabled"),r&&u.push("b"),o&&u.push("u"),a&&u.push("del"),l&&u.push("code"),s&&u.push("mark"),{component:u,className:c}}function _y(n){var t,e=n.componentType,r=n.style,i=n.className,s=n.children,o=n.editable,a=n.ellipsis,l=n.heading,u=n.blockquote,c=Oj(n,["componentType","style","className","children","editable","ellipsis","heading","blockquote"]),h=M.useContext(Mt),d=h.getPrefixCls,f=h.rtl,p=d("typography"),g=kj(n,p),_=g.component,m=g.className,y=Yf(M.useState(!1),2),v=y[0],b=y[1],x=Yf(M.useState(0),2),w=x[0],C=x[1],S=Pt(o)?o:{},k="editing"in S?S.editing:v,O=a?bn({rows:1,ellipsisStr:"...",cssEllipsis:!1},Pt(a)?a:{}):{},T=O.wrapper||E.Fragment,I=Yf(In(!1,{defaultValue:O.defaultExpanded,value:O.expanded}),2),R=I[0],N=I[1],j=Sj(O),P=j.simpleEllipsis,B=j.ellipsisStyle,A=function(Z,tt){var ct=Wr(O.ellipsisStr)?"...":O.ellipsisStr,et=!Wr(O.suffix)&&O.suffix;return E.createElement(T,null,Z,tt&&!R&&!P?ct:"",et,K(tt))},$=_j(bn(bn({},O),{children:s,expanding:R,width:w,renderMeasureContent:A,simpleEllipsis:P||R})),L=$.ellipsisNode,G=$.isEllipsis,V=$.measureStatus,W=Ej(function(Z){var tt=(Z==null?void 0:Z[0]).contentRect;if(tt){var ct=_.includes("code")?tt.width-18:tt.width,et=[ae.NO_NEED_ELLIPSIS,ae.MEASURE_END];et.includes(V)&&C(ct)}});function K(Z){return E.createElement(E.Fragment,null,E.createElement(mj,bn({},n,{setEditing:b,onClickExpand:lt,expanding:R,isEllipsis:Z,currentContext:h})))}function lt(Z){N(!R),n.onClickExpand&&n.onClickExpand(Z),O.onExpand&&O.onExpand(!R,Z)}pE(function(){O.onEllipsis&&O.onEllipsis(G)},[G]);function D(Z,tt,ct,et){et===void 0&&(et={});var rt=Z;return tt.forEach(function(Q,U){var X=U===0?et:{},gt=Pt(ct.mark)&&ct.mark.color?bn({style:{backgroundColor:ct.mark.color}},X):bn({},X);rt=E.createElement(Q,bn({},gt),rt)}),rt}var F;e==="Paragraph"?F=u?"blockquote":"div":e==="Title"?F="h"+l:e==="Text"&&(F=a?"div":"span");function H(){var Z,tt=zl(E.Children.toArray(s)),ct=O.showTooltip,et=Pt(O.showTooltip)&&O.showTooltip.type==="popover"?"popover":"tooltip",rt=Pt(O.showTooltip)?O.showTooltip.props||{}:{},Q=et==="popover"?JS:ys,U=G&&!ct&&!R?{title:tt}:{},X=bn({style:r},U),gt=G&&ct&&!R,pt=E.createElement(ji,{onResize:W},E.createElement(F,bn({className:at(p,m,(Z={},Z[p+"-rtl"]=f,Z),i)},X,ze(c,["spacing","type","close","bold","disabled","mark","underline","delete","code","copyable","isEllipsis","expanding","onClickExpand","setEditing","forceShowExpand"])),P&&V!==ae.INIT&&!R&&G?D(A(E.createElement("span",{style:B},s),G),_.length?_:["span"],n,{className:p+"-simple-ellipsis"}):D(L,_,n)));return gt?E.createElement(Q,bn({content:tt},rt),E.createElement("span",null,pt)):pt}return k?E.createElement(vj,bn({},n,{className:at(p,m,(t={},t[p+"-rtl"]=f,t),p+"-"+F,i),prefixCls:p,setEditing:b,editableConfig:S})):H()}var qg=function(){return qg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qg.apply(this,arguments)},Tj=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function Os(n){var t=n.heading,e=t===void 0?1:t,r=Tj(n,["heading"]);return E.createElement(_y,qg({heading:e},r,{componentType:"Title"}))}Os.displayName="Title";var Zg=function(){return Zg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zg.apply(this,arguments)};function OE(n){return E.createElement(_y,Zg({},n,{componentType:"Text"}))}OE.displayName="Text";var Qg=function(){return Qg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qg.apply(this,arguments)};function ks(n){var t=n.spacing,e=t===void 0?"default":t,r=n.className,i=M.useContext(Mt).getPrefixCls,s=i("typography"),o=e==="close"?at(s+"-spacing-close",r):r;return E.createElement(_y,Qg({},n,{componentType:"Paragraph",className:o}))}ks.displayName="Paragraph";var Jg=function(){return Jg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jg.apply(this,arguments)},$u=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s},Aj={rows:1,expandable:!0,defaultExpanded:!1},Mj=function(n,t){var e,r,i=M.useContext(Mt),s=$e(n,Aj,(e=i.componentConfig)===null||e===void 0?void 0:e["Typography.Ellipsis"]),o=s.className,a=s.style,l=s.rows,u=s.disabled,c=s.showTooltip,h=s.children,d=s.expandable,f=s.expandRender,p=s.onExpand,g=s.onEllipsis,_=i.locale,m=aa?!1:/^((?!chrome|android).)*safari/i.test((r=navigator==null?void 0:navigator.userAgent)!==null&&r!==void 0?r:""),y=M.useRef(null),v=M.useRef(null),b=$u(M.useState(""),2),x=b[0],w=b[1],C=$u(M.useState(!1),2),S=C[0],k=C[1],O=M.useRef(null),T=M.useRef(null),I=$u(In(!1,{defaultValue:s.defaultExpanded,value:s.expanded}),2),R=I[0],N=I[1],j=$u(M.useState(!1),2),P=j[0],B=j[1],A=M.useMemo(function(){return Pt(d)?!d.single&&l===1:l===1},[l,d]),$=M.useMemo(function(){return Pt(c)?{tooltip:!0,tooltipProps:c}:{tooltip:!!c,tooltipProps:c}},[c]);M.useEffect(function(){if(v.current){var F=v.current.textContent;F&&w(F)}},[h,v]);var L=i.getPrefixCls("ellipsis"),G=function(){return f?f(R):E.createElement("span",{className:L+"-action-text"},R?_.Typography.fold:_.Typography.unfold)},V=function(){var F;return d&&P?E.createElement("div",{className:at(L+"-action",(F={},F[L+"-action-collapsed"]=!R,F)),onClick:function(H){R?(N(!1),p==null||p(!1,H)):(N(!0),k(!1),p==null||p(!0,H))}},G()):null},W=M.useCallback(Qc(function(){if(T.current&&O.current){var F=A?T.current.offsetWidth>O.current.offsetWidth:T.current.offsetHeight>O.current.offsetHeight;F?P===!1&&(B(!0),g==null||g(!0)):P===!0&&(B(!1),g==null||g(!1))}}),[P,A]),K=function(){return u?null:E.createElement(ji,{onResize:W},E.createElement("div",{className:A?at(L+"-content-mirror",L+"-single"):at(L+"-content-mirror",L+"-multiple",L+"-collapsed"),style:{WebkitBoxOrient:"vertical",MozBoxOrient:"vertical",WebkitLineClamp:l},ref:O},E.createElement(ji,{onResize:W},E.createElement("span",{ref:T,className:L+"-text"},h))))},lt=function(){var F,H;return A?E.createElement("div",{className:at(L+"-content",L+"-single")},E.createElement("span",{ref:v,className:L+"-text"},h)):m?E.createElement("div",{className:at(L+"-content",L+"-multiple"),title:!$.tooltip&&P&&!R?x:void 0},!R&&V(),E.createElement("span",{ref:v,className:at(L+"-text",(F={},F[L+"-collapsed"]=!R,F)),style:{WebkitBoxOrient:"vertical",MozBoxOrient:"vertical",WebkitLineClamp:l}},h),R&&V()):E.createElement("div",{className:at(L+"-content",L+"-multiple",(H={},H[L+"-collapsed"]=!R,H)),style:{WebkitBoxOrient:"vertical",MozBoxOrient:"vertical",WebkitLineClamp:l},title:!$.tooltip&&P&&!R?x:void 0},!R&&V(),E.createElement("span",{ref:v,className:L+"-text"},h),R&&V())},D=function(){return u?E.createElement("div",{className:L+"-content"},E.createElement("span",{ref:v,className:L+"-text"},h)):$.tooltip?E.createElement(ys,Jg({content:x,popupVisible:S,disabled:!P||R,triggerProps:{mouseEnterDelay:100},onVisibleChange:function(F){F?P&&!R&&k(!0):k(!1)}},$.tooltipProps),lt()):lt()};return E.createElement("div",{ref:y,className:at(L,o),style:a},K(),D())},Pj=M.forwardRef(Mj),ei=EE;ei.Title=Os;ei.Text=OE;ei.Paragraph=ks;ei.Ellipsis=Pj;const Xf=["Home","API","Data Structure","Gallery"],Ij=()=>ot.jsx(Pr,{style:{padding:"10px",height:200},children:ot.jsxs(hy,{style:{textAlign:"center"},children:[ot.jsxs(ei,{style:{paddingTop:10},children:[ot.jsx(Os,{children:"Algorithm-visualization"}),ot.jsx(ks,{type:"secondary",children:"Finite Datastrues & Infinite Algorithms."})]}),ot.jsx(so,{}),ot.jsx("div",{children:ot.jsxs(SE,{children:[ot.jsx(Yr,{shape:"round",type:"outline",size:"large",children:"DataStructures"}),ot.jsx(Yr,{shape:"round",type:"outline",size:"large",children:"Algorithms"})]})})]})}),Rj=()=>ot.jsxs(ot.Fragment,{children:[ot.jsxs(ei,{children:[ot.jsx(Os,{children:"API"}),ot.jsx(ks,{children:"According to my design goals, before the algorithm can be visualized, the data structure needs to be visualized firstly. I have listed the data structures and interfaces I have implemented. Here you can intuitively understand how to use each interface. In most cases, the execution of each line of code is animated to help you understand the change in structure."})]}),ot.jsx("div",{children:"map"})]}),U1=()=>ot.jsxs(ot.Fragment,{children:[ot.jsxs(ei,{children:[ot.jsx(Os,{children:"Data-Structure"}),ot.jsx(ks,{children:"The following is a classification of algorithms by data structure category as much as possible."})]}),ot.jsx("div",{children:"map"})]}),Dj=()=>ot.jsxs(ot.Fragment,{children:[ot.jsxs(ei,{children:[ot.jsx(Os,{children:"Algorithm-gallery"}),ot.jsx(ks,{children:"The following is a classification of algorithms by algorithm type as much as possible."})]}),ot.jsx("div",{children:"map"})]}),Bj=iu.Row,Kf=iu.Col,{Content:Lj}=Pr,jj=()=>ot.jsx(ot.Fragment,{children:ot.jsx(Pr,{children:ot.jsx(Lj,{style:{padding:10,backgroundColor:"white",marginTop:10},children:ot.jsxs(Bj,{children:[ot.jsx(Kf,{span:4,children:ot.jsx("div",{})}),ot.jsxs(Kf,{span:16,children:[ot.jsxs(ei,{children:[ot.jsx(Os,{children:"Design Goal"}),ot.jsx(ks,{children:"My main goal is algorithm visualization, but it is not easy to visualize the execution process of the Algorithm. I try to find a general solution. After a lot of exploration, suddenly on that day, I realized! To visualize the Algorithm, must visualize the Data Structure that the Algorithm depends on!"})]}),ot.jsx(so,{}),ot.jsx(Rj,{}),ot.jsx(so,{}),ot.jsx(U1,{}),ot.jsx(so,{}),ot.jsx(U1,{}),ot.jsx(so,{}),ot.jsx(Dj,{})]}),ot.jsx(Kf,{span:4,children:ot.jsx("div",{})})]})})})}),Nj=()=>ot.jsxs(ot.Fragment,{children:[ot.jsx(Ij,{}),ot.jsx(jj,{})]}),Fj=n=>{const{text:t}=n;return ot.jsx("div",{children:t})},zj=n=>{const{text:t}=n;return ot.jsxs("div",{children:[t,""]})},$j=n=>n;var Gn;(function(n){n["desktop-browser"]="desktop-browser",n["mobile-browser"]="mobile-browser",n.node="node",n.worker="worker",n.miniApp="miniApp",n.wx="wx",n["desktop-miniApp"]="desktop-miniApp",n.lynx="lynx"})(Gn||(Gn={}));var lo;(function(n){n.cartesianAxis="cartesianAxis",n.cartesianBandAxis="cartesianAxis-band",n.cartesianLinearAxis="cartesianAxis-linear",n.cartesianTimeAxis="cartesianAxis-time",n.cartesianLogAxis="cartesianAxis-log",n.cartesianSymlogAxis="cartesianAxis-symlog",n.polarAxis="polarAxis",n.polarBandAxis="polarAxis-band",n.polarLinearAxis="polarAxis-linear",n.crosshair="crosshair",n.cartesianCrosshair="cartesianCrosshair",n.polarCrosshair="polarCrosshair",n.dataZoom="dataZoom",n.geoCoordinate="geoCoordinate",n.indicator="indicator",n.discreteLegend="discreteLegend",n.continuousLegend="continuousLegend",n.colorLegend="colorLegend",n.sizeLegend="sizeLegend",n.mapLabel="mapLabel",n.markLine="markLine",n.markArea="markArea",n.markPoint="markPoint",n.polarMarkLine="polarMarkLine",n.polarMarkArea="polarMarkArea",n.polarMarkPoint="polarMarkPoint",n.geoMarkPoint="geoMarkPoint",n.tooltip="tooltip",n.title="title",n.player="player",n.scrollBar="scrollBar",n.label="label",n.totalLabel="totalLabel",n.brush="brush",n.poptip="poptip",n.customMark="customMark"})(lo||(lo={}));var kE={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=e?e+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)t.call(c,h)&&u.push(e?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=e?e+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=e?e+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var g=e?e+u:u;if(!this._events[g])return!1;var _=this._events[g],m=arguments.length,y,v;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),m){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,h),!0;case 4:return _.fn.call(_.context,c,h,d),!0;case 5:return _.fn.call(_.context,c,h,d,f),!0;case 6:return _.fn.call(_.context,c,h,d,f,p),!0}for(v=1,y=new Array(m-1);v<m;v++)y[v-1]=arguments[v];_.fn.apply(_.context,y)}else{var b=_.length,x;for(v=0;v<b;v++)switch(_[v].once&&this.removeListener(u,_[v].fn,void 0,!0),m){case 1:_[v].fn.call(_[v].context);break;case 2:_[v].fn.call(_[v].context,c);break;case 3:_[v].fn.call(_[v].context,c,h);break;case 4:_[v].fn.call(_[v].context,c,h,d);break;default:if(!y)for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];_[v].fn.apply(_[v].context,y)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=e?e+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var g=0,_=[],m=p.length;g<m;g++)(p[g].fn!==c||d&&!p[g].once||h&&p[g].context!==h)&&_.push(p[g]);_.length?this._events[f]=_.length===1?_[0]:_:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=e?e+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(kE);var Gj=kE.exports;const Ts=ql(Gj),ha=(n,t)=>Object.prototype.toString.call(n)===`[object ${t}]`,Ar=(n,t=!1)=>t?typeof n=="boolean":n===!0||n===!1||ha(n,"Boolean"),bt=n=>typeof n=="function",z=n=>n==null,q=n=>n!=null,zt=n=>{const t=typeof n;return n!==null&&t==="object"||t==="function"},tm=n=>typeof n=="object"&&n!==null,da=function(n){if(!tm(n)||!ha(n,"Object"))return!1;if(Object.getPrototypeOf(n)===null)return!0;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t},Kt=n=>n===void 0,dt=(n,t=!1)=>{const e=typeof n;return t?e==="string":e==="string"||ha(n,"String")},ft=n=>Array.isArray?Array.isArray(n):ha(n,"Array"),Wd=function(n){return n!==null&&typeof n!="function"&&Number.isFinite(n.length)},Hj=n=>ha(n,"Date"),Tt=(n,t=!1)=>{const e=typeof n;return t?e==="number":e==="number"||ha(n,"Number")},mt=n=>Tt(n)&&Number.isFinite(n),Vj=n=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(n),Uj=n=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(n),Wj=n=>({}).toString.call(n).replace(/^\[object /,"").replace(/]$/,""),Yj=Object.prototype,Xj=function(n){const t=n&&n.constructor;return n===(typeof t=="function"&&t.prototype||Yj)},Kj=Object.prototype.hasOwnProperty;function Cr(n){if(z(n))return!0;if(Wd(n))return!n.length;const t=Wj(n);if(t==="Map"||t==="Set")return!n.size;if(Xj(n))return!Object.keys(n).length;for(const e in n)if(Kj.call(n,e))return!1;return!0}const _s=(n,t,e)=>{const r=dt(t)?t.split("."):t;for(let i=0;i<r.length;i++)n=n?n[r[i]]:void 0;return n===void 0?e:n},qj=Object.prototype.hasOwnProperty,lr=(n,t)=>n!=null&&qj.call(n,t);function Ni(n){let t;if(!q(n)||typeof n!="object")return n;const e=ft(n),r=n.length;t=e?new Array(r):typeof n=="object"?{}:Ar(n)||Tt(n)||dt(n)?n:Hj(n)?new Date(+n):void 0;const i=e?void 0:Object.keys(Object(n));let s=-1;if(t)for(;++s<(i||n).length;){const o=i?i[s]:s,a=n[o];t[o]=Ni(a)}return t}function TE(n,t,e=!1){if(t){if(n===t)return;if(q(t)&&typeof t=="object"){const r=Object(t),i=[];for(const a in r)i.push(a);let{length:s}=i,o=-1;for(;s--;){const a=i[++o];q(r[a])&&typeof r[a]=="object"?Zj(n,t,a,e):AE(n,a,r[a])}}}}function Zj(n,t,e,r=!1){const i=n[e],s=t[e];let o=t[e],a=!0;if(ft(s)){if(r)o=[];else if(ft(i))o=i;else if(Wd(i)){o=new Array(i.length);let l=-1;const u=i.length;for(;++l<u;)o[l]=i[l]}}else da(s)?(o=i,typeof i!="function"&&typeof i=="object"||(o={})):a=!1;a&&TE(o,s,r),AE(n,e,o)}function AE(n,t,e){(e!==void 0&&!Qj(n[t],e)||e===void 0&&!(t in n))&&(n[t]=e)}function Qj(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function Mr(n,...t){let e=-1;const r=t.length;for(;++e<r;)TE(n,t[e],!0);return n}function W1(n){return Object.prototype.toString.call(n)}function Y1(n){return Object.keys(n)}function bs(n,t,e){if(n===t)return!0;if(typeof n!=typeof t||n==null||t==null)return!1;if(Number.isNaN(n)&&Number.isNaN(t))return!0;if(W1(n)!==W1(t)||bt(n)||typeof n!="object")return!1;if(ft(n)){if(n.length!==t.length)return!1;for(let s=n.length-1;s>=0;s--)if(!bs(n[s],t[s]))return!1;return!0}if(!da(n))return!1;const r=Y1(n),i=Y1(t);if(r.length!==i.length)return!1;r.sort(),i.sort();for(let s=r.length-1;s>=0;s--)if(r[s]!=i[s])return!1;for(let s=r.length-1;s>=0;s--){const o=r[s];if(!bs(n[o],t[o]))return!1}return!0}function Jj(n){if(!n)return[];if(Object.keys)return Object.keys(n);const t=[];for(const e in n)n.hasOwnProperty(e)&&t.push(e);return t}function t3(n,t,e){const r=Jj(t);for(let i=0;i<r.length;i++){const s=r[i];(e?t[s]!=null:n[s]==null)&&(n[s]=t[s])}return n}function ME(n,t,e=!0){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames){const r=Object.getOwnPropertyNames(t);for(let i=0;i<r.length;i++){const s=r[i];s!=="constructor"&&(e?t[s]!=null:n[s]==null)&&(n[s]=t[s])}}else t3(n,t,e)}function Ct(n){return q(n)?ft(n)?n:[n]:[]}function X1(n){if(Wd(n))return n[n.length-1]}const e3=(n,t)=>{var e;if(n.length===0)return;let r=n[0];for(let i=1;i<n.length;i++){const s=n[i];((e=void 0)!==null&&e!==void 0?e:s-r>0)&&(r=s)}return r},n3=(n,t)=>{var e;if(n.length===0)return;let r=n[0];for(let i=1;i<n.length;i++){const s=n[i];((e=void 0)!==null&&e!==void 0?e:s-r<0)&&(r=s)}return r};function Gu(n,t){if(!ft(n)||!ft(t)||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function r3(n,t,e){q(t)||(t=n,n=0),q(e)||(e=1);let r=-1;const i=0|Math.max(0,Math.ceil((t-n)/e)),s=new Array(i);for(;++r<i;)s[r]=n+r*e;return s}function i3(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function za(n){return Number(n)}function PE(n,t,e=0,r){for(z(r)&&(r=n.length);e<r;){const i=e+r>>>1;i3(n[i],t)>0?r=i:e=i+1}return e}const s3=1e-10,o3=1e-10;function ws(n,t,e=o3,r=s3){const i=r,s=e*Math.max(n,t);return Math.abs(n-t)<=Math.max(i,s)}function K1(n,t,e,r){return n>t&&!ws(n,t,e,r)}function q1(n,t,e,r){return n<t&&!ws(n,t,e,r)}const IE=n=>{let t=null,e=null;return(...r)=>(t&&r.every((i,s)=>i===t[s])||(t=r,e=n(...r)),e)},RE=function(n,t,e){return n<t?t:n>e?e:n};function by(n,t){let e;return n>t&&(e=n,n=t,t=e),r=>Math.max(n,Math.min(t,r))}let lh=!1;try{lh=typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"}catch{lh=!1}function su(n,t,e){let r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;const f=!t&&t!==0&&lh;if(typeof n!="function")throw new TypeError("Expected a function");function p(b){const x=r,w=i;return r=i=void 0,u=b,o=n.apply(w,x),o}function g(b,x){return f?(cancelAnimationFrame(a),requestAnimationFrame(b)):setTimeout(b,x)}function _(b){const x=b-l;return l===void 0||x>=t||x<0||h&&b-u>=s}function m(){const b=Date.now();if(_(b))return y(b);a=g(m,function(x){const w=x-u,C=t-(x-l);return h?Math.min(C,s-w):C}(b))}function y(b){return a=void 0,d&&r?p(b):(r=i=void 0,o)}function v(...b){const x=Date.now(),w=_(x);if(r=b,i=this,l=x,w){if(a===void 0)return function(C){return u=C,a=g(m,t),c?p(C):o}(l);if(h)return a=g(m,t),p(l)}return a===void 0&&(a=g(m,t)),o}return t=+t||0,zt(e)&&(c=!!e.leading,h="maxWait"in e,h&&(s=Math.max(mt(e.maxWait)?e.maxWait:0,t)),d="trailing"in e?!!e.trailing:d),v.cancel=function(){a!==void 0&&function(b){if(f)return cancelAnimationFrame(b);clearTimeout(b)}(a),u=0,r=l=i=a=void 0},v.flush=function(){return a===void 0?o:y(Date.now())},v.pending=function(){return a!==void 0},v}lh=!1;function DE(n,t,e){let r=!0,i=!0;if(typeof n!="function")throw new TypeError("Expected a function");return zt(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),su(n,t,{leading:r,trailing:i,maxWait:t})}function yc(n,t){return e=>n*(1-e)+t*e}function a3(n,t){return function(e){return Math.round(n*(1-e)+t*e)}}function l3(n,t){const e=n.valueOf(),r=t.valueOf(),i=new Date;return s=>(i.setTime(e*(1-s)+r*s),i)}const Co=1e-12,ke=Math.PI,hi=ke/2,di=2*ke,Vt=2*Math.PI,Ht=Math.abs,BE=Math.atan2,em=Math.cos,wy=Math.max,ou=Math.min,nm=Math.sin,_c=Math.sqrt,Rs=Math.pow;function Z1(n,t){return n[0]*t[1]-n[1]*t[0]}function u3(n,t){return Ht(n[0]-t[0])+Ht(n[1]-t[1])<1e-12}class xe{constructor(t=0,e=0,r,i){this.x=0,this.y=0,this.x=t,this.y=e,this.x1=r,this.y1=i}clone(){return new xe(this.x,this.y)}copyFrom(t){return this.x=t.x,this.y=t.y,this.x1=t.x1,this.y1=t.y1,this.defined=t.defined,this.context=t.context,this}set(t,e){return this.x=t,this.y=e,this}add(t){return Tt(t)?(this.x+=t,void(this.y+=t)):(this.x+=t.x,this.y+=t.y,this)}sub(t){return Tt(t)?(this.x-=t,void(this.y-=t)):(this.x-=t.x,this.y-=t.y,this)}multi(t){throw new Error("")}div(t){throw new Error("")}}class Tn{static distancePP(t,e){return _c(Rs(t.x-e.x,2)+Rs(t.y-e.y,2))}static distanceNN(t,e,r,i){return _c(Rs(t-r,2)+Rs(e-i,2))}static distancePN(t,e,r){return _c(Rs(e-t.x,2)+Rs(r-t.y,2))}static pointAtPP(t,e,r){return new xe((e.x-t.x)*r+t.x,(e.y-t.y)*r+t.y)}}function rm(n,t,e){const{x1:r,y1:i,x2:s,y2:o}=t;return e.onlyTranslate()?(n!==t&&n.setValue(t.x1,t.y1,t.x2,t.y2),n.translate(e.e,e.f),t):(n.clear(),n.add(e.a*r+e.c*i+e.e,e.b*r+e.d*i+e.f),n.add(e.a*s+e.c*i+e.e,e.b*s+e.d*i+e.f),n.add(e.a*s+e.c*o+e.e,e.b*s+e.d*o+e.f),n.add(e.a*r+e.c*o+e.e,e.b*r+e.d*o+e.f),t)}class Mn{constructor(t){t?this.setValue(t.x1,t.y1,t.x2,t.y2):this.clear()}clone(){return new Mn(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}setValue(t=0,e=0,r=0,i=0){return this.x1=t,this.y1=e,this.x2=r,this.y2=i,this}set(t=0,e=0,r=0,i=0){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),i<e?(this.y2=e,this.y1=i):(this.y1=e,this.y2=i),this}add(t=0,e=0){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this}expand(t=0){return ft(t)?(this.y1-=t[0],this.x2+=t[1],this.y2+=t[2],this.x1-=t[3]):(this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(t=0,e=0){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}rotate(t=0,e=0,r=0){const i=this.rotatedPoints(t,e,r);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])}scale(t=0,e=0,r=0,i=0){const s=this.scalePoints(t,e,r,i);return this.clear().add(s[0],s[1]).add(s[2],s[3])}union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this}intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this}encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2}alignsWith(t){return t&&(this.x1===t.x1||this.x2===t.x2||this.y1===t.y1||this.y2===t.y2)}intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)}contains(t=0,e=0){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)}containsPoint(t){return!(t.x<this.x1||t.x>this.x2||t.y<this.y1||t.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(t=0){return this.x1*=t,this.x2*=t,this}scaleY(t=0){return this.y1*=t,this.y2*=t,this}transformWithMatrix(t){return rm(this,this,t),this}copy(t){return this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this}rotatedPoints(t,e,r){const{x1:i,y1:s,x2:o,y2:a}=this,l=Math.cos(t),u=Math.sin(t),c=e-e*l+r*u,h=r-e*u-r*l;return[l*i-u*s+c,u*i+l*s+h,l*i-u*a+c,u*i+l*a+h,l*o-u*s+c,u*o+l*s+h,l*o-u*a+c,u*o+l*a+h]}scalePoints(t,e,r,i){const{x1:s,y1:o,x2:a,y2:l}=this;return[t*s+(1-t)*r,e*o+(1-e)*i,t*a+(1-t)*r,e*l+(1-e)*i]}}class je extends Mn{}function LE(n){return n*(Math.PI/180)}function c3(n){return 180*n/Math.PI}function Q1(n,t){return Math.atan2(t.y-n.y,t.x-n.x)}class fe{constructor(t=1,e=0,r=0,i=1,s=0,o=0){this.a=t,this.b=e,this.c=r,this.d=i,this.e=s,this.f=o}equalToMatrix(t){return!(this.e!==t.e||this.f!==t.f||this.a!==t.a||this.d!==t.d||this.b!==t.b||this.c!==t.c)}equalTo(t,e,r,i,s,o){return!(this.e!==s||this.f!==o||this.a!==t||this.d!==i||this.b!==e||this.c!==r)}setValue(t,e,r,i,s,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.e=s,this.f=o,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const t=this.a,e=this.b,r=this.c,i=this.d,s=this.e,o=this.f,a=new fe,l=t*i-e*r;return a.a=i/l,a.b=-e/l,a.c=-r/l,a.d=t/l,a.e=(r*o-i*s)/l,a.f=-(t*o-e*s)/l,a}rotate(t){const e=Math.cos(t),r=Math.sin(t),i=this.a*e+this.c*r,s=this.b*e+this.d*r,o=this.a*-r+this.c*e,a=this.b*-r+this.d*e;return this.a=i,this.b=s,this.c=o,this.d=a,this}rotateByCenter(t,e,r){const i=Math.cos(t),s=Math.sin(t),o=(1-i)*e+s*r,a=(1-i)*r-s*e,l=i*this.a-s*this.b,u=s*this.a+i*this.b,c=i*this.c-s*this.d,h=s*this.c+i*this.d,d=i*this.e-s*this.f+o,f=s*this.e+i*this.f+a;return this.a=l,this.b=u,this.c=c,this.d=h,this.e=d,this.f=f,this}scale(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this}setScale(t,e){return this.b=this.b/this.a*t,this.c=this.c/this.d*e,this.a=t,this.d=e,this}transform(t,e,r,i,s,o){return this.multiply(t,e,r,i,s,o),this}translate(t,e){return this.e+=this.a*t+this.c*e,this.f+=this.b*t+this.d*e,this}transpose(){const{a:t,b:e,c:r,d:i,e:s,f:o}=this;return this.a=e,this.b=t,this.c=i,this.d=r,this.e=o,this.f=s,this}multiply(t,e,r,i,s,o){const a=this.a,l=this.b,u=this.c,c=this.d,h=a*t+u*e,d=l*t+c*e,f=a*r+u*i,p=l*r+c*i,g=a*s+u*o+this.e,_=l*s+c*o+this.f;return this.a=h,this.b=d,this.c=f,this.d=p,this.e=g,this.f=_,this}interpolate(t,e){const r=new fe;return r.a=this.a+(t.a-this.a)*e,r.b=this.b+(t.b-this.b)*e,r.c=this.c+(t.c-this.c)*e,r.d=this.d+(t.d-this.d)*e,r.e=this.e+(t.e-this.e)*e,r.f=this.f+(t.f-this.f)*e,r}transformPoint(t,e){const{a:r,b:i,c:s,d:o,e:a,f:l}=this,u=r*o-i*s,c=o/u,h=-i/u,d=-s/u,f=r/u,p=(s*l-o*a)/u,g=-(r*l-i*a)/u,{x:_,y:m}=t;e.x=_*c+m*d+p,e.y=_*h+m*f+g}onlyTranslate(t=1){return this.a===t&&this.b===0&&this.c===0&&this.d===t}clone(){return new fe(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const t=this.a,e=this.b,r=this.c,i=this.d,s=t*i-e*r,o={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!==0||e!==0){const a=Math.sqrt(t*t+e*e);o.rotateDeg=e>0?Math.acos(t/a):-Math.acos(t/a),o.scaleX=a,o.scaleY=s/a,o.skewX=(t*r+e*i)/s,o.skewY=0}else if(r!==0||i!==0){const a=Math.sqrt(r*r+i*i);o.rotateDeg=Math.PI/2-(i>0?Math.acos(-r/a):-Math.acos(r/a)),o.scaleX=s/a,o.scaleY=a,o.skewX=0,o.skewY=(t*r+e*i)/s}return o.rotateDeg=c3(o.rotateDeg),o}}function h3(n,t,e,r,i,s,o,a){const l=t.a,u=t.b,c=t.c,h=t.d,d=t.e,f=t.f,p=em(o),g=nm(o);let _,m;a?(_=a[0],m=a[1]):(_=e,m=r);const y=_-e,v=m-r,b=l*p+c*g,x=u*p+h*g,w=c*p-l*g,C=h*p-u*g;n.a=i*b,n.b=i*x,n.c=s*w,n.d=s*C,n.e=d+l*_+c*m-b*y-w*v,n.f=f+u*_+h*m-x*y-C*v}class d3{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(t,e){const{CLEAN_THRESHOLD:r=this.CLEAN_THRESHOLD,L_TIME:i=this.L_TIME,R_COUNT:s=this.R_COUNT}=e;if(t.size<r)return 0;let o=0;const a=u=>{o++,t.delete(u)},l=Date.now();return t.forEach((u,c)=>{if(u.timestamp.length<s)return a(c);let h=0;for(;l-u.timestamp[u.timestamp.length-1-h]<i&&(h++,!(h>=s)););if(h<s)return a(c);for(;l-u.timestamp[0]>i;)u.timestamp.shift()}),o}addLimitedTimestamp(t,e,r){const{R_TIMESTAMP_MAX_SIZE:i=this.R_TIMESTAMP_MAX_SIZE}=r;t.timestamp.length>i&&t.timestamp.shift(),t.timestamp.push(e)}clearTimeStamp(t,e){const{L_TIME:r=this.L_TIME}=e,i=Date.now();t.forEach(s=>{for(;i-s.timestamp[0]>r;)s.timestamp.shift()})}clearItemTimestamp(t,e){const{L_TIME:r=this.L_TIME}=e,i=Date.now();for(;i-t.timestamp[0]>r;)t.timestamp.shift()}}function uh(n,t,e){t/=100,e/=100;const r=(1-Math.abs(2*e-1))*t,i=r*(1-Math.abs(n/60%2-1)),s=e-r/2;let o=0,a=0,l=0;return 0<=n&&n<60?(o=r,a=i,l=0):60<=n&&n<120?(o=i,a=r,l=0):120<=n&&n<180?(o=0,a=r,l=i):180<=n&&n<240?(o=0,a=i,l=r):240<=n&&n<300?(o=i,a=0,l=r):300<=n&&n<360&&(o=r,a=0,l=i),o=Math.round(255*(o+s)),a=Math.round(255*(a+s)),l=Math.round(255*(l+s)),{r:o,g:a,b:l}}function Yd(n,t,e){n/=255,t/=255,e/=255;const r=Math.min(n,t,e),i=Math.max(n,t,e),s=i-r;let o=0,a=0,l=0;return o=s===0?0:i===n?(t-e)/s%6:i===t?(e-n)/s+2:(n-t)/s+4,o=Math.round(60*o),o<0&&(o+=360),l=(i+r)/2,a=s===0?0:s/(1-Math.abs(2*l-1)),a=+(100*a).toFixed(1),l=+(100*l).toFixed(1),{h:o,s:a,l}}const J1=/^#([0-9a-f]{3,8})$/,tb={transparent:4294967040},bc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hu(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function qf(n){return Tt(n)?new De(n>>16,n>>8&255,255&n,1):ft(n)?new De(n[0],n[1],n[2]):new De(255,255,255)}function f3(n){return Tt(n)?new De(n>>>24,n>>>16&255,n>>>8&255,255&n):ft(n)?new De(n[0],n[1],n[2],n[3]):new De(255,255,255,1)}function Zf(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Qf(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}class Qe{static Brighter(t,e=1){return e===1?t:new Qe(t).brighter(e).toRGBA()}static SetOpacity(t,e=1){return e===1?t:new Qe(t).setOpacity(e).toRGBA()}static getColorBrightness(t,e="hsl"){const r=t instanceof Qe?t:new Qe(t);switch(e){case"hsv":default:return r.getHSVBrightness();case"hsl":return r.getHSLBrightness();case"lum":return r.getLuminance();case"lum2":return r.getLuminance2();case"lum3":return r.getLuminance3()}}static parseColorString(t){if(q(tb[t]))return f3(tb[t]);if(q(bc[t]))return qf(bc[t]);const e=`${t}`.trim().toLowerCase(),r=J1.exec(e);if(r){const i=parseInt(r[1],16),s=r[1].length;return s===3?new De((i>>8&15)+((i>>8&15)<<4),(i>>4&15)+((i>>4&15)<<4),(15&i)+((15&i)<<4),1):s===6?qf(i):s===8?new De(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):void 0}if(/^(rgb|RGB|rgba|RGBA)/.test(e)){const i=e.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new De(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),parseFloat(i[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(e)){const i=e.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),s=uh(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10));return new De(s.r,s.g,s.b,parseFloat(i[3]))}}constructor(t){const e=Qe.parseColorString(t);e?this.color=e:(console.warn(`Warn: ${t}Color`),this.color=new De(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(t){const{r:e,g:r,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t))),this.color.g=Math.max(0,Math.min(255,Math.floor(r*t))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t))),this}add(t){const{r:e,g:r,b:i}=this.color;return this.color.r+=Math.min(255,e+t.color.r),this.color.g+=Math.min(255,r+t.color.g),this.color.b+=Math.min(255,i+t.color.b),this}sub(t){return this.color.r=Math.max(0,this.color.r-t.color.r),this.color.g=Math.max(0,this.color.g-t.color.g),this.color.b=Math.max(0,this.color.b-t.color.b),this}multiply(t){const{r:e,g:r,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(r*t.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return .5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(t,e,r){const i=this.color.opacity,s=Yd(this.color.r,this.color.g,this.color.b),o=uh(z(t)?s.h:RE(t,0,360),z(e)?s.s:e>=0&&e<=1?100*e:e,z(r)?s.l:r<=1&&r>=0?100*r:r);return this.color=new De(o.r,o.g,o.b,i),this}setRGB(t,e,r){return!z(t)&&(this.color.r=t),!z(e)&&(this.color.g=e),!z(r)&&(this.color.b=r),this}setHex(t){const e=`${t}`.trim().toLowerCase(),r=J1.exec(e),i=parseInt(r[1],16),s=r[1].length;return s===3?new De((i>>8&15)+((i>>8&15)<<4),(i>>4&15)+((i>>4&15)<<4),(15&i)+((15&i)<<4),1):s===6?qf(i):s===8?new De(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):this}setColorName(t){const e=bc[t.toLowerCase()];return e!==void 0?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}setScalar(t){return this.color.r=t,this.color.g=t,this.color.b=t,this}setOpacity(t=1){return this.color.opacity=t,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}clone(){return new Qe(this.color.toString())}copyGammaToLinear(t,e=2){return this.color.r=Math.pow(t.color.r,e),this.color.g=Math.pow(t.color.g,e),this.color.b=Math.pow(t.color.b,e),this}copyLinearToGamma(t,e=2){const r=e>0?1/e:1;return this.color.r=Math.pow(t.color.r,r),this.color.g=Math.pow(t.color.g,r),this.color.b=Math.pow(t.color.b,r),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.color.r=Zf(t.color.r),this.color.g=Zf(t.color.g),this.color.b=Zf(t.color.b),this}copyLinearToSRGB(t){return this.color.r=Qf(t.color.r),this.color.g=Qf(t.color.g),this.color.b=Qf(t.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class De{constructor(t,e,r,i){this.r=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.g=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.b=isNaN(+r)?255:Math.max(0,Math.min(255,+r)),q(i)?this.opacity=isNaN(+i)?1:Math.max(0,Math.min(1,+i)):this.opacity=1}formatHex(){return`#${Hu(this.r)+Hu(this.g)+Hu(this.b)+(this.opacity===1?"":Hu(255*this.opacity))}`}formatRgb(){const t=this.opacity;return`${t===1?"rgb(":"rgba("}${this.r},${this.g},${this.b}${t===1?")":`,${t})`}`}formatHsl(){const t=this.opacity,{h:e,s:r,l:i}=Yd(this.r,this.g,this.b);return`${t===1?"hsl(":"hsla("}${e},${r}%,${i}%${t===1?")":`,${t})`}`}toString(){return this.formatHex()}}function p3(n){let t="",e="",r="";const i=n[0]==="#"?1:0;for(let s=i;s<n.length;s++)n[s]!=="#"&&(s<i+2?t+=n[s]:s<i+4?e+=n[s]:s<i+6&&(r+=n[s]));return[parseInt(t,16),parseInt(e,16),parseInt(r,16)]}function g3(n,t,e){return Number((1<<24)+(n<<16)+(t<<8)+e).toString(16).slice(1)}function m3(n,t){const e=n.r,r=t.r,i=n.g,s=t.g,o=n.b,a=t.b,l=n.opacity,u=t.opacity;return c=>{const h=Math.round(e*(1-c)+r*c),d=Math.round(i*(1-c)+s*c),f=Math.round(o*(1-c)+a*c);return new De(h,d,f,l*(1-c)+u*c)}}const v3=Object.freeze(Object.defineProperty({__proto__:null,Color:Qe,DEFAULT_COLORS:bc,RGB:De,hexToRgb:p3,hslToRgb:uh,interpolateRgb:m3,rgbToHex:g3,rgbToHsl:Yd},Symbol.toStringTag,{value:"Module"}));function Jf(n,t,e){n[0]=t[0]-e[0],n[1]=t[1]-e[1]}let tp,ep,np,rp,ip,sp,op,ap;function y3(n,t,e,r){let i,s=n[0],o=t[0],a=e[0],l=r[0];return o<s&&(i=o,o=s,s=i),l<a&&(i=l,l=a,a=i),!(o<a||l<s)&&(s=n[1],o=t[1],a=e[1],l=r[1],o<s&&(i=o,o=s,s=i),l<a&&(i=l,l=a,a=i),!(o<a||l<s))}function _3(n,t,e,r){if(!y3(n,t,e,r))return!1;const i=[0,0],s=[0,0],o=[0,0];if(Jf(i,t,n),Jf(s,r,e),u3(i,s))return!0;Jf(o,e,n);const a=Z1(o,s)/Z1(i,s);return a>=0&&a<=1&&[n[0]+i[0]*a,n[1]+i[1]*a]}function b3(n,t,e){return n===null?t:t===null?n:(tp=n.x1,ep=n.x2,np=n.y1,rp=n.y2,ip=t.x1,sp=t.x2,op=t.y1,ap=t.y2,tp>=sp||ep<=ip||np>=ap||rp<=op?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(tp,ip),y1:Math.max(np,op),x2:Math.min(ep,sp),y2:Math.min(rp,ap)})}var eb;(function(n){n[n.NONE=0]="NONE",n[n.BBOX1=1]="BBOX1",n[n.BBOX2=2]="BBOX2"})(eb||(eb={}));function nb(n,t,e){return!n||!t||!(n.x1>t.x2||n.x2<t.x1||n.y1>t.y2||n.y2<t.y1)}const rb=n=>{let t=n.charCodeAt(0),e=n.length===2?n.charCodeAt(1):0,r=t;return 55296<=t&&t<=56319&&56320<=e&&e<=57343&&(t&=1023,e&=1023,r=t<<10|e,r+=65536),r===12288||65281<=r&&r<=65376||65504<=r&&r<=65510?"F":r===8361||65377<=r&&r<=65470||65474<=r&&r<=65479||65482<=r&&r<=65487||65490<=r&&r<=65495||65498<=r&&r<=65500||65512<=r&&r<=65518?"H":4352<=r&&r<=4447||4515<=r&&r<=4519||4602<=r&&r<=4607||9001<=r&&r<=9002||11904<=r&&r<=11929||11931<=r&&r<=12019||12032<=r&&r<=12245||12272<=r&&r<=12283||12289<=r&&r<=12350||12353<=r&&r<=12438||12441<=r&&r<=12543||12549<=r&&r<=12589||12593<=r&&r<=12686||12688<=r&&r<=12730||12736<=r&&r<=12771||12784<=r&&r<=12830||12832<=r&&r<=12871||12880<=r&&r<=13054||13056<=r&&r<=19903||19968<=r&&r<=42124||42128<=r&&r<=42182||43360<=r&&r<=43388||44032<=r&&r<=55203||55216<=r&&r<=55238||55243<=r&&r<=55291||63744<=r&&r<=64255||65040<=r&&r<=65049||65072<=r&&r<=65106||65108<=r&&r<=65126||65128<=r&&r<=65131||110592<=r&&r<=110593||127488<=r&&r<=127490||127504<=r&&r<=127546||127552<=r&&r<=127560||127568<=r&&r<=127569||131072<=r&&r<=194367||177984<=r&&r<=196605||196608<=r&&r<=262141?"W":32<=r&&r<=126||162<=r&&r<=163||165<=r&&r<=166||r===172||r===175||10214<=r&&r<=10221||10629<=r&&r<=10630?"Na":r===161||r===164||167<=r&&r<=168||r===170||173<=r&&r<=174||176<=r&&r<=180||182<=r&&r<=186||188<=r&&r<=191||r===198||r===208||215<=r&&r<=216||222<=r&&r<=225||r===230||232<=r&&r<=234||236<=r&&r<=237||r===240||242<=r&&r<=243||247<=r&&r<=250||r===252||r===254||r===257||r===273||r===275||r===283||294<=r&&r<=295||r===299||305<=r&&r<=307||r===312||319<=r&&r<=322||r===324||328<=r&&r<=331||r===333||338<=r&&r<=339||358<=r&&r<=359||r===363||r===462||r===464||r===466||r===468||r===470||r===472||r===474||r===476||r===593||r===609||r===708||r===711||713<=r&&r<=715||r===717||r===720||728<=r&&r<=731||r===733||r===735||768<=r&&r<=879||913<=r&&r<=929||931<=r&&r<=937||945<=r&&r<=961||963<=r&&r<=969||r===1025||1040<=r&&r<=1103||r===1105||r===8208||8211<=r&&r<=8214||8216<=r&&r<=8217||8220<=r&&r<=8221||8224<=r&&r<=8226||8228<=r&&r<=8231||r===8240||8242<=r&&r<=8243||r===8245||r===8251||r===8254||r===8308||r===8319||8321<=r&&r<=8324||r===8364||r===8451||r===8453||r===8457||r===8467||r===8470||8481<=r&&r<=8482||r===8486||r===8491||8531<=r&&r<=8532||8539<=r&&r<=8542||8544<=r&&r<=8555||8560<=r&&r<=8569||r===8585||8592<=r&&r<=8601||8632<=r&&r<=8633||r===8658||r===8660||r===8679||r===8704||8706<=r&&r<=8707||8711<=r&&r<=8712||r===8715||r===8719||r===8721||r===8725||r===8730||8733<=r&&r<=8736||r===8739||r===8741||8743<=r&&r<=8748||r===8750||8756<=r&&r<=8759||8764<=r&&r<=8765||r===8776||r===8780||r===8786||8800<=r&&r<=8801||8804<=r&&r<=8807||8810<=r&&r<=8811||8814<=r&&r<=8815||8834<=r&&r<=8835||8838<=r&&r<=8839||r===8853||r===8857||r===8869||r===8895||r===8978||9312<=r&&r<=9449||9451<=r&&r<=9547||9552<=r&&r<=9587||9600<=r&&r<=9615||9618<=r&&r<=9621||9632<=r&&r<=9633||9635<=r&&r<=9641||9650<=r&&r<=9651||9654<=r&&r<=9655||9660<=r&&r<=9661||9664<=r&&r<=9665||9670<=r&&r<=9672||r===9675||9678<=r&&r<=9681||9698<=r&&r<=9701||r===9711||9733<=r&&r<=9734||r===9737||9742<=r&&r<=9743||9748<=r&&r<=9749||r===9756||r===9758||r===9792||r===9794||9824<=r&&r<=9825||9827<=r&&r<=9829||9831<=r&&r<=9834||9836<=r&&r<=9837||r===9839||9886<=r&&r<=9887||9918<=r&&r<=9919||9924<=r&&r<=9933||9935<=r&&r<=9953||r===9955||9960<=r&&r<=9983||r===10045||r===10071||10102<=r&&r<=10111||11093<=r&&r<=11097||12872<=r&&r<=12879||57344<=r&&r<=63743||65024<=r&&r<=65039||r===65533||127232<=r&&r<=127242||127248<=r&&r<=127277||127280<=r&&r<=127337||127344<=r&&r<=127386||917760<=r&&r<=917999||983040<=r&&r<=1048573||1048576<=r&&r<=1114109?"A":"N"};function w3(n,t={}){const{fontStyle:e=t.fontStyle,fontVariant:r=t.fontVariant,fontWeight:i=t.fontWeight,fontSize:s=t.fontSize,fontFamily:o=t.fontFamily}=n;return(e?e+" ":"")+(r?r+" ":"")+(i?i+" ":"")+s+"px "+(o||"sans-serif")}class Je{constructor(t,e){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet=`-/: .,@%'"~`,this._option=t,this._userSpec=e??{},this.textSpec=this._initSpec(),q(t.specialCharSet)&&(this.specialCharSet=t.specialCharSet),this._standardMethod=q(t.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(z(this._canvas)&&(q(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),z(this._canvas)&&typeof window<"u"&&window.document!==void 0&&globalThis&&q(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),z(this._context)&&q(this._canvas)){const t=this._canvas.getContext("2d");q(t)&&(t.save(),t.font=w3(this.textSpec),this._contextSaved=!0,this._context=t)}return!z(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var t,e,r;const{defaultFontParams:i={}}=this._option,{fontStyle:s=i.fontStyle,fontVariant:o=i.fontVariant,fontWeight:a=(t=i.fontWeight)!==null&&t!==void 0?t:"normal",fontSize:l=(e=i.fontSize)!==null&&e!==void 0?e:12,fontFamily:u=(r=i.fontFamily)!==null&&r!==void 0?r:"sans-serif",align:c,textAlign:h=c??"center",baseline:d,textBaseline:f=d??"middle",ellipsis:p,limit:g}=this._userSpec;let{lineHeight:_=l}=this._userSpec;if(dt(_)&&_[_.length-1]==="%"){const m=Number.parseFloat(_.substring(0,_.length-1))/100;_=l*m}return{fontStyle:s,fontVariant:o,fontFamily:u,fontSize:l,fontWeight:a,textAlign:h,textBaseline:f,ellipsis:p,limit:g,lineHeight:_}}measure(t,e){switch(e){case"vrender":case"canopus":return this.fullMeasure(t);case"canvas":return this.measureWithNaiveCanvas(t);case"simple":return this.quickMeasureWithoutCanvas(t);default:return this.quickMeasure(t)}}fullMeasure(t){if(z(t))return{width:0,height:0};if(z(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(t);const{fontFamily:e,fontSize:r,fontWeight:i,textAlign:s,textBaseline:o,ellipsis:a,limit:l,lineHeight:u}=this.textSpec;let c;try{const h=this._option.getTextBounds({text:t,fontFamily:e,fontSize:r,fontWeight:i,textAlign:s,textBaseline:o,ellipsis:!!a,maxLineWidth:l||1/0,lineHeight:u});c={width:h.width(),height:h.height()}}catch{this._notSupportVRender=!0,c=this.measureWithNaiveCanvas(t)}return c}measureWithNaiveCanvas(t){return this._measureReduce(t,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(t){var e;if(!this.initContext())return this._quickMeasureWithoutCanvas(t);const r=this._context.measureText(t),{fontSize:i,lineHeight:s}=this.textSpec;return{width:r.width,height:(e=s)!==null&&e!==void 0?e:i}}quickMeasure(t){return this._measureReduce(t,this._quickMeasure.bind(this))}_quickMeasure(t){const e={width:0,height:0};for(let r=0;r<t.length;r++){const i=t[r];let s=this._measureSpecialChar(i);z(s)&&Je.NUMBERS_CHAR_SET.includes(i)&&(s=this._measureNumberChar()),z(s)&&["F","W"].includes(rb(i))&&(s=this._measureFullSizeChar()),z(s)&&(s=this._measureLetterChar()),e.width+=s.width,e.height=Math.max(e.height,s.height)}return e}quickMeasureWithoutCanvas(t){return this._measureReduce(t,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(t){var e;const r={width:0,height:0},{fontSize:i,lineHeight:s}=this.textSpec;for(let o=0;o<t.length;o++){const a=t[o],l=["F","W"].includes(rb(a))?1:.53;r.width+=l*i}return r.height=(e=s)!==null&&e!==void 0?e:i,r}_measureReduce(t,e){var r;const{fontSize:i,lineHeight:s}=this.textSpec,o={width:0,height:0};if(z(t))return o;if(ft(t)){const a=t.filter(q).map(l=>l.toString());return a.length===0?o:a.length===1?e(a[0]):{width:a.reduce((l,u)=>Math.max(l,e(u).width),0),height:a.length*(((r=s)!==null&&r!==void 0?r:i)+1)+1}}return e(t.toString())}_measureNumberChar(){if(z(this._numberCharSize)){const t=this._standardMethod(Je.NUMBERS_CHAR_SET);this._numberCharSize={width:t.width/Je.NUMBERS_CHAR_SET.length,height:t.height}}return this._numberCharSize}_measureFullSizeChar(){return z(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(Je.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(z(this._letterCharSize)){const t=this._standardMethod(Je.ALPHABET_CHAR_SET);this._letterCharSize={width:t.width/Je.ALPHABET_CHAR_SET.length,height:t.height}}return this._letterCharSize}_measureSpecialChar(t){return q(this._specialCharSizeMap[t])?this._specialCharSizeMap[t]:this.specialCharSet.includes(t)?(this._specialCharSizeMap[t]=this._standardMethod(t),this._specialCharSizeMap[t]):null}release(){q(this._canvas)&&(this._canvas=null),q(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}Je.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",Je.NUMBERS_CHAR_SET="0123456789",Je.FULL_SIZE_CHAR="";const x3=(n,t)=>{const{x1:e,x2:r,y1:i,y2:s}=n,o=Math.abs(r-e),a=Math.abs(s-i);let l=(e+r)/2,u=(i+s)/2,c=0,h=0;switch(t){case"top":case"inside-top":h=-.5;break;case"bottom":case"inside-bottom":h=.5;break;case"left":case"inside-left":c=-.5;break;case"right":case"inside-right":c=.5;break;case"top-right":c=.5,h=-.5;break;case"top-left":c=-.5,h=-.5;break;case"bottom-right":c=.5,h=.5;break;case"bottom-left":c=-.5,h=.5}return l+=c*o,u+=h*a,{x:l,y:u}},C3=typeof console<"u";function Vu(n,t,e){const r=[t].concat([].slice.call(e));C3&&console[n].apply(console,r)}var Cn;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(Cn||(Cn={}));class xt{static getInstance(t,e){return xt._instance&&Tt(t)?xt._instance.level(t):xt._instance||(xt._instance=new xt(t,e)),xt._instance}static setInstance(t){return xt._instance=t}static setInstanceLevel(t){xt._instance?xt._instance.level(t):xt._instance=new xt(t)}static clearInstance(){xt._instance=null}constructor(t=Cn.None,e){this._onErrorHandler=[],this._level=t,this._method=e}addErrorHandler(t){this._onErrorHandler.find(e=>e===t)||this._onErrorHandler.push(t)}removeErrorHandler(t){const e=this._onErrorHandler.findIndex(r=>r===t);e<0||this._onErrorHandler.splice(e,1)}callErrorHandler(...t){this._onErrorHandler.forEach(e=>e(...t))}canLogInfo(){return this._level>=Cn.Info}canLogDebug(){return this._level>=Cn.Debug}canLogError(){return this._level>=Cn.Error}canLogWarn(){return this._level>=Cn.Warn}level(t){return arguments.length?(this._level=+t,this):this._level}error(...t){var e;return this._level>=Cn.Error&&(this._onErrorHandler.length?this.callErrorHandler(...t):Vu((e=this._method)!==null&&e!==void 0?e:"error","ERROR",t)),this}warn(...t){return this._level>=Cn.Warn&&Vu(this._method||"warn","WARN",t),this}info(...t){return this._level>=Cn.Info&&Vu(this._method||"log","INFO",t),this}debug(...t){return this._level>=Cn.Debug&&Vu(this._method||"log","DEBUG",t),this}}xt._instance=null;function im(n,t=0,e=0){if(!n)return{width:t,height:e};let r;try{r=window==null?void 0:window.getComputedStyle}catch{r=()=>({})}const i=r(n);if(/^(\d*\.?\d+)(px)$/.exec(i.width)){const s=parseFloat(i.width)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)||n.clientWidth-1,o=parseFloat(i.height)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)||n.clientHeight-1;return{width:s<=0?t:s,height:o<=0?e:o}}return{width:t,height:e}}const S3=(n="")=>{const t={};return n.split(";").forEach(e=>{if(e){const r=e.split(":");if(r.length===2){const i=r[0].trim(),s=r[1].trim();i&&s&&(t[i]=s)}}}),t},ib=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase(),E3=(n,t)=>{const{callback:e}=t;return e&&(n=n.filter(e)),n},O3=function(n,...t){return T3(Ni(n),...t)};function jE(n,t,e){const r=t[e];if(r===void 0)n[e]=null;else if(zt(r)){zt(n[e])||(n[e]={});for(const i in r)jE(n[e],r,i)}else n[e]=r}function k3(n,t){if(zt(t)&&n!==t)for(const e in t)jE(n,t,e)}function T3(n,...t){n||(n={});let e=-1;const r=t.length;for(;++e<r;)k3(n,t[e]);return n}var $l;(function(n){n.DSV="dsv",n.TREE="tree",n.GEO="geo",n.BYTE="bytejson",n.HEX="hex",n.GRAPH="graph",n.TABLE="table",n.GEO_GRATICULE="geo-graticule"})($l||($l={}));const A3=(n,t)=>{const{fields:e,key:r,value:i,retains:s}=t,o=[];for(let a=0;a<n.length;a++)e.forEach(l=>{const u={};if(u[r]=l,u[i]=n[a][l],s)s.forEach(c=>{u[c]=n[a][c]});else for(const c in n[a])e.indexOf(c)===-1&&(u[c]=n[a][c]);o.push(u)});return o},NE=(n,t)=>{var e,r;if(!(t!=null&&t.fields)||n.length===0)return n;const i=t.fields,s=n[0],o={},a=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const u=i[l];if(!u.type){let h=s;l in s||(h=(e=n.find(d=>l in d))!==null&&e!==void 0?e:s),u.type=typeof h[l]=="number"?"linear":"ordinal"}let c;if(typeof u.sortIndex=="number"&&(c={key:l,type:u.type,index:u.sortIndex,sortIndex:{},sortIndexCount:0,sortReverse:u.sortReverse===!0},a.push(c)),((r=u.domain)===null||r===void 0?void 0:r.length)>0)if(u.type==="ordinal"){u._domainCache={},o[l]=u;const h={};u.domain.forEach((d,f)=>{h[d]=f,u._domainCache[d]=f}),c&&(c.sortIndex=h,c.sortIndexCount=u.domain.length)}else u.domain.length>=2&&(o[l]=u)}return Object.keys(o).length>0&&(n=n.filter(l=>{for(const u in o){const c=o[u];if(c.type==="ordinal"){if(!(l[u]in c._domainCache))return!1}else if(c.domain[0]>l[u]||c.domain[1]<l[u])return!1}return!0})),a.sort((l,u)=>l.index-u.index),n.sort((l,u)=>M3(l,u,a)),n};function M3(n,t,e){for(let r=0;r<e.length;r++){const i=e[r];let s=0;if(i.type==="ordinal"?(i.sortIndex[t[i.key]]===void 0&&(i.sortIndex[t[i.key]]=i.sortIndexCount++),i.sortIndex[n[i.key]]===void 0&&(i.sortIndex[n[i.key]]=i.sortIndexCount++),s=i.sortIndex[n[i.key]]-i.sortIndex[t[i.key]]):i.type==="linear"&&(s=n[i.key]-t[i.key]),i.sortReverse&&(s=-s),s!==0)return s}return 0}var sb={},lp={},up=34,Ea=10,cp=13;function FE(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function P3(n,t){var e=FE(n);return function(r,i){return t(e(r),i,n)}}function ob(n){var t=Object.create(null),e=[];return n.forEach(function(r){for(var i in r)i in t||e.push(t[i]=i)}),e}function cn(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function I3(n){return n<0?"-"+cn(-n,6):n>9999?"+"+cn(n,6):cn(n,4)}function R3(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),r=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":I3(n.getUTCFullYear())+"-"+cn(n.getUTCMonth()+1,2)+"-"+cn(n.getUTCDate(),2)+(i?"T"+cn(t,2)+":"+cn(e,2)+":"+cn(r,2)+"."+cn(i,3)+"Z":r?"T"+cn(t,2)+":"+cn(e,2)+":"+cn(r,2)+"Z":e||t?"T"+cn(t,2)+":"+cn(e,2)+"Z":"")}function xy(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function r(h,d){var f,p,g=i(h,function(_,m){if(f)return f(_,m-1);p=_,f=d?P3(_,d):FE(_)});return g.columns=p||[],g}function i(h,d){var f=[],p=h.length,g=0,_=0,m,y=p<=0,v=!1;h.charCodeAt(p-1)===Ea&&--p,h.charCodeAt(p-1)===cp&&--p;function b(){if(y)return lp;if(v)return v=!1,sb;var w,C=g,S;if(h.charCodeAt(C)===up){for(;g++<p&&h.charCodeAt(g)!==up||h.charCodeAt(++g)===up;);return(w=g)>=p?y=!0:(S=h.charCodeAt(g++))===Ea?v=!0:S===cp&&(v=!0,h.charCodeAt(g)===Ea&&++g),h.slice(C+1,w-1).replace(/""/g,'"')}for(;g<p;){if((S=h.charCodeAt(w=g++))===Ea)v=!0;else if(S===cp)v=!0,h.charCodeAt(g)===Ea&&++g;else if(S!==e)continue;return h.slice(C,w)}return y=!0,h.slice(C,p)}for(;(m=b())!==lp;){for(var x=[];m!==sb&&m!==lp;)x.push(m),m=b();d&&(x=d(x,_++))==null||f.push(x)}return f}function s(h,d){return h.map(function(f){return d.map(function(p){return c(f[p])}).join(n)})}function o(h,d){return d==null&&(d=ob(h)),[d.map(c).join(n)].concat(s(h,d)).join(`
`)}function a(h,d){return d==null&&(d=ob(h)),s(h,d).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(n)}function c(h){return h==null?"":h instanceof Date?R3(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var D3=xy(","),B3=D3.parse,L3=xy("	"),j3=L3.parse;const N3={delimiter:","},zE=(n,t={},e)=>{e.type=$l.DSV;const r=O3(N3,t),{delimiter:i}=r;if(!dt(i))throw new TypeError("Invalid delimiter: must be a string!");return xy(i).parse(n)},$E=(n,t={},e)=>(e.type=$l.DSV,B3(n)),GE=(n,t={},e)=>(e.type=$l.DSV,j3(n)),F3=(n,t,e)=>{const r=!Ar(t==null?void 0:t.dependencyUpdate)||(t==null?void 0:t.dependencyUpdate);if(!n||!ft(n))throw new TypeError("Invalid data: must be DataView array!");return ft(e.rawData)&&e.rawData.forEach(i=>{i.target&&(i.target.removeListener("change",e.reRunAllTransform),i.target.removeListener("markRunning",e.markRunning))}),r&&n.forEach(i=>{i.target.addListener("change",e.reRunAllTransform),i.target.addListener("markRunning",e.markRunning)}),n};let hp=0;const z3=1e8;function HE(n="dataset"){return hp>z3&&(hp=0),n+"_"+hp++}class sm{constructor(t){var e;let r;this.options=t,this.isDataSet=!0,this.transformMap={},this.parserMap={},this.dataViewMap={},this.target=new Ts,r=t!=null&&t.name?t.name:HE("dataset"),this.name=r,this._logger=(e=t==null?void 0:t.logger)!==null&&e!==void 0?e:xt.getInstance()}setLogger(t){this._logger=t}getDataView(t){return this.dataViewMap[t]}setDataView(t,e){var r;this.dataViewMap[t]&&((r=this._logger)===null||r===void 0||r.error(`Error: dataView ${t} `)),this.dataViewMap[t]=e}removeDataView(t){this.dataViewMap[t]=null,delete this.dataViewMap[t]}registerParser(t,e){var r;this.parserMap[t]&&((r=this._logger)===null||r===void 0||r.warn(`Warn: transform ${t} `)),this.parserMap[t]=e}removeParser(t){this.parserMap[t]=null,delete this.parserMap[t]}getParser(t){return this.parserMap[t]||this.parserMap.default}registerTransform(t,e){var r;this.transformMap[t]&&((r=this._logger)===null||r===void 0||r.warn(`Warn: transform ${t} `)),this.transformMap[t]=e}removeTransform(t){this.transformMap[t]=null,delete this.transformMap[t]}getTransform(t){return this.transformMap[t]}multipleDataViewAddListener(t,e,r){this._callMap||(this._callMap=new Map);let i=this._callMap.get(r);i||(i=()=>{t.some(s=>s.isRunning)||r()}),t.forEach(s=>{s.target.addListener(e,i)}),this._callMap.set(r,i)}allDataViewAddListener(t,e){this.multipleDataViewAddListener(Object.values(this.dataViewMap),t,e)}multipleDataViewRemoveListener(t,e,r){if(this._callMap){const i=this._callMap.get(r);i&&t.forEach(s=>{s.target.removeListener(e,i)}),this._callMap.delete(r)}}multipleDataViewUpdateInParse(t){t.forEach(e=>{var r;return(r=this.getDataView(e.name))===null||r===void 0?void 0:r.markRunning()}),t.forEach(e=>{var r;return(r=this.getDataView(e.name))===null||r===void 0?void 0:r.parseNewData(e.data,e.options)})}multipleDataViewUpdateInRawData(t){t.forEach(e=>{var r;return(r=this.getDataView(e.name))===null||r===void 0?void 0:r.markRunning()}),t.forEach(e=>{var r;return(r=this.getDataView(e.name))===null||r===void 0?void 0:r.updateRawData(e.data,e.options)})}destroy(){this.transformMap=null,this.parserMap=null,this.dataViewMap=null,this._callMap=null,this.target.removeAllListeners()}}const dp="_data-view-diff-rank";class Yo{constructor(t,e){let r;this.dataSet=t,this.options=e,this.isDataView=!0,this.target=new Ts,this.parseOption=null,this.transformsArr=[],this.isRunning=!1,this.rawData={},this.history=!1,this.parserData={},this.latestData={},this._fields=null,this.reRunAllTransform=(i={pushHistory:!0,emitMessage:!0})=>(this.isRunning=!0,this.resetTransformData(),this.transformsArr.forEach(s=>{this.executeTransform(s,{pushHistory:i.pushHistory,emitMessage:!1}),this.isLastTransform(s)&&this.diffLastData()}),this.isRunning=!1,i.emitMessage!==!1&&this.target.emit("change",[]),this),this.markRunning=()=>{this.isRunning=!0,this.target.emit("markRunning",[])},r=e!=null&&e.name?e.name:HE("dataview"),this.name=r,e!=null&&e.history&&(this.history=e.history,this.historyData=[]),this.dataSet.setDataView(r,this),this.setFields(e==null?void 0:e.fields)}parse(t,e,r=!1){var i;this.isRunning=!0,r&&this.target.emit("beforeParse",[]),e&&(this.parseOption=e);const s=this.cloneParseData(t,e);if(e!=null&&e.type){const o=((i=this.dataSet.getParser(e.type))!==null&&i!==void 0?i:this.dataSet.getParser("bytejson"))(s,e.options,this);this.rawData=s,this.parserData=o,this.history&&this.historyData.push(s,o),this.latestData=o}else this.parserData=s,this.rawData=s,this.history&&this.historyData.push(s),this.latestData=s;return this.isRunning=!1,r&&this.target.emit("afterParse",[]),this}transform(t,e=!0){if(this.isRunning=!0,t&&t.type){let r=!0;if(t.type==="fields"){this._fields=t.options.fields;const i=this.transformsArr.findIndex(s=>s.type===t.type);i>=0&&(r=!1,this.transformsArr[i].options.fields=this._fields)}if(r&&this.transformsArr.push(t),e){const i=this.isLastTransform(t);this.executeTransform(t),i&&this.diffLastData()}}return this.sortTransform(),this.isRunning=!1,this}isLastTransform(t){return this.transformsArr[this.transformsArr.length-1]===t}sortTransform(){this.transformsArr.length>=2&&this.transformsArr.sort((t,e)=>{var r,i;return((r=t.level)!==null&&r!==void 0?r:0)-((i=e.level)!==null&&i!==void 0?i:0)})}executeTransform(t,e={pushHistory:!0,emitMessage:!0}){const{pushHistory:r,emitMessage:i}=e,s=this.dataSet.getTransform(t.type)(this.latestData,t.options);this.history&&r!==!1&&this.historyData.push(s),this.latestData=s,i!==!1&&this.target.emit("change",[])}resetTransformData(){this.latestData=this.parserData,this.history&&(this.historyData.length=0,this.historyData.push(this.rawData,this.parserData))}enableDiff(t){this._diffData=!0,this._diffKeys=t,this._diffMap=new Map,this._diffRank=0}disableDiff(){this._diffData=!1,this._diffMap=null,this._diffRank=null}resetDiff(){this._diffMap=new Map,this._diffRank=0}diffLastData(){var t;if(!this._diffData||!this.latestData.forEach||!(!((t=this._diffKeys)===null||t===void 0)&&t.length))return;const e=this._diffRank+1;if(this._diffRank===0)this.latestData.forEach(r=>{r[dp]=e,this._diffMap.set(this._diffKeys.reduce((i,s)=>i+r[s],""),r)}),this.latestDataAUD={add:Array.from(this.latestData),del:[],update:[]};else{let r;this.latestDataAUD={add:[],del:[],update:[]},this.latestData.forEach(i=>{i[dp]=e,r=this._diffKeys.reduce((s,o)=>s+i[o],""),this._diffMap.get(r)?this.latestDataAUD.update.push(i):this.latestDataAUD.add.push(i),this._diffMap.set(r,i)}),this._diffMap.forEach((i,s)=>{i[dp]<e&&(this.latestDataAUD.del.push(i),this._diffMap.delete(s))})}this._diffRank=e}cloneParseData(t,e){let r=!1;return t instanceof Yo||(e==null?void 0:e.clone)!==!0||(r=!0),r?Ni(t):t}parseNewData(t,e){this.parse(t,e||this.parseOption),this.reRunAllTransform()}updateRawData(t,e){const r=this.cloneParseData(t,e);this.rawData=r,this.parserData=r,this.latestData=r,this.reRunAllTransform()}getFields(){var t;return this._fields?this._fields:((t=this.parseOption)===null||t===void 0?void 0:t.type)==="dataview"&&this.rawData.length===1&&this.rawData[0].getFields?this.rawData[0].getFields():null}setFields(t,e=!1){this._fields=t&&e?Mr({},this._fields,t):t;const r=this.transformsArr.find(i=>i.type==="fields");!z(this._fields)&&z(r)?(this.dataSet.registerTransform("fields",NE),this.transform({type:"fields",options:{fields:this._fields}},!1)):r&&(r.options.fields=this._fields)}destroy(){this.dataSet.removeDataView(this.name),this._diffMap=null,this._diffRank=null,this.latestData=null,this.rawData=null,this.parserData=null,this.transformsArr=null,this.target=null}}class me{static GenAutoIncrementId(){return me.auto_increment_id++}}me.auto_increment_id=0;class en{constructor(t){this.id=me.GenAutoIncrementId(),this.registry=t}}const Xd="named",VE="inject",UE="multi_inject",WE="inversify:tagged",YE="inversify:paramtypes";class Cy{constructor(t,e){this.key=t,this.value=e}toString(){return this.key===Xd?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}var ab={};const So=function(n){var t;return function(e){const r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",o=i&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",l={__proto__:[]}instanceof Array,u=!a&&!l,c={create:a?function(){return lt(Object.create(null))}:l?function(){return lt({__proto__:null})}:function(){return lt({})},has:u?function(D,F){return r.call(D,F)}:function(D,F){return F in D},get:u?function(D,F){return r.call(D,F)?D[F]:void 0}:function(D,F){return D[F]}},h=Object.getPrototypeOf(Function),d=typeof process=="object"&&ab&&ab.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=d||typeof Map!="function"||typeof Map.prototype.entries!="function"?V():Map,p=((d||typeof Set!="function"||typeof Set.prototype.entries!="function")&&W(),new(d||typeof WeakMap!="function"?K():WeakMap));function g(D,F,H,Z){if(!R(H))throw new TypeError;return S(D,F,H,Z)}function _(D,F,H){if(!R(F))throw new TypeError;return O(H)||(H=A(H)),b(D,F,H)}function m(D,F,H){if(!R(F))throw new TypeError;return O(H)||(H=A(H)),x(D,F,H)}function y(D,F,H){if(!R(F))throw new TypeError;return O(H)||(H=A(H)),w(D,F,H)}function v(D,F,H){let Z=p.get(D);if(O(Z)){if(!H)return;Z=new f,p.set(D,Z)}let tt=Z.get(F);if(O(tt)){if(!H)return;tt=new f,Z.set(F,tt)}return tt}function b(D,F,H){if(x(D,F,H))return!0;const Z=G(F);return!T(Z)&&b(D,Z,H)}function x(D,F,H){const Z=v(F,H,!1);return!O(Z)&&P(Z.has(D))}function w(D,F,H){if(x(D,F,H))return C(D,F,H);const Z=G(F);return T(Z)?void 0:w(D,Z,H)}function C(D,F,H){const Z=v(F,H,!1);if(!O(Z))return Z.get(D)}function S(D,F,H,Z){v(H,Z,!0).set(D,F)}function k(D){if(D===null)return 1;switch(typeof D){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return D===null?1:6;default:return 6}}function O(D){return D===void 0}function T(D){return D===null}function I(D){return typeof D=="symbol"}function R(D){return typeof D=="object"?D!==null:typeof D=="function"}function N(D,F){switch(k(D)){case 0:case 1:case 2:case 3:case 4:case 5:return D}const H="string",Z=L(D,s);if(Z!==void 0){const tt=Z.call(D,H);if(R(tt))throw new TypeError;return tt}return j(D)}function j(D,F){{const H=D.toString;if($(H)){const tt=H.call(D);if(!R(tt))return tt}const Z=D.valueOf;if($(Z)){const tt=Z.call(D);if(!R(tt))return tt}}throw new TypeError}function P(D){return!!D}function B(D){return""+D}function A(D){const F=N(D);return I(F)?F:B(F)}function $(D){return typeof D=="function"}function L(D,F){const H=D[F];if(H!=null){if(!$(H))throw new TypeError;return H}}function G(D){const F=Object.getPrototypeOf(D);if(typeof D!="function"||D===h||F!==h)return F;const H=D.prototype,Z=H&&Object.getPrototypeOf(H);if(Z==null||Z===Object.prototype)return F;const tt=Z.constructor;return typeof tt!="function"||tt===D?F:tt}function V(){const D={},F=[],H=function(){function et(rt,Q,U){this._index=0,this._keys=rt,this._values=Q,this._selector=U}return et.prototype["@@iterator"]=function(){return this},et.prototype[o]=function(){return this},et.prototype.next=function(){const rt=this._index;if(rt>=0&&rt<this._keys.length){const Q=this._selector(this._keys[rt],this._values[rt]);return rt+1>=this._keys.length?(this._index=-1,this._keys=F,this._values=F):this._index++,{value:Q,done:!1}}return{value:void 0,done:!0}},et.prototype.throw=function(rt){throw this._index>=0&&(this._index=-1,this._keys=F,this._values=F),rt},et.prototype.return=function(rt){return this._index>=0&&(this._index=-1,this._keys=F,this._values=F),{value:rt,done:!0}},et}();return function(){function et(){this._keys=[],this._values=[],this._cacheKey=D,this._cacheIndex=-2}return Object.defineProperty(et.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),et.prototype.has=function(rt){return this._find(rt,!1)>=0},et.prototype.get=function(rt){const Q=this._find(rt,!1);return Q>=0?this._values[Q]:void 0},et.prototype.set=function(rt,Q){const U=this._find(rt,!0);return this._values[U]=Q,this},et.prototype.delete=function(rt){const Q=this._find(rt,!1);if(Q>=0){const U=this._keys.length;for(let X=Q+1;X<U;X++)this._keys[X-1]=this._keys[X],this._values[X-1]=this._values[X];return this._keys.length--,this._values.length--,rt===this._cacheKey&&(this._cacheKey=D,this._cacheIndex=-2),!0}return!1},et.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=D,this._cacheIndex=-2},et.prototype.keys=function(){return new H(this._keys,this._values,Z)},et.prototype.values=function(){return new H(this._keys,this._values,tt)},et.prototype.entries=function(){return new H(this._keys,this._values,ct)},et.prototype["@@iterator"]=function(){return this.entries()},et.prototype[o]=function(){return this.entries()},et.prototype._find=function(rt,Q){return this._cacheKey!==rt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=rt)),this._cacheIndex<0&&Q&&(this._cacheIndex=this._keys.length,this._keys.push(rt),this._values.push(void 0)),this._cacheIndex},et}();function Z(et,rt){return et}function tt(et,rt){return rt}function ct(et,rt){return[et,rt]}}function W(){return function(){function D(){this._map=new f}return Object.defineProperty(D.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),D.prototype.has=function(F){return this._map.has(F)},D.prototype.add=function(F){return this._map.set(F,F),this},D.prototype.delete=function(F){return this._map.delete(F)},D.prototype.clear=function(){this._map.clear()},D.prototype.keys=function(){return this._map.keys()},D.prototype.values=function(){return this._map.values()},D.prototype.entries=function(){return this._map.entries()},D.prototype["@@iterator"]=function(){return this.keys()},D.prototype[o]=function(){return this.keys()},D}()}function K(){const F=c.create(),H=Z();return function(){function Q(){this._key=Z()}return Q.prototype.has=function(U){const X=tt(U,!1);return X!==void 0&&c.has(X,this._key)},Q.prototype.get=function(U){const X=tt(U,!1);return X!==void 0?c.get(X,this._key):void 0},Q.prototype.set=function(U,X){return tt(U,!0)[this._key]=X,this},Q.prototype.delete=function(U){const X=tt(U,!1);return X!==void 0&&delete X[this._key]},Q.prototype.clear=function(){this._key=Z()},Q}();function Z(){let Q;do Q="@@WeakMap@@"+rt();while(c.has(F,Q));return F[Q]=!0,Q}function tt(Q,U){if(!r.call(Q,H)){if(!U)return;Object.defineProperty(Q,H,{value:c.create()})}return Q[H]}function ct(Q,U){for(let X=0;X<U;++X)Q[X]=255*Math.random()|0;return Q}function et(Q){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Q)):ct(new Uint8Array(Q),Q):ct(new Array(Q),Q)}function rt(){const Q=et(16);Q[6]=79&Q[6]|64,Q[8]=191&Q[8]|128;let U="";for(let X=0;X<16;++X){const gt=Q[X];X!==4&&X!==6&&X!==8||(U+="-"),gt<16&&(U+="0"),U+=gt.toString(16).toLowerCase()}return U}}function lt(D){return D.__=void 0,delete D.__,D}e("defineMetadata",g),e("hasMetadata",_),e("hasOwnMetadata",m),e("getMetadata",y)}((t=n,function(e,r){typeof t[e]!="function"&&Object.defineProperty(t,e,{configurable:!0,writable:!0,value:r})})),n}({});function $3(n,t,e,r){const i=[r];let s={};So.hasOwnMetadata(n,t)&&(s=So.getMetadata(n,t));let o=s[e];o===void 0&&(o=[]),o.push(...i),s[e]=o,So.defineMetadata(n,s,t)}function G3(n,t,e,r){$3(WE,n,e.toString(),r)}function XE(n){return(t,e,r)=>{G3(t,e,r,n)}}function KE(n){return t=>(e,r,i)=>XE(new Cy(n,t))(e,r,i)}const Ne=KE(VE),qE=KE(UE);function St(){return function(n){return So.defineMetadata(YE,null,n),n}}function fr(n){return XE(new Cy(Xd,n))}const xs={Singleton:"Singleton",Transient:"Transient"},vi={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};class Sy{constructor(t,e){this.id=me.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=vi.Invalid,this.constraint=r=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){const t=new Sy(this.serviceIdentifier,this.scope);return t.activated=t.scope===xs.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.provider=this.provider,t.constraint=this.constraint,t.cache=this.cache,t}}class H3{getConstructorMetadata(t){return{compilerGeneratedMetadata:So.getMetadata(YE,t),userGeneratedMetadata:So.getMetadata(WE,t)||{}}}getPropertiesMetadata(t){throw new Error("")}}const V3=n=>t=>{const e=r=>{if(r==null)return!1;if(r.key===n&&r.value===t)return!0;if(r.constructorArgsMetadata==null)return!1;const i=r.constructorArgsMetadata;for(let s=0;s<i.length;s++)if(i[s].key===n&&i[s].value===t)return!0;return!1};return e.metaData=new Cy(n,t),e},U3=V3(Xd);class Uu{constructor(t){this._binding=t}inRequestScope(){throw new Error("")}inSingletonScope(){return this._binding.scope=xs.Singleton,this}inTransientScope(){return this._binding.scope=xs.Transient,this}whenTargetNamed(t){return this._binding.constraint=U3(t),this}}class W3{constructor(t){this._binding=t}to(t){return this._binding.type=vi.Instance,this._binding.implementationType=t,new Uu(this._binding)}toSelf(){const t=this._binding.serviceIdentifier;return this.to(t)}toDynamicValue(t){return this._binding.type=vi.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new Uu(this._binding)}toConstantValue(t){return this._binding.type=vi.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=xs.Singleton,new Uu(this._binding)}toFactory(t){return this._binding.type=vi.Factory,this._binding.factory=t,this._binding.scope=xs.Singleton,new Uu(this._binding)}toService(t){this.toDynamicValue(e=>e.container.get(t))}}class Y3{constructor(t){const e=t||{};e.defaultScope=e.defaultScope||xs.Transient,this.options=e,this.id=me.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new H3}load(t){const e=this._getContainerModuleHelpersFactory()(t.id);t.registry(e.bindFunction,e.unbindFunction,e.isboundFunction,e.rebindFunction)}get(t){const e=this._getNotAllArgs(t,!1);return this._get(e)}getAll(t){const e=this._getAllArgs(t);return this._get(e)}getTagged(t,e,r){const i=this._getNotAllArgs(t,!1,e,r);return this._get(i)}getNamed(t,e){return this.getTagged(t,Xd,e)}isBound(t){return this._bindingDictionary.has(t)}bind(t){const e=this.options.defaultScope,r=new Sy(t,e),i=this._bindingDictionary.get(t)||[];return i.push(r),this._bindingDictionary.set(t,i),new W3(r)}unbind(t){this._bindingDictionary.delete(t)}rebind(t){return this.unbind(t),this.bind(t)}_getContainerModuleHelpersFactory(){const t=(o,a)=>{o._binding.moduleId=a},e=o=>a=>{const l=this.bind(a);return t(l,o),l},r=()=>o=>this.unbind(o),i=()=>o=>this.isBound(o),s=o=>a=>{const l=this.rebind(a);return t(l,o),l};return o=>({bindFunction:e(o),isboundFunction:i(),rebindFunction:s(o),unbindFunction:r(),unbindAsyncFunction:a=>null})}_getNotAllArgs(t,e,r,i){return{avoidConstraints:!1,isMultiInject:e,serviceIdentifier:t,key:r,value:i}}_getAllArgs(t){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t}}_get(t){const e=[];return this._bindingDictionary.get(t.serviceIdentifier).filter(r=>r.constraint(t)).forEach(r=>{e.push(this._resolveFromBinding(r))}),t.isMultiInject||e.length!==1?e:e[0]}_getChildRequest(t){const e=t.implementationType,{userGeneratedMetadata:r}=this._metadataReader.getConstructorMetadata(e),i=Object.keys(r),s=[];for(let o=0;o<i.length;o++){const a=r[o],l={};a.forEach(f=>{l[f.key]=f.value});const u={inject:l[VE],multiInject:l[UE]},c=u.inject||u.multiInject,h={serviceIdentifier:c,constructorArgsMetadata:a},d={injectIdentifier:c,metadata:a,bindings:this._bindingDictionary.get(c).filter(f=>f.constraint(h))};s.push(d)}return s}_resolveFromBinding(t){const e=this._getResolvedFromBinding(t);return this._saveToScope(t,e),e}_getResolvedFromBinding(t){let e;switch(t.type){case vi.ConstantValue:case vi.Function:e=t.cache;break;case vi.Instance:e=this._resolveInstance(t,t.implementationType);break;default:e=t.dynamicValue({container:this})}return e}_resolveInstance(t,e){if(t.activated)return t.cache;const r=this._getChildRequest(t);return this._createInstance(e,r)}_createInstance(t,e){return e.length?new t(...this._resolveRequests(e)):new t}_resolveRequests(t){return t.map(e=>e.bindings.length>1?e.bindings.map(r=>this._resolveFromBinding(r)):this._resolveFromBinding(e.bindings[0]))}_saveToScope(t,e){t.scope===xs.Singleton&&(t.cache=e,t.activated=!0)}}const Bn=Symbol("ContributionProvider");class ZE{constructor(t,e){this.serviceIdentifier=t,this.container=e}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}}function yi(n,t){n(Bn).toDynamicValue(({container:e})=>new ZE(t,e)).inSingletonScope().whenTargetNamed(t)}function X3(n,t){n(Bn).toDynamicValue(({container:e})=>new ZE(t,e)).whenTargetNamed(t)}class K3{constructor(t,e){this._args=t,this.name=e,this.taps=[]}tap(t,e){this._tap("sync",t,e)}unTap(t,e){const r=typeof t=="string"?t.trim():t.name;r&&(this.taps=this.taps.filter(i=>i.name!==r&&(!e||i.fn===e)))}_parseOptions(t,e,r){let i;if(typeof e=="string")i={name:e.trim()};else if(typeof e!="object"||e===null)throw new Error("Invalid tap options");if(typeof i.name!="string"||i.name==="")throw new Error("Missing name for tap");return i=Object.assign({type:t,fn:r},i),i}_tap(t,e,r){this._insert(this._parseOptions(t,e,r))}_insert(t){let e;typeof t.before=="string"?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));let r=0;typeof t.stage=="number"&&(r=t.stage);let i=this.taps.length;for(;i>0;){i--;const s=this.taps[i];this.taps[i+1]=s;const o=s.stage||0;if(e){if(e.has(s.name)){e.delete(s.name);continue}if(e.size>0)continue}if(!(o>r)){i++;break}}this.taps[i]=t}}class En extends K3{call(...t){this.taps.map(e=>e.fn).forEach(e=>e(...t))}}const Kd=Symbol.for("EnvContribution"),Ey=Symbol.for("VGlobal");var q3=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Z3=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},lb=function(n,t){return function(e,r){t(e,r,n)}};let om=class{get env(){return this._env}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(n){this._env||this.setEnv("browser"),this.envContribution.supportEvent=n}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=n}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=n}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=n}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(n){this._env||this.setEnv("browser"),this.envContribution.applyStyles=n}constructor(n){this.contributions=n,this.id=me.GenAutoIncrementId(),this.hooks={onSetEnv:new En(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}bindContribution(n){const t=[];if(this.contributions.getContributions().forEach(e=>{const r=e.configure(this,n);r&&r.then&&t.push(r)}),t.length)return Promise.all(t)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(n,t){if(t&&t.force===!0||this._env!==n)return this.deactiveCurrentEnv(),this.activeEnv(n,t)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(n,t){const e=this._env;this._env=n;const r=this.bindContribution(t);if(r&&r.then)return r.then(()=>{this.envParams=t,this.hooks.onSetEnv.call(e,n,this)});this.envParams=t,this.hooks.onSetEnv.call(e,n,this)}setActiveEnvContribution(n){this.envContribution=n}createCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(n)}createOffscreenCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(n)}releaseCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(n)}addEventListener(n,t,e){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(n,t,e)}removeEventListener(n,t,e){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(n,t,e)}dispatchEvent(n){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(n)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(n){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(n):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(n,t){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(n,t):null}loadImage(n){return this._env||this.setEnv("browser"),this.envContribution.loadImage(n)}loadSvg(n){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(n)}loadJson(n){return this._env||this.setEnv("browser"),this.envContribution.loadJson(n)}loadArrayBuffer(n){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(n)}loadBlob(n){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(n)}isChrome(){return this._isChrome!=null||(this._env||this.setEnv("browser"),this._isChrome=this._env==="browser"&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return this._isSafari!=null||(this._env||this.setEnv("browser"),this._isSafari=this._env==="browser"&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(n){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(n)}removeDom(n){return this._env||this.setEnv("browser"),this.envContribution.removeDom(n)}createDom(n){return this._env||this.setEnv("browser"),this.envContribution.createDom(n)}updateDom(n,t){return this._env||this.setEnv("browser"),this.envContribution.updateDom(n,t)}getElementTop(n,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(n,t)}getElementLeft(n,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(n,t)}getElementTopLeft(n,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(n,t)}};om=q3([St(),lb(0,Ne(Bn)),lb(0,fr(Kd)),Z3("design:paramtypes",[Object])],om);const Q3=di-1e-8;class QE{constructor(t){this.init(t)}init(t){this.bounds=t}arc(t,e,r,i,s,o){if(Math.abs(s-i)>Q3)return this.bounds.add(t-r,e-r),void this.bounds.add(t+r,e+r);let a,l,u,c,h=1/0,d=-1/0,f=1/0,p=-1/0;function g(_){u=r*Math.cos(_),c=r*Math.sin(_),u<h&&(h=u),u>d&&(d=u),c<f&&(f=c),c>p&&(p=c)}if(g(i),g(s),s!==i)if((i%=di)<0&&(i+=di),(s%=di)<0&&(s+=di),s<i&&(o=!o,a=i,i=s,s=a),o)for(s-=di,a=i-i%hi,l=0;l<4&&a>s;++l,a-=hi)g(a);else for(a=i-i%hi+hi,l=0;l<4&&a<s;++l,a+=hi)g(a);this.bounds.add(t+h,e+f),this.bounds.add(t+d,e+p)}arcTo(t,e,r,i,s){throw new Error("arcTo")}bezierCurveTo(t,e,r,i,s,o){this.bounds.add(t,e),this.bounds.add(r,i),this.bounds.add(s,o)}closePath(){}ellipse(){throw new Error("ellipse")}lineTo(t,e){this.bounds.add(t,e)}moveTo(t,e){this.bounds.add(t,e)}quadraticCurveTo(t,e,r,i){this.bounds.add(t,e),this.bounds.add(r,i)}rect(t,e,r,i){this.bounds.add(t,e),this.bounds.add(t+r,e+i)}clear(){this.bounds.clear()}release(...t){}}class J3{constructor(){this.curves=[],this.bounds=new je}getCurveLengths(){return this.curves.map(t=>t.getLength())}getPointAt(t){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}const tN=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,eN={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},vt={A:0,AT:1,C:2,Z:3,E:4,L:5,M:6,Q:7,R:8};let fp,ub,Wu,cb,pp,Yu;function nN(n){if(!n)return[];const t=n.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(t===null)return[];let e,r;const i=[];for(let s=0,o=t.length;s<o;s++)if(fp=t[s],ub=fp.slice(1),Wu=fp[0],e=[Wu],r=ub.match(tN),r!==null){for(let a=0,l=r.length;a<l;a++)cb=r[a],pp=parseFloat(cb),Number.isNaN(pp)||e.push(pp);if(Yu=eN[Wu],e.length-1>Yu){let a;for(let l=1,u=e.length;l<u;l+=Yu){a=[Wu];for(let c=l,h=l+Yu;c<h;c++)a.push(e[c]);i.push(a)}}else i.push(e)}else i.push(e);return i}var Rt;(function(n){n[n.NONE=0]="NONE",n[n.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",n[n.UPDATE_SHAPE=2]="UPDATE_SHAPE",n[n.CLEAR_SHAPE=253]="CLEAR_SHAPE",n[n.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",n[n.INIT=179]="INIT",n[n.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",n[n.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",n[n.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",n[n.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",n[n.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",n[n.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",n[n.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",n[n.CLEAR_LAYOUT=127]="CLEAR_LAYOUT"})(Rt||(Rt={}));var ch;(function(n){n[n.GLOBAL=1]="GLOBAL",n[n.LOCAL=16]="LOCAL",n[n.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",n[n.LOCAL_ACCURATE=48]="LOCAL_ACCURATE"})(ch||(ch={}));var Oe;(function(n){n[n.INIT=0]="INIT",n[n.DEFAULT=1]="DEFAULT",n[n.STATE=2]="STATE",n[n.ANIMATE_BIND=10]="ANIMATE_BIND",n[n.ANIMATE_PLAY=11]="ANIMATE_PLAY",n[n.ANIMATE_START=12]="ANIMATE_START",n[n.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",n[n.ANIMATE_END=14]="ANIMATE_END",n[n.TRANSLATE=20]="TRANSLATE",n[n.TRANSLATE_TO=21]="TRANSLATE_TO",n[n.SCALE=22]="SCALE",n[n.SCALE_TO=23]="SCALE_TO",n[n.ROTATE=24]="ROTATE",n[n.ROTATE_TO=25]="ROTATE_TO"})(Oe||(Oe={}));var Ye;(function(n){n[n.INITIAL=0]="INITIAL",n[n.RUNNING=1]="RUNNING",n[n.PAUSED=2]="PAUSED",n[n.END=3]="END"})(Ye||(Ye={}));var Gl;(function(n){n[n.NORMAL=0]="NORMAL",n[n.SET_ATTR_IMMEDIATELY=1]="SET_ATTR_IMMEDIATELY"})(Gl||(Gl={}));var uo;(function(n){n.wait="wait",n.from="from",n.to="to",n.customAnimate="customAnimate"})(uo||(uo={}));var $t;(function(n){n[n.ROW=1]="ROW",n[n.COLUMN=2]="COLUMN"})($t||($t={}));var hh;(function(n){n[n.CubicBezierCurve=0]="CubicBezierCurve",n[n.QuadraticBezierCurve=1]="QuadraticBezierCurve",n[n.ArcCurve=2]="ArcCurve",n[n.LineCurve=3]="LineCurve",n[n.EllipseCurve=4]="EllipseCurve",n[n.MoveCurve=5]="MoveCurve"})(hh||(hh={}));var pr;(function(n){n[n.beforeFillStroke=0]="beforeFillStroke",n[n.afterFillStroke=1]="afterFillStroke"})(pr||(pr={}));function rN(n,t,e,r,i,s,o,a,l){const u=LE(o),c=Math.sin(u),h=Math.cos(u),d=h*(a-n)*.5+c*(l-t)*.5,f=h*(l-t)*.5-c*(a-n)*.5;let p=d*d/((e=Math.abs(e))*e)+f*f/((r=Math.abs(r))*r);p>1&&(p=Math.sqrt(p),e*=p,r*=p);const g=h/e,_=c/e,m=-c/r,y=h/r,v=g*a+_*l,b=m*a+y*l,x=g*n+_*t,w=m*n+y*t;let C=1/((x-v)*(x-v)+(w-b)*(w-b))-.25;C<0&&(C=0);let S=Math.sqrt(C);s===i&&(S=-S);const k=.5*(v+x)-S*(w-b),O=.5*(b+w)+S*(x-v),T=Math.atan2(b-O,v-k);let I=Math.atan2(w-O,x-k)-T;I<0&&s===1?I+=di:I>0&&s===0&&(I-=di);const R=Math.ceil(Math.abs(I/(hi+.001))),N=[];for(let j=0;j<R;++j){const P=T+j*I/R,B=T+(j+1)*I/R;N[j]=[k,O,P,B,e,r,c,h]}return N}function iN(n){const t=n[0],e=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],l=n[7],u=l*s,c=-a*o,h=a*s,d=l*o,f=Math.cos(r),p=Math.sin(r),g=Math.cos(i),_=Math.sin(i),m=.5*(i-r),y=Math.sin(.5*m),v=8/3*y*y/Math.sin(m),b=t+f-v*p,x=e+p+v*f,w=t+g,C=e+_,S=w+v*_,k=C-v*g;return[u*b+c*x,h*b+d*x,u*S+c*k,h*S+d*k,u*w+c*C,h*w+d*C]}function hb(n,t,e,r){const i=rN(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,e);for(let s=0;s<i.length;++s){const o=iN(i[s]);n.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const wc=(n,t,e,r,i,s,o)=>{const a=Math.abs(e-t),l=4*Math.tan(a/4)/3,u=e<t?-1:1,c=Math.cos(t),h=Math.sin(t),d=Math.cos(e),f=Math.sin(e),p=c*s+r,g=h*o+i,_=d*s+r,m=f*o+i,y=s*l*u,v=o*l*u;n.push(p-y*h,g+v*c,_+y*f,m-v*d,_,m)},sN=[(n,t,e,r,i,s,o)=>t.arc(n[1]*i+e,n[2]*s+r,n[3]*(i+s)/2,n[4],n[5],n[6],o),(n,t,e,r,i,s,o)=>t.arcTo(n[1]*i+e,n[2]*s+r,n[3]*i+e,n[4]*s+r,n[5]*(i+s)/2,o),(n,t,e,r,i,s,o)=>t.bezierCurveTo(n[1]*i+e,n[2]*s+r,n[3]*i+e,n[4]*s+r,n[5]*i+e,n[6]*s+r,o),(n,t,e,r)=>t.closePath(),(n,t,e,r,i,s)=>t.ellipse(n[1]*i+e,n[2]*s+r,n[3]*i,n[4]*s,n[5],n[6],n[7],n[8]),(n,t,e,r,i,s,o)=>t.lineTo(n[1]*i+e,n[2]*s+r,o),(n,t,e,r,i,s,o)=>t.moveTo(n[1]*i+e,n[2]*s+r,o),(n,t,e,r,i,s,o)=>t.quadraticCurveTo(n[1]*i+e,n[2]*s+r,n[3]*i+e,n[4]*s+r,o),(n,t,e,r,i,s,o)=>t.rect(n[1]*i+e,n[2]*s+r,n[3]*i,n[4]*s,o)];function Oy(n,t,e=0,r=0,i=1,s=1,o){for(let a=0;a<n.length;a++){const l=n[a];sN[l[0]](l,t,e,r,i,s,o)}}class JE{getLength(t){return t!=null?this.calcProjLength(t):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}function oN(n,t){let e=0;const r=n.length;for(let i=0;i<r;i++){const s=n[i],o=t[i],a=n[(i+1)%r],l=t[(i+1)%r];e+=Tn.distanceNN(s,o,a,l)}return e/2}function aN(n,t,e,r,i){return oN([n.x,t.x,e.x,r.x],[n.y,t.y,e.y,r.y])}function db(n,t,e,r,i){const s=1-i;return s*s*s*n+3*t*i*s*s+3*e*i*i*s+r*i*i*i}function tO(n,t,e,r,i){const s=db(n.x,t.x,e.x,r.x,i),o=db(n.y,t.y,e.y,r.y,i);return new xe(s,o)}function am(n,t){const{p0:e,p1:r,p2:i,p3:s}=n,o=tO(e,r,i,s,t),a=Tn.pointAtPP(e,r,t),l=Tn.pointAtPP(r,i,t),u=Tn.pointAtPP(i,s,t),c=Tn.pointAtPP(a,l,t),h=Tn.pointAtPP(l,u,t);return[new lm(e,a,c,o),new lm(o,h,u,s)]}class lm extends JE{constructor(t,e,r,i){super(),this.type=hh.CubicBezierCurve,this.p0=t,this.p1=e,this.p2=r,this.p3=i}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(t){if(this.defined!==!1)return tO(this.p0,this.p1,this.p2,this.p3,t);throw new Error("definedfalsegetPointAt")}calcLength(){return this._validPoint()?aN(this.p0,this.p1,this.p2,this.p3):60}calcProjLength(t){return t===$t.ROW?Ht(this.p0.x-this.p3.x):t===$t.COLUMN?Ht(this.p0.y-this.p3.y):0}getAngleAt(t){const e=wy(t-.01,0),r=ou(t+.01,1),i=this.getPointAt(e),s=this.getPointAt(r);return BE(s.y-i.y,s.x-i.x)}}function fb(n,t){const{p0:e,p1:r}=n,i=Tn.pointAtPP(e,r,t);return[new um(e,i),new um(i,r)]}class um extends JE{constructor(t,e){super(),this.type=hh.LineCurve,this.p0=t,this.p1=e}getPointAt(t){if(this.defined!==!1)return Tn.pointAtPP(this.p0,this.p1,t);throw new Error("definedfalsegetPointAt")}getAngleAt(t){return this.angle==null&&(this.angle=BE(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?Tn.distancePP(this.p0,this.p1):60}calcProjLength(t){return t===$t.ROW?Ht(this.p0.x-this.p1.x):t===$t.COLUMN?Ht(this.p0.y-this.p1.y):0}}class ky{get endX(){return this._lastX}get endY(){return this._lastY}constructor(t,e){this.init(t,e)}init(t,e){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=t,this.direction=e,this.curves=[]}bezierCurveTo(t,e,r,i,s,o,a,l){const u=new lm(new xe(this._lastX,this._lastY),new xe(t,e),new xe(r,i),new xe(s,o));u.originP1=this._lastOriginP,u.originP2=l,u.defined=a,this.curves.push(u),this._lastX=s,this._lastY=o,this._lastOriginP=l}closePath(){if(this.curves.length<2)return;const t=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,t.defined,this._startOriginP)}ellipse(){throw new Error("SegContextellipse")}lineTo(t,e,r,i){const s=this.addLinearCurve(t,e,r,this._lastOriginP,i);this.curves.push(s),this._lastX=t,this._lastY=e,this._lastOriginP=i}moveTo(t,e,r){return this._lastX=this._startX=t,this._lastY=this._startY=e,this._lastOriginP=r,this._startOriginP=r,this}quadraticCurveTo(t,e,r,i){throw new Error("SegContextquadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(t){return this.getLength(t)}addLinearCurve(t,e,r,i,s){const o=new um(new xe(this._lastX,this._lastY),new xe(t,e));return o.originP1=i,o.originP2=s,o.defined=r,o}getPointAt(t){throw new Error("")}getCurveLengths(){return[]}getLength(t){var e,r;if(t===$t.COLUMN){if(!this.curves.length)return 0;const i=this.curves[0],s=this.curves[this.curves.length-1],o=(e=s.p3)!==null&&e!==void 0?e:s.p1;return Ht(i.p0.y-o.y)}if(t===$t.ROW){if(!this.curves.length)return 0;const i=this.curves[0],s=this.curves[this.curves.length-1],o=(r=s.p3)!==null&&r!==void 0?r:s.p1;return Ht(i.p0.x-o.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce((i,s)=>i+s.getLength(),0)),this.length}}class lN extends ky{bezierCurveTo(t,e,r,i,s,o,a,l){return super.bezierCurveTo(e,t,i,r,o,s,a,l)}lineTo(t,e,r,i){return super.lineTo(e,t,r,i)}moveTo(t,e,r){return super.moveTo(e,t,r)}clear(){return super.clear()}}function fa(n,t,e=1){let r=!1;for(let i=0,s=t.length;i<=s;i++)i>=s===r&&((r=!r)?n.lineStart():n.lineEnd()),r&&n.point(t[i])}function au(n,t,e){const r=t??(Ht(e[e.length-1].x-e[0].x)>Ht(e[e.length-1].y-e[0].y)?$t.ROW:$t.COLUMN);return n==="monotoneY"?new lN(n,r):new ky(n,r)}class eO{constructor(t,e){this.context=t,e&&(this.startPoint=e)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(t){const e=t.x,r=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,r,this._lastDefined!==!1&&t.defined!==!1,t):this.context.moveTo(e,r,t);break;case 1:this._point=2;default:this.context.lineTo(e,r,this._lastDefined!==!1&&t.defined!==!1,t)}this._lastDefined=t.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function lu(n,t={}){const{direction:e,startPoint:r}=t;if(n.length<2-+!!r)return null;const i=au("linear",e,n);return uN(new eO(i,r),n),i}function uN(n,t){return fa(n,t,1)}function pb(n,t,e,r,i){n.context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6,r,n.lastPoint1)}class cN{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){this._point===2&&pb(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(t){const e=t.x,r=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,r,this._lastDefined1!==!1&&this._lastDefined2!==!1,t):this.context.moveTo(e,r,t);break;case 1:this._point=2;break;default:pb(this,e,r,this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}function hN(n,t){return fa(n,t,2)}function nO(n,t={}){const{direction:e,startPoint:r}=t;if(n.length<2-+!!r)return null;if(n.length<3-+!!r)return lu(n,t);const i=au("basis",e,n);return hN(new cN(i,r),n),i}function gb(n){return n<0?-1:1}function mb(n,t,e){const r=n._x1-n._x0,i=t-n._x1,s=(n._y1-n._y0)/(r||Number(i<0&&-0)),o=(e-n._y1)/(i||Number(r<0&&-0)),a=(s*i+o*r)/(r+i);return(gb(s)+gb(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function vb(n,t){const e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function gp(n,t,e,r,i){const s=n._x0,o=n._y0,a=n._x1,l=n._y1,u=(a-s)/3;n.context.bezierCurveTo(s+u,o+u*t,a-u,l-u*e,a,l,r,n.lastPoint1)}class rO{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1);break;case 3:gp(this,this._t0,vb(this,this._t0),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1)}(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(t){let e=NaN;const r=t.x,i=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(r,i,this._lastDefined1!==!1&&this._lastDefined2!==!1,t):this.context.moveTo(r,i,t);break;case 1:this._point=2;break;case 2:this._point=3,gp(this,vb(this,e=mb(this,r,i)),e,this._lastDefined1!==!1&&this._lastDefined2!==!1);break;default:gp(this,this._t0,e=mb(this,r,i),this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=i,this._t0=e,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined!==!1,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}class dN extends rO{constructor(t,e){super(t,e)}point(t){return super.point({y:t.x,x:t.y,defined:t.defined})}}function fN(n,t){return fa(n,t,2)}function iO(n,t={}){const{direction:e,startPoint:r}=t;if(n.length<2-+!!r)return null;if(n.length<3-+!!r)return lu(n,t);const i=au("monotoneX",e,n);return fN(new rO(i,r),n),i}function pN(n,t){return fa(n,t,2)}function sO(n,t={}){const{direction:e,startPoint:r}=t;if(n.length<2-+!!r)return null;if(n.length<3-+!!r)return lu(n,t);const i=au("monotoneY",e,n);return pN(new dN(i,r),n),i}let gN=class{constructor(t,e=.5,r){this.context=t,this._t=e,this.startPoint=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&this._point===2&&this.context.lineTo(this._x,this._y,this._lastDefined!==!1,this.lastPoint),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(t){const e=t.x,r=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,r,this._lastDefined!==!1&&t.defined!==!1,t):this.context.moveTo(e,r,t);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,r,this._lastDefined!==!1&&t.defined!==!1,this.lastPoint),this.context.lineTo(e,r,this._lastDefined!==!1&&t.defined!==!1,t);else{const i=this._x*(1-this._t)+e*this._t;this.context.lineTo(i,this._y,this._lastDefined!==!1&&t.defined!==!1,this.lastPoint),this.context.lineTo(i,r,this._lastDefined!==!1&&t.defined!==!1,t)}}this._lastDefined=t.defined,this._x=e,this._y=r,this.lastPoint=t}tryUpdateLength(){return this.context.tryUpdateLength()}};function Eo(n,t,e={}){const{direction:r,startPoint:i}=e;if(n.length<2-+!!i)return null;const s=new ky("step",r??(Ht(n[n.length-1].x-n[0].x)>Ht(n[n.length-1].y-n[0].y)?$t.ROW:$t.COLUMN));return mN(new gN(s,t,i),n),s}function mN(n,t){return fa(n,t,1)}class vN extends eO{lineEnd(){this.context.closePath()}}function oO(n,t={}){const{direction:e,startPoint:r}=t;if(n.length<2-+!!r)return null;const i=au("linear",e,n);return yN(new vN(i,r),n),i}function yN(n,t){return fa(n,t,1)}function cm(n,t,e){switch(t){case"linear":default:return lu(n,e);case"basis":return nO(n,e);case"monotoneX":return iO(n,e);case"monotoneY":return sO(n,e);case"step":return Eo(n,.5,e);case"stepBefore":return Eo(n,0,e);case"stepAfter":return Eo(n,1,e);case"linearClosed":return oO(n,e)}}class Xo extends J3{constructor(t){super(),this.commandList=[],t&&(this._ctx=t),this._boundsContext=new QE(this.bounds)}setCtx(t){this._ctx=t}moveTo(t,e){return this.commandList.push([vt.M,t,e]),this._ctx&&this._ctx.moveTo(t,e),this}lineTo(t,e){return this.commandList.push([vt.L,t,e]),this._ctx&&this._ctx.lineTo(t,e),this}quadraticCurveTo(t,e,r,i){return this.commandList.push([vt.Q,t,e,r,i]),this._ctx&&this._ctx.quadraticCurveTo(t,e,r,i),this}bezierCurveTo(t,e,r,i,s,o){return this.commandList.push([vt.C,t,e,r,i,s,o]),this._ctx&&this._ctx.bezierCurveTo(t,e,r,i,s,o),this}arcTo(t,e,r,i,s){return this.commandList.push([vt.AT,t,e,r,i,s]),this._ctx&&this._ctx.arcTo(t,e,r,i,s),this}ellipse(t,e,r,i,s,o,a,l){return this.commandList.push([vt.E,t,e,r,i,s,o,a,l]),this._ctx&&this._ctx.ellipse(t,e,r,i,s,o,a,l),this}rect(t,e,r,i){return this.commandList.push([vt.R,t,e,r,i]),this._ctx&&this._ctx.rect(t,e,r,i),this}arc(t,e,r,i,s,o){return this.commandList.push([vt.A,t,e,r,i,s,o]),this._ctx&&this._ctx.arc(t,e,r,i,s,o),this}closePath(){return this.commandList.push([vt.Z]),this._ctx&&this._ctx.closePath(),this}addCurve(t){this.curves.push(t)}clear(){this.transformCbList=null,this.commandList.length=0,this.curves.length=0}beginPath(){this.clear()}toString(){if(!this.toStringCbList){const r=[];r[vt.M]=i=>`M${i[1]} ${i[2]}`,r[vt.L]=i=>`L${i[1]} ${i[2]}`,r[vt.Q]=i=>`Q${i[1]} ${i[2]} ${i[3]} ${i[4]}`,r[vt.C]=i=>`C${i[1]} ${i[2]} ${i[3]} ${i[4]} ${i[5]} ${i[6]}`,r[vt.A]=i=>{const s=[];wc(s,i[4],i[5],i[1],i[2],i[3],i[3]);let o="";for(let a=0;a<s.length;a+=6)o+=`C${s[a]} ${s[a+1]} ${s[a+2]} ${s[a+3]} ${s[a+4]} ${s[a+5]}`;return o},r[vt.R]=i=>`M${i[1]} ${i[2]} h${i[3]} v${i[4]} H${i[1]}Z`,r[vt.Z]=i=>"Z",this.toStringCbList=r}const t=this.toStringCbList;let e="";return this.commandList.forEach(r=>{e+=t[r[0]](r)}),e}fromString(t,e,r,i,s){this.clear();const o=nN(t);return this._runCommandStrList(o,e,r,i,s),this._updateBounds(),this}fromLine(t){const{points:e,curveType:r,clipRangeByDimension:i}=t.attribute;if(!e)return;const s=cm(e,r);i==="x"?this.direction=$t.ROW:i==="y"?this.direction=$t.COLUMN:i==="auto"&&(this.direction=s.direction),this.curves=s.curves}fromCustomPath2D(t,e,r,i,s){return this.clear(),this._runCommandList(t.commandList,e,r,i,s),this._updateBounds(),this}transform(t,e,r,i){const s=this.commandList;if(!this.transformCbList){const o=[];o[vt.M]=this.moveToTransform,o[vt.L]=this.lineToTransform,o[vt.Q]=this.quadraticCurveToTransform,o[vt.C]=this.bezierCurveToTransform,o[vt.AT]=this.arcToTransform,o[vt.E]=this.ellipseTransform,o[vt.R]=this.rectTransform,o[vt.A]=this.arcTransform,o[vt.Z]=this.closePathTransform,this.transformCbList=o}s.forEach(o=>{this.transformCbList[o[0]](o,t,e,r,i)}),this._updateBounds()}moveToTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r}lineToTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r}quadraticCurveToTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*i+e,t[4]=t[4]*s+r}bezierCurveToTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*i+e,t[4]=t[4]*s+r,t[5]=t[5]*i+e,t[6]=t[6]*s+r}arcToTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*i+e,t[4]=t[4]*s+r,t[5]=t[5]*(i+s)/2}ellipseTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*i,t[4]=t[4]*s}rectTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*i,t[4]=t[4]*s}arcTransform(t,e,r,i,s){t[1]=t[1]*i+e,t[2]=t[2]*s+r,t[3]=t[3]*(i+s)/2}closePathTransform(){}_runCommandStrList(t,e=0,r=0,i=1,s=1){let o,a,l,u,c,h=null,d=0,f=0,p=0,g=0;for(let _=0,m=t.length;_<m;++_){switch(o=t[_],i===1&&s===1||(o=_N(o,i,s)),o[0]){case"l":d+=o[1],f+=o[2],this.lineTo(d+e,f+r);break;case"L":d=o[1],f=o[2],this.lineTo(d+e,f+r);break;case"h":d+=o[1],this.lineTo(d+e,f+r);break;case"H":d=o[1],this.lineTo(d+e,f+r);break;case"v":f+=o[1],this.lineTo(d+e,f+r);break;case"V":f=o[1],this.lineTo(d+e,f+r);break;case"m":d+=o[1],f+=o[2],this.moveTo(d+e,f+r);break;case"M":d=o[1],f=o[2],this.moveTo(d+e,f+r);break;case"c":a=d+o[5],l=f+o[6],p=d+o[3],g=f+o[4],this.bezierCurveTo(d+o[1]+e,f+o[2]+r,p+e,g+r,a+e,l+r),d=a,f=l;break;case"C":d=o[5],f=o[6],p=o[3],g=o[4],this.bezierCurveTo(o[1]+e,o[2]+r,p+e,g+r,d+e,f+r);break;case"s":a=d+o[3],l=f+o[4],p=2*d-p,g=2*f-g,this.bezierCurveTo(p+e,g+r,d+o[1]+e,f+o[2]+r,a+e,l+r),p=d+o[1],g=f+o[2],d=a,f=l;break;case"S":a=o[3],l=o[4],p=2*d-p,g=2*f-g,this.bezierCurveTo(p+e,g+r,o[1]+e,o[2]+r,a+e,l+r),d=a,f=l,p=o[1],g=o[2];break;case"q":a=d+o[3],l=f+o[4],p=d+o[1],g=f+o[2],this.quadraticCurveTo(p+e,g+r,a+e,l+r),d=a,f=l;break;case"Q":a=o[3],l=o[4],this.quadraticCurveTo(o[1]+e,o[2]+r,a+e,l+r),d=a,f=l,p=o[1],g=o[2];break;case"t":a=d+o[1],l=f+o[2],h[0].match(/[QqTt]/)===null?(p=d,g=f):h[0]==="t"?(p=2*d-u,g=2*f-c):h[0]==="q"&&(p=2*d-p,g=2*f-g),u=p,c=g,this.quadraticCurveTo(p+e,g+r,a+e,l+r),d=a,f=l,p=d+o[1],g=f+o[2];break;case"T":a=o[1],l=o[2],p=2*d-p,g=2*f-g,this.quadraticCurveTo(p+e,g+r,a+e,l+r),d=a,f=l;break;case"a":hb(this,d+e,f+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+e,o[7]+f+r]),d+=o[6],f+=o[7];break;case"A":hb(this,d+e,f+r,[o[1],o[2],o[3],o[4],o[5],o[6]+e,o[7]+r]),d=o[6],f=o[7];break;case"z":case"Z":this.closePath()}h=o}}_runCommandList(t,e=0,r=0,i=1,s=1){if(e!==0||r!==0||i!==1||s!==1)for(let o=0,a=t.length;o<a;++o){const l=t[o].slice();switch(l[0]){case vt.L:this.lineToTransform(l,e,r,i,s);break;case vt.M:this.moveToTransform(l,e,r,i,s);break;case vt.C:this.bezierCurveToTransform(l,e,r,i,s);break;case vt.Q:this.quadraticCurveToTransform(l,e,r,i,s);break;case vt.A:this.arcToTransform(l,e,r,i,s);break;case vt.E:this.ellipseTransform(l,e,r,i,s);break;case vt.R:this.rectTransform(l,e,r,i,s);break;case vt.AT:this.arcToTransform(l,e,r,i,s);break;case vt.Z:this.closePath()}}else this.commandList=t.map(o=>o.slice())}_updateBounds(){this.bounds.clear(),Oy(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===$t.COLUMN){if(!this.curves.length)return 0;const t=this.curves[0],e=this.curves[this.curves.length-1];return Ht(t.p0.y-e.p1.y)}if(this.direction===$t.ROW){if(!this.curves.length)return 0;const t=this.curves[0],e=this.curves[this.curves.length-1];return Ht(t.p0.x-e.p1.x)}return this.curves.reduce((t,e)=>t+e.getLength(),0)}getAttrAt(t){if(!this.curves)return{pos:{x:0,y:0},angle:0};let e,r=0;for(let s=0;s<this.curves.length;s++){e=this.curves[s];const o=e.getLength(this.direction);if(r+o>=t)break;r+=o}const i=(t-r)/e.getLength(this.direction);return{pos:e.getPointAt(i),angle:e.getAngleAt(i)}}}const Fn=["l",0,0,0,0,0,0,0];function _N(n,t,e){const r=Fn[0]=n[0];if(r==="a"||r==="A")Fn[1]=t*n[1],Fn[2]=e*n[2],Fn[3]=n[3],Fn[4]=n[4],Fn[5]=n[5],Fn[6]=t*n[6],Fn[7]=e*n[7];else if(r==="h"||r==="H")Fn[1]=t*n[1];else if(r==="v"||r==="V")Fn[1]=e*n[1];else for(let i=1,s=n.length;i<s;++i)Fn[i]=(i%2==1?t:e)*n[i];return Fn}const bN={alignSelf:"auto"},_e={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new fe},aO={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},mp={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},lO=Object.assign({outerBorder:Object.assign(Object.assign({},mp),{distance:0}),innerBorder:Object.assign(Object.assign({},mp),{distance:0})},mp),Tr={text:"",maxLineWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:`PingFang SC,Microsoft Yahei,system-ui,-apple-system,segoe ui,
    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol`,fontWeight:"",ellipsis:"",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0},wN={pickStrokeBuffer:0},xN=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,blur:0,cursor:null,html:null,react:null},aO),lO),bN),wN),uO={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},CN={_debug_bounds:!1},Xt=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden"},CN),xN),_e),SN=Object.assign(Object.assign({},Xt),{startAngle:0,endAngle:Vt,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),EN=Object.assign(Object.assign(Object.assign({},Xt),uO),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1}),ON=Object.assign(Object.assign({},Xt),{radius:1,startAngle:0,endAngle:Vt}),kN=Object.assign(Object.assign({},Xt),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start"}),TN=Object.assign(Object.assign({},Xt),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),AN=Object.assign(Object.assign(Object.assign({},Xt),uO),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1}),MN=Object.assign(Object.assign({},Xt),{path:new Xo,customPath:()=>{xt.getInstance().warn("")}}),PN=Object.assign(Object.assign({},Xt),{points:[],cornerRadius:0,closePath:!0}),IN=Object.assign(Object.assign({},Xt),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0});Object.assign(Object.assign({},Xt),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0});const RN=Object.assign(Object.assign({},Xt),{symbolType:"circle",size:10,keepDirIn3d:!0}),cO=Object.assign(Object.assign(Object.assign({},Xt),Tr),{strokeBoundsBuffer:0,keepDirIn3d:!0}),DN=Object.assign(Object.assign(Object.assign({},Xt),Tr),{width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],forceBreakLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),hO=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0},Xt),{fill:!0,cornerRadius:0}),BN=Object.assign(Object.assign({},hO),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1});class LN{}const Y=new LN,yb=/\w|\(|\)|-/,jN=/[.?!,;:/]/;function vp(n,t){let e=t;for(;yb.test(n[e-1])&&yb.test(n[e])||jN.test(n[e]);)if(e--,e<=0)return t;return e}var NN=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let hm=class{configure(n,t){this.canvas=n.canvas,this.context=n.context,n.bindTextMeasure(this)}measureTextWidth(n,t){return this.context?(this.context.setTextStyleWithoutAlignBaseline(t),this.context.measureText(n).width):this.estimate(n,t).width}estimate(n,{fontSize:t=cO.fontSize}){let e=0,r=0;for(let i=0;i<n.length;i++)n.charCodeAt(i)<128?e++:r++;return{width:~~(.8*e*t+r*t),height:t}}measureTextPixelHeight(n,t){var e;if(!this.context)return(e=t.fontSize)!==null&&e!==void 0?e:Tr.fontSize;this.context.setTextStyleWithoutAlignBaseline(t);const r=this.context.measureText(n);return Math.abs(r.actualBoundingBoxAscent-r.actualBoundingBoxDescent)}measureTextBoundHieght(n,t){var e;if(!this.context)return(e=t.fontSize)!==null&&e!==void 0?e:Tr.fontSize;this.context.setTextStyleWithoutAlignBaseline(t);const r=this.context.measureText(n);return Math.abs(r.fontBoundingBoxAscent-r.fontBoundingBoxDescent)}measureText(n,t){return this.context?(this.context.setTextStyleWithoutAlignBaseline(t),this.context.measureText(n)):this.estimate(n,t)}clipTextVertical(n,t,e,r){if(n.length===0)return{verticalList:n,width:0};const{fontSize:i=12}=t;n.forEach(l=>{l.width=l.direction===0?i:this.measureTextWidth(l.text,t)});const s=[];let o=0,a=0;for(;a<n.length&&o+n[a].width<e;a++)o+=n[a].width,s.push(n[a]);if(n[a]&&n[a].text.length>1){const l=this._clipText(n[a].text,t,e-o,0,n[a].text.length-1,"end",!1);if(r&&l.str!==n[a].text){let u="",c=0;for(let f=0;f<a;f++){const p=n[f];u+=p.text,c+=p.text.length}u+=n[a].text;const h=c+l.str.length;let d=vp(u,h);d-=c,d!==l.str.length-1&&(l.str=l.str.substring(0,d),l.width=this.measureTextWidth(l.str,t))}s.push(Object.assign(Object.assign({},n[a]),{text:l.str,width:l.width})),o+=l.width}return{verticalList:s,width:o}}clipText(n,t,e,r){if(n.length===0)return{str:"",width:0};let i=this.measureTextWidth(n,t);if(i<=e)return{str:n,width:i};if(i=this.measureTextWidth(n[0],t),i>e)return{str:"",width:0};const s=this._clipText(n,t,e,0,n.length-1,"end",!1);if(r&&s.str!==n){const o=vp(n,s.str.length);o!==s.str.length&&(s.str=n.substring(0,o),s.width=this.measureTextWidth(s.str,t))}return s}_clipText(n,t,e,r,i,s,o){let a;if(s==="start")a=this._clipTextStart(n,t,e,r,i),o&&(a.result=o+a.str);else if(s==="middle"){const l=this._clipTextMiddle(n,t,e,"","",0,0,1);a={str:"none",width:l.width,result:l.left+o+l.right}}else a=this._clipTextEnd(n,t,e,r,i),o&&(a.result=a.str+o);return a}_clipTextEnd(n,t,e,r,i){const s=Math.floor((r+i)/2),o=n.substring(0,s+1),a=this.measureTextWidth(o,t);let l;if(a>e){if(o.length<=1)return{str:"",width:0};const u=n.substring(0,s);return l=this.measureTextWidth(u,t),l<=e?{str:u,width:l}:this._clipTextEnd(n,t,e,r,s)}if(a<e){if(s>=n.length-1)return{str:n,width:this.measureTextWidth(n,t)};const u=n.substring(0,s+2);return l=this.measureTextWidth(u,t),l>=e?{str:o,width:a}:this._clipTextEnd(n,t,e,s,i)}return{str:o,width:a}}_clipTextStart(n,t,e,r,i){const s=Math.ceil((r+i)/2),o=n.substring(s-1,n.length-1),a=this.measureTextWidth(o,t);let l;if(a>e){if(o.length<=1)return{str:"",width:0};const u=n.substring(s,n.length-1);return l=this.measureTextWidth(u,t),l<=e?{str:u,width:l}:this._clipTextStart(n,t,e,s,n.length-1)}if(a<e){if(s<=0)return{str:n,width:this.measureTextWidth(n,t)};const u=n.substring(s-2,n.length-1);return l=this.measureTextWidth(u,t),l>=e?{str:o,width:a}:this._clipTextStart(n,t,e,r,s)}return{str:o,width:a}}_clipTextMiddle(n,t,e,r,i,s,o,a){const l=n.substring(0,a),u=this.measureTextWidth(l,t);if(u+o>e)return{left:r,right:i,width:s+o};const c=n.substring(n.length-a,n.length),h=this.measureTextWidth(c,t);return u+h>e?{left:l,right:i,width:u+o}:this._clipTextMiddle(n,t,e,l,c,u,h,a+1)}clipTextWithSuffixVertical(n,t,e,r,i,s){if(r==="")return this.clipTextVertical(n,t,e,i);if(n.length===0)return{verticalList:n,width:0};const o=this.clipTextVertical(n,t,e,i);if(o.verticalList.length===n.length&&o.verticalList[o.verticalList.length-1].width===n[n.length-1].width)return o;const a=this.measureTextWidth(r,t);if(a>e)return o;let l;if(e-=a,s==="start"){const u=this.revertVerticalList(n);l=this.clipTextVertical(u,t,e,i);const c=this.revertVerticalList(l.verticalList);c.unshift({text:r,direction:1,width:a}),l.verticalList=c}else if(s==="middle"){const u=this.clipTextVertical(n,t,e/2,i),c=this.revertVerticalList(n),h=this.clipTextVertical(c,t,e/2,i);u.verticalList.push({text:r,direction:1,width:a}),this.revertVerticalList(h.verticalList).forEach(d=>u.verticalList.push(d)),l={verticalList:u.verticalList,width:u.width+h.width}}else l=this.clipTextVertical(n,t,e,i),l.verticalList.push({text:r,direction:1,width:a});return l.width+=a,l}revertVerticalList(n){return n.reverse().map(t=>{const e=t.text.split("").reverse().join("");return Object.assign(Object.assign({},t),{text:e})})}clipTextWithSuffix(n,t,e,r,i,s,o=!1){if(r==="")return this.clipText(n,t,e,i);if(n.length===0)return{str:"",width:0};const a=this.measureTextWidth(n,t);if(!o&&a<=e)return{str:n,width:a};const l=this.measureTextWidth(r,t);if(l>e)return{str:"",width:0};if(o&&a+l<=e)return{str:n+r,width:a+l};e-=l;const u=this._clipText(n,t,e,0,n.length-1,s,r);if(i&&u.str!==n){const c=vp(n,u.str.length);c!==u.str.length&&(u.result=n.substring(0,c),u.width=this.measureTextWidth(u.str,t))}else o&&u.str===n&&(u.result=n+r);return u.str=u.result,u.width+=l,u}};hm=NN([St()],hm);var FN=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};const dm=Symbol.for("TextMeasureContribution");let fm=class extends hm{};fm=FN([St()],fm);const Ft=new Y3,dO=Symbol.for("CanvasFactory"),zN=Symbol.for("Context2dFactory");function dh(n){return Ft.getNamed(dO,Y.global.env)(n)}class $N{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(t){if(!this.pools.length){const r=dh(Object.assign({nativeCanvas:Y.global.createCanvas(t)},t));return this.allocatedCanvas.push(r),r}const e=this.pools.pop();return e.resize(t.width,t.height),e.dpr=t.dpr,e}allocateByObj(t){if(!this.pools.length){const r={width:t.width/t.dpr,height:t.height/t.dpr,dpr:t.dpr},i=dh(Object.assign({nativeCanvas:Y.global.createCanvas(r)},r));return this.allocatedCanvas.push(i),i}const e=this.pools.pop();return e.width=t.width,e.height=t.height,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}const Ko=new $N;var GN=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},HN=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};const fh=Symbol.for("VWindow"),Ty=Symbol.for("WindowHandlerContribution");let pm=class{get width(){if(this._handler){const n=this._handler.getWH();return this._width=n.width}return this._width}get height(){if(this._handler){const n=this._handler.getWH();return this._height=n.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){this.hooks={onChange:new En(["x","y","width","height"])},this.active=()=>{const n=this.global;!n.env||this.actived||(Ft.getNamed(Ty,n.env).configure(this,n),this.actived=!0)},this._uid=me.GenAutoIncrementId(),this.global=Y.global,this.postInit()}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var n;return(n=this._handler.getStyle())!==null&&n!==void 0?n:{}}set style(n){this._handler.setStyle(n)}create(n){var t,e;this._handler.createWindow(n);const r=this._handler.getWH();this._width=r.width,this._height=r.height,n.viewBox?this.setViewBox(n.viewBox):n.canvasControled!==!1?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:(t=n.width)!==null&&t!==void 0?t:this._width,y2:(e=n.height)!==null&&e!==void 0?e:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(n){this._handler=n}setDpr(n){return this._handler.setDpr(n)}resize(n,t){return this._handler.resizeWindow(n,t)}configure(){throw new Error("")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(n){return this._handler.getImageBuffer?this._handler.getImageBuffer(n):null}addEventListener(n,t,e){return this._handler.addEventListener(n,t,e)}removeEventListener(n,t,e){return this._handler.removeEventListener(n,t,e)}dispatchEvent(n){return this._handler.dispatchEvent(n)}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(n){this._handler.clearViewBox(n)}setViewBox(n){this._handler.setViewBox(n)}setViewBoxTransform(n,t,e,r,i,s){this._handler.setViewBoxTransform(n,t,e,r,i,s)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(n,t){const e=this._handler.getViewBox(),r={x:n,y:t};return this._handler.getViewBoxTransform().transformPoint({x:n,y:t},r),r.x-=e.x1,r.y-=e.y1,r}hasSubView(){const n=this._handler.getViewBox();return!(n.x1===0&&n.y1===0&&this.width===n.width()&&this.height===n.height())}isVisible(n){return this._handler.isVisible(n)}onVisibleChange(n){return this._handler.onVisibleChange(n)}getTopLeft(n){return this._handler.getTopLeft(n)}};pm=GN([St(),HN("design:paramtypes",[])],pm);var fO=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},pO=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},_b=function(n,t){return function(e,r){t(e,r,n)}};let gm=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(n){this.contributions=n,this.configured=!1,this.global=Y.global,this.global.hooks.onSetEnv.tap("graphic-util",(t,e,r)=>{this.configured=!1,this.configure(r,e)})}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}configure(n,t){this.configured||(this.contributions.getContributions().forEach(e=>{e.configure(this,t)}),this.configured=!0)}tryInitCanvas(){if(!this._canvas){const n=Ko.shareCanvas();this._canvas=n,this._context=n.getContext("2d")}}bindTextMeasure(n){this._textMeasure=n}measureText(n,t,e="native"){var r;this.configure(this.global,this.global.env);const i=this.global.measureTextMethod;this.global.measureTextMethod=e;const s={width:this._textMeasure.measureTextWidth(n,t),height:(r=t.fontSize)!==null&&r!==void 0?r:Tr.fontSize};return this.global.measureTextMethod=i,s}createTextMeasureInstance(n,t,e){return this.configure(this.global,this.global.env),new Je(Object.assign({defaultFontParams:{fontFamily:Tr.fontFamily,fontSize:Tr.fontSize},getCanvasForMeasure:e||(()=>this.canvas),getTextBounds:void 0,specialCharSet:`-/: .,@%'"~`+Je.ALPHABET_CHAR_SET+Je.ALPHABET_CHAR_SET.toUpperCase()},t??{}),n)}drawGraphicToCanvas(n,t,e){if(!t.defaultLayer)return null;const r=Ft.get(fh),i=n.AABBBounds,s=i.width(),o=i.height(),a=-i.x1,l=-i.y1;r.create({viewBox:{x1:a,y1:l,x2:i.x2,y2:i.y2},width:s,height:o,canvas:e,dpr:t.window.dpr,canvasControled:!0,offscreen:!0,title:""});const u=t.params.optimize.disableCheckGraphicWidthOutRange;t.params.optimize.disableCheckGraphicWidthOutRange=!0,t.defaultLayer.getNativeHandler().drawTo(r,[n],{transMatrix:r.getViewBoxTransform(),viewBox:r.getViewBox(),stage:t,layer:t.defaultLayer,renderService:t.renderService,background:"transparent",clear:!0,updateBounds:!1}),t.params.optimize.disableCheckGraphicWidthOutRange=u;const c=r.getNativeHandler();return c.nativeCanvas?c.nativeCanvas:null}};gm=fO([St(),_b(0,Ne(Bn)),_b(0,fr(dm)),pO("design:paramtypes",[Object])],gm);var li;(function(n){n[n.transform=0]="transform",n[n.matrix=1]="matrix"})(li||(li={}));const he=new fe;let mm=class{constructor(){this.matrix=new fe}init(n){return this.mode=li.transform,this.originTransform=n,this.matrix.reset(),this}fromMatrix(n,t){return this.mode=li.matrix,this.outSourceMatrix=n,this.outTargetMatrix=t,this}scaleMatrix(n,t,e){const r=this.outSourceMatrix;if(he.setValue(r.a,r.b,r.c,r.d,r.e,r.f),this.outTargetMatrix.reset(),e){const{x:i,y:s}=e;this.outTargetMatrix.translate(i,s),this.outTargetMatrix.scale(n,t),this.outTargetMatrix.translate(-i,-s)}else this.outTargetMatrix.scale(n,t);return this.outTargetMatrix.multiply(he.a,he.b,he.c,he.d,he.e,he.f),this}rotateMatrix(n,t){const e=this.outSourceMatrix;if(he.setValue(e.a,e.b,e.c,e.d,e.e,e.f),this.outTargetMatrix.reset(),t){const{x:r,y:i}=t;this.outTargetMatrix.translate(r,i),this.outTargetMatrix.rotate(n),this.outTargetMatrix.translate(-r,-i)}else this.outTargetMatrix.rotate(n);return this.outTargetMatrix.multiply(he.a,he.b,he.c,he.d,he.e,he.f),this}scale(n,t,e){return this.mode===li.matrix?this.scaleMatrix(n,t,e):this}rotate(n,t){return this.mode===li.matrix?this.rotateMatrix(n,t):this}translateMatrix(n,t){const e=this.outSourceMatrix;return he.setValue(e.a,e.b,e.c,e.d,e.e,e.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(n,t),this.outTargetMatrix.multiply(he.a,he.b,he.c,he.d,he.e,he.f),this}translate(n,t){return this.mode===li.matrix?this.translateMatrix(n,t):this}simplify(n){return this.mode===li.matrix?this.simplifyMatrix(n):this}simplifyMatrix(n){return this}};mm=fO([St(),pO("design:paramtypes",[])],mm);const rn={arc:SN,area:EN,circle:ON,line:AN,path:MN,symbol:RN,text:cO,rect:IN,polygon:PN,richtext:DN,richtextIcon:BN,image:hO,group:kN,glyph:TN},yp=Object.keys(rn);function VN(){return{arc:Object.assign({},rn.arc),area:Object.assign({},rn.area),circle:Object.assign({},rn.circle),line:Object.assign({},rn.line),path:Object.assign({},rn.path),symbol:Object.assign({},rn.symbol),text:Object.assign({},rn.text),rect:Object.assign({},rn.rect),polygon:Object.assign({},rn.polygon),richtext:Object.assign({},rn.richtext),richtextIcon:Object.assign({},rn.richtextIcon),image:Object.assign({},rn.image),group:Object.assign({},rn.group),glyph:Object.assign({},rn.glyph)}}function Xu(n,t){Object.keys(t).forEach(e=>{n[e]=t[e]})}const bb=VN();class Hl{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},yp.forEach(t=>{this._defaultTheme[t]=Object.create(bb[t])}),this.combinedTheme=this._defaultTheme}getTheme(t){if(!t)return this.combinedTheme;if(!this.dirty)return this.combinedTheme;let e={};const r=this.getParentWithTheme(t);return r&&(e=r.theme),this.applyTheme(t,e),this.combinedTheme}getParentWithTheme(t){for(;t.parent;)if((t=t.parent).theme)return t;return null}applyTheme(t,e,r=!1){if(this.dirty){const i=this.getParentWithTheme(t);if(i){const s=i.theme;(s.dirty||r)&&s.applyTheme(i,e,!0)}this.userTheme?this.doCombine(i&&i.theme.combinedTheme):(i?this.combinedTheme=i.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,xt.getInstance().warn("")),this.dirty=!1)}return this.combinedTheme}doCombine(t){const e=this.userTheme,r=this.combinedTheme;yp.forEach(i=>{const s=Object.create(bb[i]);t&&t[i]&&Xu(s,t[i]),r[i]&&Xu(s,r[i]),e[i]&&Xu(s,e[i]),this.combinedTheme[i]=s}),e.common&&yp.forEach(i=>{Xu(this.combinedTheme[i],e.common)}),this.dirty=!1}setTheme(t,e){let r=this.userTheme;r?Object.keys(t).forEach(i=>{r[i]?Object.assign(r[i],t[i]):r[i]=Object.assign({},t[i])}):r=t,this.userTheme=r,this.dirty=!0,this.dirtyChildren(e)}resetTheme(t,e){this.userTheme=t,this.dirty=!0,this.dirtyChildren(e)}dirtyChildren(t){t.forEachChildren(e=>{e.isContainer&&(e.theme&&(e.theme.dirty=!0),this.dirtyChildren(e))})}}const gO=new Hl;function Se(n,t){return n.glyphHost?Se(n.glyphHost):t?(n.isContainer,t):UN(n)||n.attachedThemeGraphic&&Se(n.attachedThemeGraphic)||gO.getTheme()}function UN(n){let t;if(t=n.isContainer?n:n.parent,t){for(;t&&!t.theme;)t=t.parent;return t?(t.theme||t.createTheme(),t.theme.getTheme(t)):gO.getTheme()}return null}var WN=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})};class YN extends Ts{get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=me.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(t,e=!1){if(e){let r=this._lastChild,i=0;for(;r;){if(t(r,i++))return;r=r._prev}}else{let r=this._firstChild,i=0;for(;r;){if(t(r,i++))return;r=r._next}}}forEachChildrenAsync(t,e=!1){return WN(this,void 0,void 0,function*(){if(e){let r=this._lastChild,i=0;for(;r;){let s=t(r,i++);if(s.then&&(s=yield s),s)return;r=r._prev}}else{let r=this._firstChild,i=0;for(;r;){let s=t(r,i++);if(s.then&&(s=yield s),s)return;r=r._next}}})}forEach(t){return this.forEachChildren(t)}appendChild(t,e=!0){if(this._uid===t._uid)return null;if(!e&&t.isAncestorsOf(this))throw new Error("Node::appendChildappend");return t.parent&&t.parent.removeChild(t),t.parent=this,this._lastChild?(this._lastChild._next=t,t._prev=this._lastChild,this._lastChild=t):(this._firstChild=this._lastChild=t,t._prev=t._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this.setCount(t.count),this._structEdit=!0,t}appendChildArrHighPerformance(t,e=!1){return console.error(""),t}insertBefore(t,e){if(!e)return this.appendChild(t);if(this._uid===t._uid)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,t._prev=e._prev,e._prev?e._prev._next=t:this._firstChild=t,e._prev=t,t._next=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertAfter(t,e){if(!e)return this.appendChild(t);if(this._uid===t._uid)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertAfterinsert");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,e._next?(e._next._prev=t,t._next=e._next):this._lastChild=t,e._next=t,t._prev=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertInto(t,e){if(!this._ignoreWarn&&this._nodeList&&xt.getInstance().warn("insertIntoKeepIdxinsertInto"),e>=this.childrenCount)return this.appendChild(t);if(this._uid===t._uid)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");if(t.parent&&t.parent.removeChild(t),t.parent=this,e===0)t._next=this._firstChild,this._firstChild&&(this._firstChild._prev=t),t._prev=null,this._firstChild=t;else{let r=this._firstChild;for(let i=0;i<e;i++){if(!r)return null;i>0&&(r=r._next)}if(!r)return null;t._next=r._next,t._prev=r,r._next=t,t._next&&(t._next._prev=t)}return this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t}insertIntoKeepIdx(t,e){if(this._nodeList||(this._nodeList=this.children),this._nodeList[e]){const s=this._nodeList[e];return this._nodeList.splice(e,0,t),this.insertBefore(t,s)}let r;this._nodeList[e]=t;for(let s=e-1;s>=0&&(r=this._nodeList[s],!r);s--);if(r)return r._next?this.insertBefore(t,r._next):this.appendChild(t);this._ignoreWarn=!0;const i=this.insertInto(t,0);return this._ignoreWarn=!1,i}removeChild(t){if(!this._idMap||!this._idMap.has(t._uid))return null;if(this._idMap.delete(t._uid),this._nodeList){const e=this._nodeList.findIndex(r=>r===t);e>0&&this._nodeList.splice(e,1)}return t._prev?t._prev._next=t._next:this._firstChild=t._next,t._next?t._next._prev=t._prev:this._lastChild=t._prev,t.parent=null,t._prev=null,t._next=null,this._structEdit=!0,this.setCount(-t.count),t}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(t){if(!this._idMap)return;let e=this._firstChild;for(;e;){const r=e._next;e.parent=null,e._prev=null,e._next=null,e=e._next,e=r}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(t,e){throw new Error("")}find(t,e=!1){let r=null;return this.forEachChildren((i,s)=>!(i===this||!t(i,s))&&(r=i,!0)),e&&this.forEachChildren(i=>{if(i.isContainer){const s=i.find(t,!0);if(s)return r=s,!0}return!1}),r}findAll(t,e=!1){let r=[];return this.forEachChildren((i,s)=>{i!==this&&t(i,s)&&r.push(i)}),e&&this.forEachChildren(i=>{if(i.isContainer){const s=i.findAll(t,!0);s.length&&(r=r.concat(s))}}),r}getElementById(t){return this.find(e=>e.id===t,!0)}findChildById(t){return this.getElementById(t)}findChildByUid(t){return this._idMap&&this._idMap.get(t)||null}getElementsByName(t){return this.findAll(e=>e.name===t,!0)}findChildrenByName(t){return this.getElementsByName(t)}getElementsByType(t){return this.findAll(e=>e.type===t,!0)}getChildByName(t,e=!1){return this.find(r=>r.name===t,e)}getChildAt(t){let e=this._firstChild;if(!e)return null;for(let r=0;r<t;r++){if(!e._next)return null;e=e._next}return e}at(t){return this.getChildAt(t)}containNode(t){if(!this._idMap)return!1;if(this._idMap.has(t._uid))return!0;let e=this._firstChild;for(;e;){if(e.containNode(t))return!0;e=e._next}return!1}getRootNode(){let t=this.parent;for(;t!=null&&t.parent;)t=t.parent;return t||this}hasChildNodes(){return this._firstChild!==null}addChild(t){return this.appendChild(t)}add(t){return this.appendChild(t)}getChildren(){const t=[];let e=this._firstChild;for(;e;)t.push(e),e=e._next;return t}isChildOf(t){return!!this.parent&&this.parent._uid===t._uid}isParentOf(t){return t.isChildOf(this)}isDescendantsOf(t){let e=this.parent;if(!e)return!1;do{if(e._uid===t._uid)return!0;e=e.parent}while(e!==null);return!1}isAncestorsOf(t){return t.isDescendantsOf(this)}getAncestor(t){throw new Error("")}setAllDescendantsProps(t,e){let r=this._firstChild;for(;r;)r[t]=e,r.setAllDescendantsProps(t,e),r=r._next}setCount(t){this._count+=t;let e=this.parent;if(e)do e._count+=t,e=e.parent;while(e!==null)}clone(){throw new Error("")}cloneTo(t){throw new Error("")}getParent(){return this.parent}del(t){return this.removeChild(t)}addEventListener(t,e,r){const i=Ar(r,!0)&&r||zt(r)&&r.capture,s=zt(r)&&r.once,o=bt(e)?void 0:e;return t=i?`${t}capture`:t,e=bt(e)?e:e.handleEvent,s?super.once(t,e,o):super.on(t,e,o),this}on(t,e,r){return this.addEventListener(t,e,r)}removeEventListener(t,e,r){const i=Ar(r,!0)&&r||zt(r)&&r.capture,s=bt(e)?void 0:e;t=i?`${t}capture`:t,e=bt(e)?e:e.handleEvent;const o=zt(r)&&r.once;return super.off(t,e,s,o),this}off(t,e,r){return this.removeEventListener(t,e,r)}once(t,e,r){return zt(r)?(r.once=!0,this.addEventListener(t,e,r)):this.addEventListener(t,e,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(t,...e){return super.emit(t.type,t,...e),!t.defaultPrevented}emit(t,e){return this.dispatchEvent(t,e)}release(){this.removeAllListeners()}}class uu{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=uu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation(),this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw new Error("Method not implemented.")}}class ph extends uu{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,r,i,s,o,a,l,u,c,h,d,f,p,g){throw new Error("Method not implemented.")}}class xn extends ph{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}clone(){var t,e,r;const i=new xn(this.manager);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.target=null,i.nativeEvent=this.nativeEvent,i.originalEvent=this.originalEvent,(t=this.manager)===null||t===void 0||t.copyPointerData(this,i),(e=this.manager)===null||e===void 0||e.copyMouseData(this,i),(r=this.manager)===null||r===void 0||r.copyData(this,i),i.target=this.target,i.path=this.composedPath().slice(),i.type=this.type,i}}class Pi extends ph{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var t,e,r;const i=new Pi(this.manager);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.target=null,i.nativeEvent=this.nativeEvent,i.originalEvent=this.originalEvent,(t=this.manager)===null||t===void 0||t.copyWheelData(this,i),(e=this.manager)===null||e===void 0||e.copyMouseData(this,i),(r=this.manager)===null||r===void 0||r.copyData(this,i),i.target=this.target,i.path=this.composedPath().slice(),i.type=this.type,i}}Pi.DOM_DELTA_PIXEL=0,Pi.DOM_DELTA_LINE=1,Pi.DOM_DELTA_PAGE=2;class mO extends uu{constructor(t,e){super(),this.type=t,this.detail=e}}const vO="*",ss=typeof performance=="object"&&performance.now?performance:Date;function ri(n){return n==="mouse"||n==="pen"}class XN{constructor(t,e){this.dispatch=new Ts,this.cursorTarget=null,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(r,i)=>{if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.createPointerEvent(r,r.type,i);if(this.dispatchEvent(s,"pointerdown"),s.pointerType==="touch")this.dispatchEvent(s,"touchstart");else if(ri(s.pointerType)){const o=s.button===2;this.dispatchEvent(s,o?"rightdown":"mousedown")}this.trackingData(r.pointerId).pressTargetsByButton[r.button]=s.composedPath(),this.freeEvent(s)},this.onPointerMove=(r,i)=>{var s,o;if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const a=this.createPointerEvent(r,r.type,i),l=ri(a.pointerType),u=this.trackingData(r.pointerId),c=this.findMountedTarget(u.overTargets);if(u.overTargets&&c&&c!==this.rootTarget&&c!==a.target){const h=r.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(r,h,c||void 0);if(this.dispatchEvent(d,"pointerout"),l&&this.dispatchEvent(d,"mouseout"),!a.composedPath().includes(c)){const f=this.createPointerEvent(r,"pointerleave",c||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!a.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),l&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(d)}if(c!==a.target){const h=r.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(a,h);this.dispatchEvent(d,"pointerover"),l&&this.dispatchEvent(d,"mouseover");let f=c==null?void 0:c.parent;for(;f&&f!==this.rootTarget.parent&&f!==a.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const p=this.clonePointerEvent(a,"pointerenter");p.eventPhase=p.AT_TARGET;let g=p.target;const _=new Set;let m=c;for(;m&&m!==this.rootTarget;)_.add(m),m=m.parent;for(;g&&g!==c&&g!==this.rootTarget.parent;)_.has(g)||(p.currentTarget=g,this.notifyTarget(p),l&&this.notifyTarget(p,"mouseenter")),g=g.parent;this.freeEvent(p)}this.freeEvent(d)}this.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&this.dispatchEvent(a,"touchmove"),l&&(this.dispatchEvent(a,"mousemove"),this.cursorTarget=a.target,this.cursor=((o=(s=a.target)===null||s===void 0?void 0:s.attribute)===null||o===void 0?void 0:o.cursor)||this.rootTarget.getCursor()),u.overTargets=a.composedPath(),this.freeEvent(a)},this.onPointerOver=(r,i)=>{var s,o;if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const a=this.trackingData(r.pointerId),l=this.createPointerEvent(r,r.type,i),u=ri(l.pointerType);this.dispatchEvent(l,"pointerover"),u&&this.dispatchEvent(l,"mouseover"),l.pointerType==="mouse"&&(this.cursorTarget=l.target,this.cursor=((o=(s=l.target)===null||s===void 0?void 0:s.attribute)===null||o===void 0?void 0:o.cursor)||this.rootTarget.getCursor());const c=this.clonePointerEvent(l,"pointerenter");for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),u&&this.notifyTarget(c,"mouseenter"),c.target=c.target.parent;a.overTargets=l.composedPath(),this.freeEvent(l),this.freeEvent(c)},this.onPointerOut=(r,i)=>{if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(r.pointerId);if(s.overTargets){const o=ri(r.pointerType),a=this.findMountedTarget(s.overTargets),l=this.createPointerEvent(r,"pointerout",a||void 0);this.dispatchEvent(l),o&&this.dispatchEvent(l,"mouseout");const u=this.createPointerEvent(r,"pointerleave",a||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==this.rootTarget.parent;)u.currentTarget=u.target,this.notifyTarget(u),o&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;s.overTargets=[],this.freeEvent(l),this.freeEvent(u)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(r,i)=>{var s;if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=ss.now(),a=this.createPointerEvent(r,r.type,i);if(this.dispatchEvent(a,"pointerup"),a.pointerType==="touch")this.dispatchEvent(a,"touchend");else if(ri(a.pointerType)){const h=a.button===2;this.dispatchEvent(a,h?"rightup":"mouseup")}const l=this.trackingData(r.pointerId),u=this.findMountedTarget(l.pressTargetsByButton[r.button]);let c=u;if(u&&!a.composedPath().includes(u)){let h=u;for(;h&&!a.composedPath().includes(h);){if(a.currentTarget=h,this.notifyTarget(a,"pointerupoutside"),a.pointerType==="touch")this.notifyTarget(a,"touchendoutside");else if(ri(a.pointerType)){const d=a.button===2;this.notifyTarget(a,d?"rightupoutside":"mouseupoutside")}h=h.parent}delete l.pressTargetsByButton[r.button],c=h}if(c){const h=this.clonePointerEvent(a,"click");h.target=c,h.path=[],l.clicksByButton[r.button]||(l.clicksByButton[r.button]={clickCount:0,target:h.target,timeStamp:o});const d=l.clicksByButton[r.button];d.target===h.target&&o-d.timeStamp<((s=this._config.clickInterval)!==null&&s!==void 0?s:200)?++d.clickCount:d.clickCount=1,d.target=h.target,d.timeStamp=o,h.detail=d.clickCount,ri(h.pointerType)?(this.dispatchEvent(h,"click"),d.clickCount===2&&this.dispatchEvent(h,"dblclick")):h.pointerType==="touch"&&(this.dispatchEvent(h,"tap"),d.clickCount===2&&this.dispatchEvent(h,"dbltap")),this.dispatchEvent(h,"pointertap"),this.freeEvent(h)}this.freeEvent(a)},this.onPointerUpOutside=(r,i)=>{if(!(r instanceof xn))return void xt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(r.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[r.button]),a=this.createPointerEvent(r,r.type,i);if(o){let l=o;for(;l;)a.currentTarget=l,this.notifyTarget(a,"pointerupoutside"),a.pointerType==="touch"?this.notifyTarget(a,"touchendoutside"):ri(a.pointerType)&&this.notifyTarget(a,a.button===2?"rightupoutside":"mouseupoutside"),l=l.parent;delete s.pressTargetsByButton[r.button]}this.freeEvent(a)},this.onWheel=(r,i)=>{if(!(r instanceof Pi))return void xt.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");const s=this.createWheelEvent(r,i);this.dispatchEvent(s),this.freeEvent(s)},this.rootTarget=t,this.mappingTable={},this._config=Object.assign({clickInterval:200},e),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((r,i)=>r.priority-i.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){var e,r,i,s,o,a,l;if(!this.rootTarget)return;const u=this.mappingTable[t.type];let c;const h=`${t.canvasX}-${t.canvasY}`;if(!((e=this._prePointTargetCache)===null||e===void 0)&&e[h]&&(!((i=(r=this._prePointTargetCache)===null||r===void 0?void 0:r[h])===null||i===void 0)&&i.stage)&&((o=(s=this._prePointTargetCache)===null||s===void 0?void 0:s[h])===null||o===void 0?void 0:o.stage.renderCount)===((a=this._prePointTargetCache)===null||a===void 0?void 0:a.stageRenderCount)?c=this._prePointTargetCache[h]:(c=this.pickTarget(t.viewX,t.viewY,t),t.pickParams||(this._prePointTargetCache={[h]:c,stageRenderCount:(l=c==null?void 0:c.stage.renderCount)!==null&&l!==void 0?l:-1})),u)for(let d=0,f=u.length;d<f;d++)u[d].fn(t,c);else xt.getInstance().warn(`[EventManager]: Event mapping not defined for ${t.type}`)}propagate(t,e){if(!t.target)return;const r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(t.currentTarget=r[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(t.currentTarget=r[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}propagationPath(t){const e=[t];for(let r=0;r<2048&&t!==this.rootTarget&&t.parent;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}notifyTarget(t,e){e=e??t.type;const r=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,r),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}createPointerEvent(t,e,r){var i,s;const o=this.allocateEvent(xn);return this.copyPointerData(t,o),this.copyMouseData(t,o),this.copyData(t,o),o.nativeEvent=t.nativeEvent,o.originalEvent=t,o.target=r||this.pickTarget((i=o.viewX)!==null&&i!==void 0?i:o.global.x,(s=o.viewY)!==null&&s!==void 0?s:o.global.y,o),typeof e=="string"&&(o.type=e),o}createWheelEvent(t,e){var r,i;const s=this.allocateEvent(Pi);return this.copyWheelData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.nativeEvent=t.nativeEvent,s.originalEvent=t,s.target=e||this.pickTarget((r=s.viewX)!==null&&r!==void 0?r:s.global.x,(i=s.viewY)!==null&&i!==void 0?i:s.global.y,s),s}clonePointerEvent(t,e){const r=this.allocateEvent(xn);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=e??r.type,r}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof xn&&e instanceof xn&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof ph&&e instanceof ph&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach(r=>{e[r].x=t[r].x,e[r].y=t[r].y}))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=ss.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.x=t.layer.x,e.layer.y=t.layer.y,e.page.x=t.page.x,e.page.y=t.page.y,e.pickParams=t.pickParams}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){var e;this.eventPool.has(t)||this.eventPool.set(t,[]);const r=((e=this.eventPool.get(t))===null||e===void 0?void 0:e.pop())||new t(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}freeEvent(t){var e;if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventManager!");const r=t.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),(e=this.eventPool.get(r))===null||e===void 0||e.push(t)}notifyListeners(t,e){const r=t.currentTarget._events[e];if(r)if("fn"in r)r.once&&t.currentTarget.removeEventListener(e,r.fn,{once:!0}),r.fn.call(r.context,t);else for(let i=0,s=r.length;i<s&&!t.propagationImmediatelyStopped;i++)r[i].once&&t.currentTarget.removeEventListener(e,r[i].fn,{once:!0}),r[i].fn.call(r[i].context,t);this.emitDelegation(t,e)}emitDelegation(t,e){const r=t.currentTarget._events[vO];if(r)if("fn"in r)r.fn.call(r.context,t,e);else for(let i=0,s=r.length;i<s&&!t.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,t,e)}pickTarget(t,e,r){let i;const s=this.rootTarget.pick(t,e);return i=s&&s.graphic?s.graphic:s&&s.group?s.group:this.rootTarget.AABBBounds.contains(t,e)?this.rootTarget:null,r&&(r.pickParams=s.params),i}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}const KN={dispatchEvent(n){var t;if(!(n instanceof uu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=[],n.target=this,(t=n==null?void 0:n.manager)===null||t===void 0||t.dispatchEvent(n),!n.defaultPrevented},emit(n,t){return this.dispatchEvent(new mO(n,t))}},qN={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class ZN{constructor(t){this.resolution=1,this.onPointerDown=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const h=this.normalizeToPointerData(c);this.autoPreventDefault&&h[0].isNormalized&&(c.cancelable||!("cancelable"in c))&&c.preventDefault();for(let d=0,f=h.length;d<f;d++){const p=h[d],g=this.bootstrapEvent(this.rootPointerEvent,p);this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerMove=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch"||this.isEventOutsideOfTargetElement(c))return;const h=this.normalizeToPointerData(c);for(let d=0,f=h.length;d<f;d++){const p=this.bootstrapEvent(this.rootPointerEvent,h[d]);this.manager.mapEvent(p)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerUp=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const h=this.isEventOutsideOfTargetViewPort(c)?"outside":"",d=this.normalizeToPointerData(c);for(let f=0,p=d.length;f<p;f++){const g=this.bootstrapEvent(this.rootPointerEvent,d[f]);g.type+=h,this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerOverOut=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const h=this.normalizeToPointerData(c);for(let d=0,f=h.length;d<f;d++){const p=this.bootstrapEvent(this.rootPointerEvent,h[d]);this.manager.mapEvent(p)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onWheel=c=>{const h=this.normalizeWheelEvent(c);this.manager.mapEvent(h)};const{targetElement:e,resolution:r,rootNode:i,global:s,autoPreventDefault:o=!1,clickInterval:a,supportsTouchEvents:l=s.supportsTouchEvents,supportsPointerEvents:u=s.supportsPointerEvents}=t;this.manager=new XN(i,{clickInterval:a}),this.globalObj=s,this.supportsPointerEvents=u,this.supportsTouchEvents=l,this.supportsMouseEvents=s.supportsMouseEvents,this.applyStyles=s.applyStyles,this.autoPreventDefault=o,this.eventsAdded=!1,this.rootPointerEvent=new xn,this.rootWheelEvent=new Pi,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=r,this.setTargetElement(e)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(t,e){if(!e&&!this.manager.rootTarget.window._handler.canvas.controled)return;t||(t="default");const{applyStyles:r,domElement:i}=this;if(this.currentCursor===t)return;this.currentCursor=t;const s=this.cursorStyles[t];s?typeof s=="string"&&r?i.style.cursor=s:typeof s=="function"?s(t):typeof s=="object"&&r&&Object.assign(i.style,s):r&&dt(t)&&!lr(this.cursorStyles,t)&&(i.style.cursor=t)}setTargetElement(t){this.removeEvents(),this.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.getDocument().addEventListener("pointermove",this.onPointerMove,!0),t.getDocument().addEventListener("pointerup",this.onPointerUp,!0)):(e.addEventListener("pointermove",this.onPointerMove,!0),e.addEventListener("pointerup",this.onPointerUp,!0)),e.addEventListener("pointerdown",this.onPointerDown,!0),e.addEventListener("pointerleave",this.onPointerOverOut,!0),e.addEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.getDocument().addEventListener("mousemove",this.onPointerMove,!0),t.getDocument().addEventListener("mouseup",this.onPointerUp,!0)):(e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mouseup",this.onPointerUp,!0)),e.addEventListener("mousedown",this.onPointerDown,!0),e.addEventListener("mouseout",this.onPointerOverOut,!0),e.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.addEventListener("touchstart",this.onPointerDown,!0),e.addEventListener("touchend",this.onPointerUp,!0),e.addEventListener("touchmove",this.onPointerMove,!0)),e.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.getDocument().removeEventListener("pointermove",this.onPointerMove,!0),t.getDocument().removeEventListener("pointerup",this.onPointerUp,!0)):(e.removeEventListener("pointermove",this.onPointerMove,!0),e.removeEventListener("pointerup",this.onPointerUp,!0)),e.removeEventListener("pointerdown",this.onPointerDown,!0),e.removeEventListener("pointerleave",this.onPointerOverOut,!0),e.removeEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.getDocument().removeEventListener("mousemove",this.onPointerMove,!0),t.getDocument().removeEventListener("mouseup",this.onPointerUp,!0)):(e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mouseup",this.onPointerUp,!0)),e.removeEventListener("mousedown",this.onPointerDown,!0),e.removeEventListener("mouseout",this.onPointerOverOut,!0),e.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.removeEventListener("touchstart",this.onPointerDown,!0),e.removeEventListener("touchend",this.onPointerUp,!0),e.removeEventListener("touchmove",this.onPointerMove,!0)),e.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(t){return this.domElement.pointTransform?this.domElement.pointTransform(t.x,t.y):t}mapToCanvasPoint(t){var e,r;const i=(e=this.globalObj)===null||e===void 0?void 0:e.mapToCanvasPoint(t,this.domElement);if(i)return i;let s=0,o=0;if(t.changedTouches){const l=(r=t.changedTouches[0])!==null&&r!==void 0?r:{};s=l.clientX||0,o=l.clientY||0}else s=t.clientX||0,o=t.clientY||0;const a=this.domElement.getBoundingClientRect();return{x:s-a.left,y:o-a.top}}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t.changedTouches&&t.changedTouches.length)for(let r=0,i=t.changedTouches.length;r<i;r++){const s=t.changedTouches[r];Kt(s.button)&&(s.button=0),Kt(s.buttons)&&(s.buttons=1),Kt(s.isPrimary)&&(s.isPrimary=t.touches.length===1&&t.type==="touchstart"),Kt(s.width)&&(s.width=s.radiusX||1),Kt(s.height)&&(s.height=s.radiusY||1),Kt(s.tiltX)&&(s.tiltX=0),Kt(s.tiltY)&&(s.tiltY=0),Kt(s.pointerType)&&(s.pointerType="touch"),Kt(s.pointerId)&&(s.pointerId=s.identifier||0),Kt(s.pressure)&&(s.pressure=s.force||.5),Kt(s.twist)&&(s.twist=0),Kt(s.tangentialPressure)&&(s.tangentialPressure=0),Kt(s.layerX)&&(s.layerX=s.offsetX=s.clientX),Kt(s.layerY)&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,e.push(s)}else if(this.globalObj.supportsMouseEvents&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof PointerEvent))e.push(t);else{const r=t;Kt(r.isPrimary)&&(r.isPrimary=!0),Kt(r.width)&&(r.width=1),Kt(r.height)&&(r.height=1),Kt(r.tiltX)&&(r.tiltX=0),Kt(r.tiltY)&&(r.tiltY=0),Kt(r.pointerType)&&(r.pointerType="mouse"),Kt(r.pointerId)&&(r.pointerId=1),Kt(r.pressure)&&(r.pressure=.5),Kt(r.twist)&&(r.twist=0),Kt(r.tangentialPressure)&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;this.transferMouseData(e,t),e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ;const{x:r,y:i}=this.mapToCanvasPoint(t);e.canvas.x=r,e.canvas.y=i,e.global.x=r,e.global.y=i,e.offset.x=r,e.offset.y=i;const{x:s,y:o}=this.mapToViewportPoint(e);return e.viewport.x=s,e.viewport.y=o,e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);const{x:r,y:i}=this.mapToCanvasPoint(e);t.canvas.x=r,t.canvas.y=i,t.global.x=r,t.global.y=i,t.offset.x=r,t.offset.y=i;const{x:s,y:o}=this.mapToViewportPoint(t);return t.viewport.x=s,t.viewport.y=o,t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=qN[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=ss.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null}isEventOutsideOfTargetViewPort(t){if(this.isEventOutsideOfTargetElement(t))return!0;if(this.domElement.getViewBox){const e=this.mapToViewportPoint(this.mapToCanvasPoint(t)),r=this.domElement.getViewBox(),i=r.width(),s=r.height();return!(e.x<i&&e.y<s&&e.x>0&&e.y>0)}return!1}isEventOutsideOfTargetElement(t){let e=t.target;return t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]),e!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}}class gh{constructor(){this.time=0}static Avaliable(){return!0}avaliable(){return gh.Avaliable()}tick(t,e){this.time=Math.max(0,t+this.time),e(this,{once:!0})}tickTo(t,e){this.time=Math.max(0,t),e(this,{once:!0})}release(){this.timerId>0&&(this.timerId=-1)}getTime(){return this.time}}class mh{static Avaliable(){return!0}avaliable(){return mh.Avaliable()}tick(t,e){this.timerId=setTimeout(()=>{e(this)},t)}release(){this.timerId>0&&(clearTimeout(this.timerId),this.timerId=-1)}getTime(){return Date.now()}}class hl{static Avaliable(){return!!Y.global.getRequestAnimationFrame()}avaliable(){return hl.Avaliable()}tick(t,e){Y.global.getRequestAnimationFrame()(()=>{this.released||e(this)})}release(){this.released=!0}getTime(){return Date.now()}}var zn;(function(n){n[n.INITIAL=0]="INITIAL",n[n.RUNNING=1]="RUNNING",n[n.PAUSE=2]="PAUSE"})(zn||(zn={}));class QN{set mode(t){this._mode!==t&&(this._mode=t,this.setupTickHandler())}get mode(){return this._mode}constructor(t=[]){this.handleTick=(e,r)=>{const{once:i=!1}=r??{};this.ifCanStop()?this.stop():(this._handlerTick(e),i||e.tick(this.interval,this.handleTick))},this._handlerTick=e=>{const r=this.tickerHandler.getTime();let i=0;this.lastFrameTime>=0&&(i=r-this.lastFrameTime),this.lastFrameTime=r,this.status===zn.RUNNING&&(this.tickCounts++,this.timelines.forEach(s=>{s.tick(i)}))},this.init(),this.lastFrameTime=-1,this.tickCounts=0,this.timelines=t,this.autoStop=!0}init(){this.interval=NaN,this.status=zn.INITIAL,Y.global.hooks.onSetEnv.tap("default-ticker",()=>{this.initHandler()}),Y.global.env&&this.initHandler()}addTimeline(t){this.timelines.push(t)}remTimeline(t){this.timelines=this.timelines.filter(e=>e!==t)}initHandler(){if(this._mode)return null;const t=[{mode:"raf",cons:hl},{mode:"timeout",cons:mh},{mode:"manual",cons:gh}];for(let e=0;e<t.length;e++)if(t[e].cons.Avaliable()){this.mode=t[e].mode;break}return null}setupTickHandler(){let t;switch(this._mode){case"raf":t=new hl;break;case"timeout":t=new mh;break;case"manual":t=new gh;break;default:xt.getInstance().warn(""),t=new hl}return!!t.avaliable()&&(this.tickerHandler&&this.tickerHandler.release(),this.tickerHandler=t,!0)}setInterval(t){this.interval=t}getInterval(){return this.interval}setFPS(t){this.setInterval(1e3/t)}getFPS(){return 1e3/this.interval}tick(t){this.tickerHandler.tick(t,e=>{this.handleTick(e,{once:!0})})}tickTo(t){this.tickerHandler.tickTo&&this.tickerHandler.tickTo(t,e=>{this.handleTick(e,{once:!0})})}pause(){return this.status!==zn.INITIAL&&(this.status=zn.PAUSE,!0)}resume(){return this.status!==zn.INITIAL&&(this.status=zn.RUNNING,!0)}ifCanStop(){return!!(this.autoStop&&(!this.timelines.length||this.timelines.reduce((t,e)=>t+e.animateCount,0)===0))}start(t=!1){return this.status===zn.RUNNING||!this.tickerHandler||!t&&(this.status===zn.PAUSE||!this.timelines.length||this.timelines.reduce((e,r)=>e+r.animateCount,0)===0)?!1:(this.status=zn.RUNNING,this.tickerHandler.tick(0,this.handleTick),!0)}stop(){this.status=zn.INITIAL,this.setupTickHandler(),this.lastFrameTime=-1}}class _t{constructor(){}static linear(t){return t}static none(){return this.linear}static get(t){return t<-1?t=-1:t>1&&(t=1),function(e){return t===0?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}}static getPowIn(t){return function(e){return Math.pow(e,t)}}static getPowOut(t){return function(e){return 1-Math.pow(1-e,t)}}static getPowInOut(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}}static getBackIn(t){return function(e){return e*e*((t+1)*e-t)}}static getBackOut(t){return function(e){return--e*e*((t+1)*e+t)+1}}static getBackInOut(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}static sineIn(t){return 1-Math.cos(t*Math.PI/2)}static sineOut(t){return Math.sin(t*Math.PI/2)}static sineInOut(t){return-(Math.cos(Math.PI*t)-1)/2}static expoIn(t){return t===0?0:Math.pow(2,10*t-10)}static expoOut(t){return t===1?1:1-Math.pow(2,-10*t)}static expoInOut(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}static circIn(t){return-(Math.sqrt(1-t*t)-1)}static circOut(t){return Math.sqrt(1- --t*t)}static circInOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}static bounceOut(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}static bounceIn(t){return 1-_t.bounceOut(1-t)}static bounceInOut(t){return t<.5?.5*_t.bounceIn(2*t):.5*_t.bounceOut(2*t-1)+.5}static getElasticIn(t,e){return function(r){if(r===0||r===1)return r;const i=e/Vt*Math.asin(1/t);return-t*Math.pow(2,10*(r-=1))*Math.sin((r-i)*Vt/e)}}static getElasticOut(t,e){return function(r){if(r===0||r===1)return r;const i=e/Vt*Math.asin(1/t);return t*Math.pow(2,-10*r)*Math.sin((r-i)*Vt/e)+1}}static getElasticInOut(t,e){return function(r){const i=e/Vt*Math.asin(1/t);return(r*=2)<1?t*Math.pow(2,10*(r-=1))*Math.sin((r-i)*Vt/e)*-.5:t*Math.pow(2,-10*(r-=1))*Math.sin((r-i)*Vt/e)*.5+1}}}_t.quadIn=_t.getPowIn(2),_t.quadOut=_t.getPowOut(2),_t.quadInOut=_t.getPowInOut(2),_t.cubicIn=_t.getPowIn(3),_t.cubicOut=_t.getPowOut(3),_t.cubicInOut=_t.getPowInOut(3),_t.quartIn=_t.getPowIn(4),_t.quartOut=_t.getPowOut(4),_t.quartInOut=_t.getPowInOut(4),_t.quintIn=_t.getPowIn(5),_t.quintOut=_t.getPowOut(5),_t.quintInOut=_t.getPowInOut(5),_t.backIn=_t.getBackIn(1.7),_t.backOut=_t.getBackOut(1.7),_t.backInOut=_t.getBackInOut(1.7),_t.elasticIn=_t.getElasticIn(1,.3),_t.elasticOut=_t.getElasticOut(1,.3),_t.elasticInOut=_t.getElasticInOut(1,.3*1.5);class yO{constructor(){this.id=me.GenAutoIncrementId(),this.animateHead=null,this.animateTail=null,this.animateCount=0,this.paused=!1}addAnimate(t){this.animateTail?(this.animateTail.nextAnimate=t,t.prevAnimate=this.animateTail,this.animateTail=t,t.nextAnimate=null):(this.animateHead=t,this.animateTail=t),this.animateCount++}pause(){this.paused=!0}resume(){this.paused=!1}tick(t){if(this.paused)return;let e=this.animateHead;for(this.animateCount=0;e;)e.status===Ye.END?this.removeAnimate(e):e.status===Ye.RUNNING||e.status===Ye.INITIAL?(this.animateCount++,e.advance(t)):e.status===Ye.PAUSED&&this.animateCount++,e=e.nextAnimate}clear(){let t=this.animateHead;for(;t;)t.release(),t=t.nextAnimate;this.animateHead=null,this.animateTail=null,this.animateCount=0}removeAnimate(t,e=!0){t._onRemove&&t._onRemove.forEach(r=>r()),t===this.animateHead?(this.animateHead=t.nextAnimate,t===this.animateTail?this.animateTail=null:this.animateHead.prevAnimate=null):t===this.animateTail?(this.animateTail=t.prevAnimate,this.animateTail.nextAnimate=null):(t.prevAnimate.nextAnimate=t.nextAnimate,t.nextAnimate.prevAnimate=t.prevAnimate),e&&t.release()}}const _O=new yO;class As{constructor(t,e,r,i,s){this.from=t,this.to=e,this.duration=r,this.easing=i,this.params=s,this.updateCount=0}bind(t,e){this.target=t,this.subAnimate=e,this.onBind()}onBind(){}onFirstRun(){}onStart(){}onEnd(){}getEndProps(){}getFromProps(){return this.from}getMergedEndProps(){var t;const e=this.getEndProps();return e?this._endProps===e?this._mergedEndProps:(this._endProps=e,void(this._mergedEndProps=Object.assign({},(t=this.step.prev.getLastProps())!==null&&t!==void 0?t:{},e))):this.step.prev?this.step.prev.getLastProps():e}update(t,e,r){if(this.updateCount===0){this.onFirstRun();const i=this.step.getLastProps();Object.keys(i).forEach(s=>{this.subAnimate.animate.validAttr(s)&&(r[s]=i[s])})}this.updateCount+=1,this.onUpdate(t,e,r),t&&this.onEnd()}}class JN extends As{constructor(t){super(null,null,0,"linear"),this.cb=t}onUpdate(t,e,r){}onStart(){this.cb()}}let vh=class $a{constructor(t=me.GenAutoIncrementId(),e=_O){this.id=t,this.timeline=e,this.status=Ye.INITIAL,this.tailAnimate=new wb(this),this.subAnimates=[this.tailAnimate],this.timeScale=1,this.rawPosition=-1,this._startTime=0,this._duringTime=0,this.timeline.addAnimate(this)}setTimeline(t){t!==this.timeline&&(this.timeline.removeAnimate(this,!1),t.addAnimate(this))}getStartTime(){return this._startTime}getDuration(){return this.subAnimates.reduce((t,e)=>t+e.totalDuration,0)}after(t){const e=t.getDuration();return this._startTime=e,this}afterAll(t){let e=-1/0;return t.forEach(r=>{e=wy(r.getDuration(),e)}),this._startTime=e,this}parallel(t){return this._startTime=t.getStartTime(),this}static AddInterpolate(t,e){$a.interpolateMap.set(t,e)}play(t){if(this.tailAnimate.play(t),this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this.subAnimates.length===1&&this.tailAnimate.duration===t.duration&&this.trySetAttribute(t.getFromProps(),t.mode),this}trySetAttribute(t,e=$a.mode){t&&e&Gl.SET_ATTR_IMMEDIATELY&&this.target.setAttributes&&this.target.setAttributes(t,!1,{type:Oe.ANIMATE_PLAY})}runCb(t){const e=new JN(()=>{t(this,e.step.prev)});return this.tailAnimate.play(e),this}customInterpolate(t,e,r,i,s,o){const a=$a.interpolateMap.get(t)||$a.interpolateMap.get("");return!!a&&a(t,e,r,i,s,o)}pause(){this.status===Ye.RUNNING&&(this.status=Ye.PAUSED)}resume(){this.status===Ye.PAUSED&&(this.status=Ye.RUNNING)}to(t,e,r,i){if(this.tailAnimate.to(t,e,r,i),this.target){const s=this.target.stage;s&&s.renderNextFrame()}return this}from(t,e,r,i){if(this.tailAnimate.from(t,e,r,i),this.target){const s=this.target.stage;s&&s.renderNextFrame()}return this}wait(t){if(this.tailAnimate.wait(t),this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this}startAt(t){if(this.tailAnimate.startAt(t),this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this}loop(t){if(this.tailAnimate.loop=t,this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this}reversed(t){if(this.tailAnimate.reversed=t,this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this}bounce(t){if(this.tailAnimate.bounce=t,this.target){const e=this.target.stage;e&&e.renderNextFrame()}return this}subAnimate(){const t=new wb(this,this.tailAnimate);return this.tailAnimate=t,this.subAnimates.push(t),t.bind(this.target),this}getStartProps(){return this.subAnimates[0].getStartProps()}getEndProps(){return this.tailAnimate.getEndProps()}depreventAttr(t){this._preventAttrs&&this._preventAttrs.delete(t)}preventAttr(t){this._preventAttrs||(this._preventAttrs=new Set),this._preventAttrs.add(t)}preventAttrs(t){t.forEach(e=>this.preventAttr(e))}validAttr(t){return!this._preventAttrs||!this._preventAttrs.has(t)}bind(t){return this.target=t,this.target.onAnimateBind&&this.target.onAnimateBind(this),this.subAnimates.forEach(e=>{e.bind(t)}),this}advance(t){if(this._duringTime<this._startTime){if(this._duringTime+t*this.timeScale<this._startTime)return void(this._duringTime+=t*this.timeScale);t=this._duringTime+t*this.timeScale-this._startTime,this._duringTime=this._startTime}this.status===Ye.INITIAL&&(this.status=Ye.RUNNING,this._onStart&&this._onStart.forEach(e=>e())),this.setPosition(this.rawPosition+t*this.timeScale)&&this.status===Ye.RUNNING&&(this.status=Ye.END,this._onEnd&&this._onEnd.forEach(e=>e()))}setPosition(t){let e,r=0;const i=this.rawPosition,s=this.subAnimates.reduce((a,l)=>a+l.totalDuration,0);t<0&&(t=0);const o=t>=s;if(o&&(t=s),t===i)return o;for(let a=0;a<this.subAnimates.length&&(e=this.subAnimates[a],!(r+e.totalDuration>=t));a++)r+=e.totalDuration,e=void 0;return this.rawPosition=t,e.setPosition(t-r),o}onStart(t){this._onStart||(this._onStart=[]),this._onStart.push(t)}onEnd(t){this._onEnd||(this._onEnd=[]),this._onEnd.push(t)}onRemove(t){this._onRemove||(this._onRemove=[]),this._onRemove.push(t)}onFrame(t){this._onFrame||(this._onFrame=[]),this._onFrame.push(t)}release(){this.status=Ye.END}stop(t){t||this.target.onStop(),t==="start"?this.target.onStop(this.getStartProps()):t==="end"?this.target.onStop(this.getEndProps()):this.target.onStop(t),this.release()}};vh.mode=Gl.NORMAL,vh.interpolateMap=new Map;class wb{get totalDuration(){return this.calcAttr(),this._totalDuration+this._startAt}constructor(t,e){this.rawPosition=-1,this.position=0,this.loop=0,this.duration=0,this.animate=t,this.stepHead=new xb(0,0,e?Object.assign({},e.stepTail.props):{}),this.stepTail=this.stepHead,this.dirty=!0,this._startAt=0}calcAttr(){this.dirty&&(this._totalDuration=this.duration*(this.loop+1))}bind(t){return this.target=t,this}play(t){let e=t.duration;(e==null||e<0)&&(e=0);const r=t.easing,i=typeof r=="string"?_t[r]:r,s=this._addStep(e,null,i);return s.type=uo.customAnimate,this._appendProps(t.getEndProps(),s,!1),this._appendCustomAnimate(t,s),this}to(t,e,r,i){(e==null||e<0)&&(e=0);const s=typeof r=="string"?_t[r]:r,o=this._addStep(e,null,s);return o.type=uo.to,this._appendProps(t,o,!!i&&i.tempProps),o.propKeys||(o.propKeys=Object.keys(o.props)),i&&i.noPreventAttrs||this.target.animates.forEach(a=>{a.id!==this.animate.id&&a.preventAttrs(o.propKeys)}),this}from(t,e,r,i){this.to(t,0,r,i);const s={};this.stepTail.propKeys||(this.stepTail.propKeys=Object.keys(this.stepTail.props)),this.stepTail.propKeys.forEach(o=>{s[o]=this.getLastPropByName(o,this.stepTail)}),this.to(s,e,r,i),this.stepTail.type=uo.from}startAt(t){return t<0&&(t=0),this._startAt=t,this}getStartProps(){var t;return(t=this.stepHead)===null||t===void 0?void 0:t.props}getEndProps(){return this.stepTail.props}getLastStep(){return this._lastStep}wait(t){if(t>0){const e=this._addStep(+t,null);e.type=uo.wait,e.prev.customAnimate?e.props=e.prev.customAnimate.getEndProps():e.props=e.prev.props,this.target.onAddStep&&this.target.onAddStep(e)}return this}_addStep(t,e,r){const i=new xb(this.duration,t,e,r);return this.duration+=t,this.stepTail.append(i),this.stepTail=i,i}_appendProps(t,e,r){e.props=r?t:Object.assign({},t);let i=e.prev;const s=e.props;for(e.propKeys||(e.propKeys=Object.keys(e.props)),e.propKeys.forEach(a=>{e.props[a]===void 0&&(e.props[a]=this.target.getDefaultAttribute(a))});i.prev;)i.props&&(i.propKeys||(i.propKeys=Object.keys(i.props)),i.propKeys.forEach(a=>{s[a]===void 0&&(s[a]=i.props[a])})),e.propKeys=Object.keys(e.props),i=i.prev;const o=this.stepHead.props;e.propKeys||(e.propKeys=Object.keys(s)),e.propKeys.forEach(a=>{if(o[a]===void 0){const l=this.animate.getStartProps();o[a]=l[a]=this.target.getComputedAttribute(a)}}),this.target.onAddStep&&this.target.onAddStep(e)}_appendCustomAnimate(t,e){e.customAnimate=t,t.step=e,t.bind(this.target,this)}setPosition(t){var e;const r=this.duration,i=this.loop,s=this.rawPosition;let o,a,l=!1;const u=(e=this._startAt)!==null&&e!==void 0?e:0;if(t<0&&(t=0),t<u)return this.rawPosition=t,!1;if(t-=u,r<=0)return l=!0,l;if(o=Math.floor(t/r),a=t-o*r,l=t>=i*r+r,l&&(a=r,o=i,t=a*o+r),t===s)return l;const c=!this.reversed!=!(this.bounce&&o%2);return c&&(a=r-a),this._deltaPosition=a-this.position,this.position=a,this.rawPosition=t+u,this.updatePosition(l,c),l}updatePosition(t,e){if(!this.stepHead)return;let r=this.stepHead.next;const i=this.position,s=this.duration;if(this.target&&r){let o=r.next;for(;o&&o.position<=i;)r=o,o=r.next;let a=t?s===0?1:i/s:(i-r.position)/r.duration;r.easing&&(a=r.easing(a)),this.tryCallCustomAnimateLifeCycle(r,this._lastStep||(e?this.stepTail:this.stepHead),e),this.updateTarget(r,a,t),this._lastStep=r,this.animate._onFrame&&this.animate._onFrame.forEach(l=>l(r,a))}}tryCallCustomAnimateLifeCycle(t,e,r){if(t!==e)if(r){let i=e.prev;for(;i&&i!==t;)i.customAnimate&&(i.customAnimate.onStart&&i.customAnimate.onStart(),i.customAnimate.onEnd&&i.customAnimate.onEnd()),i=t.prev;e&&e.customAnimate&&e.customAnimate.onEnd&&e.customAnimate.onEnd(),t&&t.customAnimate&&t.customAnimate.onStart&&t.customAnimate.onStart()}else{let i=e.next;for(;i&&i!==t;)i.customAnimate&&(i.customAnimate.onStart&&i.customAnimate.onStart(),i.customAnimate.onEnd&&i.customAnimate.onEnd()),i=i.next;e&&e.customAnimate&&e.customAnimate.onEnd&&e.customAnimate.onEnd(),t&&t.customAnimate&&t.customAnimate.onStart&&t.customAnimate.onStart()}}getLastPropByName(t,e){let r=e.prev;for(;r;){if(r.props&&r.props[t]!==void 0)return r.props[t];if(r.customAnimate){const i=r.customAnimate.getEndProps()[t];if(i!==void 0)return i}r=r.prev}return xt.getInstance().warn("step"),e.props[t]}updateTarget(t,e,r){t.props==null&&t.customAnimate==null||this.target.onStep(this,this.animate,t,e,r)}}class xb{constructor(t,e,r,i){this.duration=e,this.position=t,this.props=r,this.easing=i}append(t){t.prev=this,t.next=this.next,this.next=t}getLastProps(){let t=this.prev;for(;t;){if(t.props)return t.props;if(t.customAnimate)return t.customAnimate.getMergedEndProps();t=t.prev}return null}}const Cb={duration:200,easing:"cubicOut"},co={duration:1e3,easing:"quadInOut"};var Sb;(function(n){n[n.Top=1]="Top",n[n.Right=2]="Right",n[n.Bottom=4]="Bottom",n[n.Left=8]="Left",n[n.ALL=15]="ALL"})(Sb||(Sb={}));const Oa=[0,0,0,0],tF=n=>n?ft(n)?n.length===0?0:n.length===1?n[0]:n.length===2?(Oa[0]=n[0],Oa[2]=n[0],Oa[1]=n[1],Oa[3]=n[1],Oa):n:n:0,Ds=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],Ku=[1,2,3,0,1,2,3,0];function _p(n,t,e,r){for(;n>=Vt;)n-=Vt;for(;n<0;)n+=Vt;for(;n>t;)t+=Vt;Ds[0].x=e,Ds[1].y=e,Ds[2].x=-e,Ds[3].y=-e;const i=Math.ceil(n/hi)%4,s=Math.ceil(t/hi)%4;if(r.add(em(n)*e,nm(n)*e),r.add(em(t)*e,nm(t)*e),i!==s||t-n>ke){let o=!1;for(let a=0;a<Ku.length;a++)if(o||i!==Ku[a]){if(o&&s===Ku[a])break;if(o){const l=Ds[Ku[a]];r.add(l.x,l.y)}}else{o=!0;const l=Ds[i];r.add(l.x,l.y)}}}const eF=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","scrollX","scrollY"],nF=n=>eF.includes(n);function qu(n,t){if(ft(n)){let e;for(let r=0;r<n.length&&e===void 0;r++)e=n[r][t];return e}return n[t]}class qd{constructor(){this.durations=[],this.timeout=qd.TimeOut,this.lastDate=0,this.durationsListThreshold=30}call(t){return this.lastDate=Date.now(),setTimeout(()=>{this.appendDuration(Date.now()-this.lastDate),t(0)},this.timeout,!0)}clear(t){clearTimeout(t)}appendDuration(t){this.durations.push(t),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce((e,r)=>e+r,0)/this.durations.length,1e3/60),1e3/30)}}qd.TimeOut=1e3/60;const Eb=new qd;var Ob;(function(n){n[n.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",n[n.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",n[n.TOP_TO_BOTTOM=2]="TOP_TO_BOTTOM",n[n.BOTTOM_TO_TOP=3]="BOTTOM_TO_TOP",n[n.STROKE=4]="STROKE"})(Ob||(Ob={}));class rF extends As{constructor(t,e){super(null,null,t,"linear"),this.customAnimates=e}initAnimates(){this.customAnimates.forEach(t=>{t.step=this.step,t.subAnimate=this.subAnimate,t.target=this.target})}getEndProps(){const t={};return this.customAnimates.forEach(e=>{Object.assign(t,e.getEndProps())}),t}onBind(){this.initAnimates(),this.customAnimates.forEach(t=>{t.onBind()})}onEnd(){this.customAnimates.forEach(t=>{t.onEnd()})}onStart(){this.customAnimates.forEach(t=>{t.onStart()})}onUpdate(t,e,r){this.updating||(this.updating=!0,this.customAnimates.forEach(i=>{const s=i.easing;e=(typeof s=="string"?_t[s]:s)(e),i.onUpdate(t,e,r)}),this.updating=!1)}}function kb(n,t,e,r,i,s){const o=(t-n)*i+n,a=(e-t)*i+t,l=(r-e)*i+e,u=(a-o)*i+o,c=(l-a)*i+a,h=(c-u)*i+u;s[0]=n,s[1]=o,s[2]=u,s[3]=h,s[4]=h,s[5]=c,s[6]=l,s[7]=r}function iF(n,t){const e=n.length,r=t.length;if(e===r)return[n,t];const i=[],s=[],o=e<r?n:t,a=Math.min(e,r),l=Math.abs(r-e)/6,u=(a-2)/6,c=Math.ceil(l/u),h=[o[0],o[1]];let d=l;for(let f=2;f<a;f+=6){let p=o[f-2],g=o[f-1],_=o[f],m=o[f+1],y=o[f+2],v=o[f+3];const b=o[f+4],x=o[f+5];if(d<=0){h.push(_,m,y,v,b,x);continue}const w=Math.min(d,c)+1;for(let C=1;C<=w;C++){const S=C/w;kb(p,_,y,b,S,i),kb(g,m,v,x,S,s),p=i[3],g=s[3],h.push(i[1],s[1],i[2],s[2],p,g),_=i[5],m=s[5],y=i[6],v=s[6]}d-=w-1}return o===n?[h,t]:[n,h]}function Tb(n,t){const e=n||t,r=e.length,i=e[r-2],s=e[r-1],o=[];for(let a=0;a<t.length;a+=2)o[a]=i,o[a+1]=s;return o}function sF(n){const t=[],e=n.length;for(let r=0;r<e;r+=2)t[r]=n[e-r-2],t[r+1]=n[e-r-1];return t}function Ab(n){let t=0,e=0,r=0;const i=n.length;for(let s=0,o=i-2;s<i;o=s,s+=2){const a=n[o],l=n[o+1],u=n[s],c=n[s+1],h=a*c-u*l;t+=h,e+=(a+u)*h,r+=(l+c)*h}return t===0?[n[0]||0,n[1]||0,0]:[e/t/3,r/t/3,t]}function oF(n,t,e,r){const i=(n.length-2)/6;let s=1/0,o=0;const a=n.length,l=a-2;for(let u=0;u<i;u++){const c=6*u;let h=0;for(let d=0;d<a;d+=2){const f=d===0?c:(c+d-2)%l+2,p=n[f]-e[0],g=n[f+1]-e[1],_=t[d]-r[0]-p,m=t[d+1]-r[1]-g;h+=_*_+m*m}h<s&&(s=h,o=u)}return o}function aF(n,t,e,r){const i=[];let s;for(let o=0;o<n.length;o++){let a=n[o];const l=t[o],u=Ab(a),c=Ab(l);s==null&&(s=u[2]<0!=c[2]<0);const h=[],d=[];let f=0,p=1/0;const g=[],_=a.length;s&&(a=sF(a));const m=6*oF(a,l,u,c),y=_-2;for(let v=0;v<y;v+=2){const b=(m+v)%y+2;h[v+2]=a[b]-u[0],h[v+3]=a[b+1]-u[1]}if(h[0]=a[m]-u[0],h[1]=a[m+1]-u[1],e>0){const v=r/e;for(let b=-r/2;b<=r/2;b+=v){const x=Math.sin(b),w=Math.cos(b);let C=0;for(let S=0;S<a.length;S+=2){const k=h[S],O=h[S+1],T=l[S]-c[0],I=l[S+1]-c[1],R=T*w-I*x,N=T*x+I*w;g[S]=R,g[S+1]=N;const j=R-k,P=N-O;C+=j*j+P*P}if(C<p){p=C,f=b;for(let S=0;S<g.length;S++)d[S]=g[S]}}}i.push({from:h,to:d,fromCp:u,toCp:c,rotation:-f})}return i}function lF(n,t){let e,r;const i=[],s=[];for(let o=0;o<Math.max(n.length,t.length);o++){const a=n[o],l=t[o];let u,c;a?l?([u,c]=iF(a,l),e=u,r=c):(c=Tb(r,a),u=a):(u=Tb(e,l),c=l),i.push(u),s.push(c)}return[i,s]}const Ir=(n,t,e,r,i)=>{ws(t,r)&&ws(e,i)||n.push(t,e,r,i,r,i)};function vm(n){const t=n.commandList,e=[];let r,i=0,s=0,o=0,a=0;const l=(f,p)=>{r&&r.length>2&&e.push(r),r=[f,p]};let u,c,h,d;for(let f=0,p=t.length;f<p;f++){const g=t[f],_=f===0;switch(_&&(o=i=g[1],a=s=g[2],[vt.L,vt.C,vt.Q].includes(g[0])&&(r=[o,a])),g[0]){case vt.M:i=o=g[1],s=a=g[2],l(o,a);break;case vt.L:u=g[1],c=g[2],Ir(r,i,s,u,c),i=u,s=c;break;case vt.C:r.push(g[1],g[2],g[3],g[4],i=g[5],s=g[6]);break;case vt.Q:u=g[1],c=g[2],h=g[3],d=g[4],r.push(i+2/3*(u-i),s+2/3*(c-s),h+2/3*(u-h),d+2/3*(c-d),h,d),i=h,s=d;break;case vt.A:{const m=g[1],y=g[2],v=g[3],b=v,x=g[4],w=g[5],C=!!g[6];u=Math.cos(x)*v+m,c=Math.sin(x)*v+y,_?(o=u,a=c,l(o,a)):Ir(r,i,s,u,c),i=Math.cos(w)*v+m,s=Math.sin(w)*v+y;const S=(C?-1:1)*Math.PI/2;for(let k=x;C?k>w:k<w;k+=S){const O=C?Math.max(k+S,w):Math.min(k+S,w);wc(r,k,O,m,y,v,b)}break}case vt.E:{const m=g[1],y=g[2],v=g[3],b=g[4],x=g[5],w=g[6],C=g[7]+w,S=!!g[8],k=!ws(x,0),O=Math.cos(x),T=Math.sin(x);let I=Math.cos(w)*v,R=Math.sin(w)*b;k?(u=I*O-R*T+m,c=I*T+R*O+y):(u=I+m,c=R+y),_?(o=u,a=c,l(o,a)):Ir(r,i,s,u,c),I=Math.cos(C)*v,R=Math.sin(C)*b,k?(i=I*O-R*T+m,s=I*T+R*O+y):(i=I+m,s=R+y);const N=(S?-1:1)*Math.PI/2;for(let j=w;S?j>C:j<C;j+=N){const P=S?Math.max(j+N,C):Math.min(j+N,C);if(wc(r,j,P,m,y,v,b),k){const B=r.length;for(let A=B-6;A<=B-1;A+=2)I=r[A],R=r[A+1],r[A]=(I-m)*O-(R-y)*T+m,r[A+1]=(I-m)*T+(R-y)*O+y}}break}case vt.R:o=i=g[1],a=s=g[2],u=o+g[3],c=a+g[4],l(u,a),Ir(r,u,a,u,c),Ir(r,u,c,o,c),Ir(r,o,c,o,a),Ir(r,o,a,u,a);break;case vt.AT:{const m=g[1],y=g[2],v=g[3],b=g[4],x=g[5],w=Tn.distancePP({x:i,y:s},{x:m,y}),C=Tn.distancePP({x:v,y:b},{x:m,y}),S=((i-m)*(v-m)+(s-y)*(b-y))/(w*C),k=x/Math.sin(S/2),O=(i+v-2*m)/2,T=(s+b-2*y)/2,I=Tn.distancePP({x:O,y:T},{x:0,y:0}),R=m+k*O/I,N=v+k*T/I,j=Math.sqrt(k*k-x*x);o=m+j*(i-m)/w,a=y+j*(s-y)/w,Ir(r,i,s,o,a),i=m+j*(v-m)/C,s=y+j*(b-y)/C;const P=Q1({x:R,y:N},{x:o,y:a}),B=Q1({x:R,y:N},{x:i,y:s});wc(r,P,B,R,N,x,x);break}case vt.Z:r&&Ir(r,i,s,o,a),i=o,s=a}}return r&&r.length>2&&e.push(r),e}function Mb(n,t){for(let e=0;e<n.length;e++){const r=n[e];for(let i=0;i<r.length;i+=2){const s=r[i],o=r[i+1],a={x:s,y:o};t.transformPoint({x:s,y:o},a),r[i]=a.x,r[i+1]=a.y}}}function uF(n){const t=new Xo;for(let e=0;e<n.length;e++){const r=n[e];if(r.length>2){t.moveTo(r[0],r[1]);for(let i=2;i<r.length;i+=6)t.bezierCurveTo(r[i],r[i+1],r[i+2],r[i+3],r[i+4],r[i+5])}}return t}const cF=n=>{if(!n)return{x:0,y:0,width:0,height:0};let t=z(n.width)?n.x1-n.x:n.width,e=z(n.height)?n.y1-n.y:n.height,r=0,i=0;return t<0?(r=t,t=-t):Number.isNaN(t)&&(t=0),e<0?(i=e,e=-e):Number.isNaN(e)&&(e=0),{x:r,y:i,width:t,height:e}};function Ay(n,t,e){const r=n/t;let i,s;n>=t?(s=Math.ceil(Math.sqrt(e*r)),i=Math.floor(e/s),i===0&&(i=1,s=e)):(i=Math.ceil(Math.sqrt(e/r)),s=Math.floor(e/i),s===0&&(s=1,i=e));const o=[];for(let l=0;l<i;l++)o.push(s);const a=e-i*s;if(a>0)for(let l=0;l<a;l+=s)l+s<a?o.push(s):o.push(a-l);return o}const hF=(n,t)=>{const{width:e,height:r}=cF(n.attribute),i=Ay(e,r,t),s=[],o=r/i.length;for(let a=0,l=i.length;a<l;a++){const u=i[a],c=e/u;for(let h=0;h<u;h++)s.push({x:0+h*c,y:0+a*o,width:c,height:o})}return s},dF=(n,t)=>{const e=n.getParsedAngle(),r=e.startAngle,i=e.endAngle,s=n.getComputedAttribute("innerRadius"),o=n.getComputedAttribute("outerRadius"),a=Math.abs(r-i),l=Math.abs(o-s),u=Ay(a*(s+o)/2,l,t),c=[],h=l/u.length,d=o>=s?1:-1,f=i>=r?1:-1;for(let p=0,g=u.length;p<g;p++){const _=u[p],m=a/_;for(let y=0;y<_;y++)c.push({innerRadius:o-h*p*d,outerRadius:o-h*(p+1)*d,startAngle:r+m*y*f,endAngle:r+m*(y+1)*f})}return c},fF=(n,t)=>{const e=n.getComputedAttribute("startAngle"),r=n.getComputedAttribute("endAngle"),i=n.getComputedAttribute("radius"),s=Math.abs(e-r),o=Ay(s*i,i,t),a=[],l=s/o[0],u=i/o.length,c=r>=e?1:-1;for(let h=0,d=o.length;h<d;h++)for(let f=0,p=o[h];f<p;f++)a.push({innerRadius:u*h,outerRadius:u*(h+1),startAngle:e+l*f*c,endAngle:e+l*(f+1)*c});return a},Pb=(n,t)=>{const e=n.filter(a=>a.defined!==!1&&Tt(a.x)&&Tt(a.y));if(e.length===0)return[];if(e.length===1)return new Array(t).fill(0).map(a=>e[0]);const r=[];if(t<=e.length){const a=e.length/t;let l=0,u=0;for(;l<t;)r.push(e[Math.floor(u)]),u+=a,l++;return r}const i=t-e.length,s=1/(i/(e.length-1)+1);let o=0;for(let a=0,l=n.length;a<l;a++)if(r.push(n[a]),a<l-1){let u=s;const c=n[a].x,h=n[a].y,d=n[a+1].x,f=n[a+1].y;for(;u<1&&o<i;)r.push({x:c+(d-c)*u,y:h+(f-h)*u}),u+=s,o+=1}return r},pF=(n,t)=>{var e,r;const i=n.attribute;let s=i.points;const o=i.segments;s||(s=o.reduce((c,h)=>{var d;return c.concat((d=h.points)!==null&&d!==void 0?d:[])},[]));const a=s.filter(c=>c.defined!==!1&&Tt(c.x)&&Tt(c.y));if(!a.length)return[];const l=[];a.forEach(c=>{l.push({x:c.x,y:c.y})});for(let c=a.length-1;c>=0;c--){const h=a[c];l.push({x:(e=h.x1)!==null&&e!==void 0?e:h.x,y:(r=h.y1)!==null&&r!==void 0?r:h.y})}const u=[];return Vl(s,t,u),u},gF=(n,t)=>{const e=n.attribute,r=e.points;if(r)return Pb(r,t);if(e.segments){const i=e.segments.reduce((s,o)=>{var a;return s.concat((a=o.points)!==null&&a!==void 0?a:[])},[]);return Pb(i,t)}return[]};function mF(n,t){return n[0]*t[1]-n[1]*t[0]}const ym=n=>n.map(t=>({x:t.x,y:t.y})),Ib=(n,t,e)=>{const r=n.length,i=[];for(let h=0;h<r;h++){const d=n[h],f=h===r-1?n[0]:n[h+1],p=_3([t.x,t.y],[e.x,e.y],[d.x,d.y],[f.x,f.y]);p&&typeof p!="boolean"&&i.push({dot:mF([p[0]-t.x,p[1]-t.x],[e.x-t.x,e.y-t.x]),point:{x:p[0],y:p[1]},edgeIndex:h})}if(i.length<2)return[ym(n),ym(n)];i.sort((h,d)=>h.dot-d.dot);let s=i[0],o=i[i.length-1];s.edgeIndex>o.edgeIndex&&([s,o]=[o,s]);const a=s.point,l=o.point,u=[{x:a.x,y:a.y}];for(let h=s.edgeIndex+1;h<=o.edgeIndex;h++)u.push({x:n[h].x,y:n[h].y});u.push({x:l.x,y:l.y});const c=[{x:l.x,y:l.y}];for(let h=o.edgeIndex+1,d=s.edgeIndex+r;h<=d;h++){const f=n[h%r];c.push({x:f.x,y:f.y})}return c.push({x:a.x,y:a.y}),[u,c]},vF=n=>{const t=new Mn;n.forEach(s=>{t.add(s.x,s.y)});const e=t.width(),r=t.height();if(e>=r){const s=t.x1+e/2;return Ib(n,{x:s,y:t.y1},{x:s,y:t.y2})}const i=t.y1+r/2;return Ib(n,{x:t.x1,y:i},{x:t.x2,y:i})},Vl=(n,t,e)=>{if(t===1)e.push({points:n});else{const r=Math.floor(t/2),i=vF(n);Vl(i[0],r,e),Vl(i[1],t-r,e)}},yF=(n,t)=>{const e=n.attribute.points;if(!e||!e.length)return[];if(t===1)return[{points:ym(e)}];const r=[];return Vl(e,t,r),r},_F=(n,t)=>{const e=n.getParsedPathShape(),r=vm(e);if(!r.length||t<0)return[];const i=r.length;if(r.length>=t){const l=[],u=Math.floor(r.length/t);for(let c=0;c<t;c++){const h=r.slice(c*u,c===t-1?i:(c+1)*u);l.push({path:uF(h)})}return l}const s=[],o=Math.floor(t/i);let a=t;for(let l=0;l<i;l++){const u=[];for(let c=2,h=r[l].length;c<h;c+=2)u.push({x:r[0][c],y:r[0][c+1]});Vl(u,l===i-1?a:o,s),a-=o}return s};var Rn;(function(n){n[n.Color255=0]="Color255",n[n.Color1=1]="Color1"})(Rn||(Rn={}));class ee{static Get(t,e=Rn.Color1,r=[0,0,0,1]){if(e===Rn.Color1){const o=ee.store1[t];if(o)return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r;const a=Qe.parseColorString(t);if(a){const l=[a.r/255,a.g/255,a.b/255,a.opacity];ee.store1[t]=l,ee.store255[t]=[a.r,a.g,a.b,a.opacity],r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=l[3]}return r}const i=ee.store255[t];if(i)return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r;const s=Qe.parseColorString(t);return s&&(ee.store1[t]=[s.r/255,s.g/255,s.b/255,s.opacity],ee.store255[t]=[s.r,s.g,s.b,s.opacity],r[0]=s.r,r[1]=s.g,r[2]=s.b,r[3]=s.opacity),r}static Set(t,e,r){if(e===Rn.Color1){if(ee.store1[t])return;ee.store1[t]=r,ee.store255[t]=[Math.floor(255*r[0]),Math.floor(255*r[1]),Math.floor(255*r[2]),Math.floor(255*r[3])]}else{if(ee.store255[t])return;ee.store255[t]=r,ee.store1[t]=[r[0]/255,r[1]/255,r[2]/255,r[3]]}}}ee.store255={},ee.store1={};function Zu(n,t=!1){return Array.isArray(n)?t?`rgb(${Math.round(n[0])},${Math.round(n[1])},${Math.round(n[2])},${n[3].toFixed(2)})`:`rgb(${Math.round(n[0])},${Math.round(n[1])},${Math.round(n[2])})`:n}function Oo(n,t,e,r,i){if(!n||!t)return n&&Zu(n)||t&&Zu(t)||!1;let s,o,a=!1,l=!1;if(Array.isArray(n)?s=n:typeof n=="string"?s=ee.Get(n,Rn.Color255):a=!0,Array.isArray(t)?o=t:typeof t=="string"?o=ee.Get(t,Rn.Color255):l=!0,a!==l){const u=a?n:t,c=a?t:n,h=Object.assign(Object.assign({},u),{stops:u.stops.map(d=>Object.assign(Object.assign({},d),{color:Zu(c)}))});return a?Oo(u,h,e,r,i):Oo(h,u,e,r,i)}if(a){if(n.gradient===t.gradient){const u=n,c=t,h=u.stops,d=c.stops;if(h.length!==d.length)return!1;if(u.gradient==="linear")return bF(u,c,e);if(u.gradient==="radial")return wF(u,c,e);if(u.gradient==="conical")return xF(u,c,e)}return!1}return i&&i(s,o),Zu(CF(s,o,e),r)}function bF(n,t,e){const r=n.stops,i=t.stops;return{gradient:"linear",x0:n.x0+(t.x0-n.x0)*e,x1:n.x1+(t.x1-n.x1)*e,y0:n.y0+(t.y0-n.y0)*e,y1:n.y1+(t.y1-n.y1)*e,stops:new Array(r.length).fill(0).map((s,o)=>({color:My(r[o].color,i[o].color,e),offset:r[o].offset+(i[o].offset-r[o].offset)*e}))}}function wF(n,t,e){const r=n.stops,i=t.stops;return{gradient:"radial",x0:n.x0+(t.x0-n.x0)*e,x1:n.x1+(t.x1-n.x1)*e,y0:n.y0+(t.y0-n.y0)*e,y1:n.y1+(t.y1-n.y1)*e,r0:n.r0+(t.r0-n.r0)*e,r1:n.r1+(t.r1-n.r1)*e,stops:new Array(r.length).fill(0).map((s,o)=>({color:My(r[o].color,i[o].color,e),offset:r[o].offset+(i[o].offset-r[o].offset)*e}))}}function xF(n,t,e){const r=n.stops,i=t.stops;return{gradient:"conical",startAngle:n.startAngle+(t.startAngle-n.startAngle)*e,endAngle:n.endAngle+(t.endAngle-n.endAngle)*e,x:n.x+(t.x-n.x)*e,y:n.y+(t.y-n.y)*e,stops:new Array(r.length).fill(0).map((s,o)=>({color:My(r[o].color,i[o].color,e),offset:r[o].offset+(i[o].offset-r[o].offset)*e}))}}function CF(n,t,e){return[n[0]+(t[0]-n[0])*e,n[1]+(t[1]-n[1])*e,n[2]+(t[2]-n[2])*e,n[3]+(t[3]-n[3])*e]}const Rr=[0,0,0,0],ka=[0,0,0,0];function My(n,t,e){return ee.Get(n,Rn.Color255,Rr),ee.Get(t,Rn.Color255,ka),`rgba(${Math.round(Rr[0]+(ka[0]-Rr[0])*e)},${Math.round(Rr[1]+(ka[1]-Rr[1])*e)},${Math.round(Rr[2]+(ka[2]-Rr[2])*e)},${Rr[3]+(ka[3]-Rr[3])*e})`}const bO=(n,t,e)=>{n.forEach(r=>{if(Number.isFinite(r.to))t[r.key]=r.from+(r.to-r.from)*e;else if(r.key==="fill"||r.key==="stroke"){const i=Oo(r.from,r.to,e,!1);i&&(t[r.key]=i)}})},wO=(n,t,e)=>{const r=[],i=[];t.clear();for(let s=0;s<n.length;s++){const o=n[s],a=o.from,l=o.to,u=o.rotation*e,c=o.fromCp,h=o.toCp,d=Math.sin(u),f=Math.cos(u);i[0]=c[0]+(h[0]-c[0])*e,i[1]=c[1]+(h[1]-c[1])*e;for(let _=0;_<a.length;_+=2){const m=a[_],y=a[_+1],v=m*(1-e)+l[_]*e,b=y*(1-e)+l[_+1]*e;r[_]=v*f-b*d+i[0],r[_+1]=v*d+b*f+i[1]}let p=r[0],g=r[1];t.moveTo(p,g);for(let _=2;_<a.length;_+=6){const m=r[_],y=r[_+1],v=r[_+2],b=r[_+3],x=r[_+4],w=r[_+5];p===m&&g===y&&v===x&&b===w?t.lineTo(x,w):t.bezierCurveTo(m,y,v,b,x,w),p=x,g=w}}},xO=(n,t,e)=>{const r=n?vm(n):[],i=vm(t);e&&r&&(e.fromTransform&&Mb(r,e.fromTransform.clone().getInverse()),Mb(r,e.toTransfrom));const[s,o]=lF(r,i);return n?aF(s,o,10,Math.PI):o.map((a,l)=>({from:s[l],to:a,fromCp:[0,0],toCp:[0,0],rotation:0}))},SF=["fill","fillOpacity","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","lineDashOffset"],CO=(n,t)=>{if(!n||!t)return null;const e=[];let r=!1;return Object.keys(n).forEach(i=>{if(!SF.includes(i))return;const s=t[i];z(s)||z(n[i])||s===n[i]||(i==="fill"||i==="stroke"?e.push({from:typeof n[i]=="string"?ee.Get(n[i],Rn.Color255):n[i],to:typeof s=="string"?ee.Get(s,Rn.Color255):s,key:i}):e.push({from:n[i],to:s,key:i}),r=!0)}),r?e:null};class SO extends As{constructor(t,e,r){super(0,1,e,r),this.morphingData=t.morphingData,this.otherAttrs=t.otherAttrs,this.saveOnEnd=t.saveOnEnd}getEndProps(){return{}}onBind(){this.target.createPathProxy(),this.onUpdate(!1,0,this.target.attribute)}onEnd(){}onUpdate(t,e,r){const i=this.target,s=typeof i.pathProxy=="function"?i.pathProxy(i.attribute):i.pathProxy;wO(this.morphingData,s,e),this.otherAttrs&&this.otherAttrs.length&&bO(this.otherAttrs,r,e),t&&!this.saveOnEnd&&(this.target.pathProxy=null)}}const EO=(n,t,e,r)=>{var i,s,o;if(n&&(!n.valid||!n.toCustomPath))return __DEV__&&console.error(n," is not validate"),null;if(!t.valid||!t.toCustomPath)return __DEV__&&console.error(t," is not validate"),null;let a=n==null?void 0:n.globalTransMatrix;r&&a&&(a=r.clone().multiply(a.a,a.b,a.c,a.d,a.e,a.f));const l=xO((i=n==null?void 0:n.toCustomPath)===null||i===void 0?void 0:i.call(n),t.toCustomPath(),{fromTransform:a,toTransfrom:t.globalTransMatrix}),u=CO(n==null?void 0:n.attribute,t.attribute),c=t.animate(e);return e!=null&&e.delay&&c.wait(e.delay),c.play(new SO({morphingData:l,otherAttrs:u},(s=e==null?void 0:e.duration)!==null&&s!==void 0?s:co.duration,(o=e==null?void 0:e.easing)!==null&&o!==void 0?o:co.easing)),c},EF=(n,t,e)=>{var r;const i=t.filter(u=>u&&u.toCustomPath&&u.valid);i.length||__DEV__&&console.error(i," is not validate"),n.valid&&n.toCustomPath||__DEV__&&console.error(n," is not validate");const s=((e==null?void 0:e.splitPath)==="clone"?kO:(r=e==null?void 0:e.splitPath)!==null&&r!==void 0?r:TO)(n,i.length,!1),o=e==null?void 0:e.onEnd;let a=i.length;const l=()=>{a--,a===0&&o&&o()};i.forEach((u,c)=>{var h;const d=s[c],f=((h=e==null?void 0:e.delay)!==null&&h!==void 0?h:0)+(e!=null&&e.individualDelay?e.individualDelay(c,i.length,d,u):0);EO(d,u,Object.assign({},e,{onEnd:l,delay:f}),n.globalTransMatrix)})};class OF extends As{constructor(t,e,r){super(0,1,e,r),this.morphingData=t.morphingData,this.otherAttrs=t.otherAttrs}getEndProps(){return{}}onBind(){this.addPathProxy()}addPathProxy(){this.target.shadowRoot.forEachChildren(t=>{t.createPathProxy()}),this.onUpdate(!1,0,this.target.attribute)}clearPathProxy(){this.target.shadowRoot.forEachChildren(t=>{t.pathProxy=null})}onEnd(){}onUpdate(t,e,r){this.target.shadowRoot.forEachChildren((i,s)=>{var o;wO(this.morphingData[s],typeof i.pathProxy=="function"?i.pathProxy(i.attribute):i.pathProxy,e),!((o=this.otherAttrs)===null||o===void 0)&&o[s]&&this.otherAttrs[s].length&&bO(this.otherAttrs[s],i.attribute,e)}),t&&(this.clearPathProxy(),this.morphingData=null)}}const Py=n=>{const t={};return Object.keys(n).forEach(e=>{nF(e)||(t[e]=n[e])}),t},OO=(n,t,e)=>{const r=Py(n.attribute),i=n.attachShadow();if(t.length)i.setTheme({[t[0].type]:r}),t.forEach(s=>{i.appendChild(s)});else{const s=n.AABBBounds,o=s.width(),a=s.height();i.setTheme({rect:r}),new Array(e).fill(0).forEach(l=>{const u=Y.graphicService.creator.rect({x:0,y:0,width:o,height:a});i.appendChild(u),t.push(u)})}},kO=(n,t,e)=>{const r=[],i=e?null:Py(n.attribute),s=n.toCustomPath();for(let o=0;o<t;o++){const a={path:new Xo().fromCustomPath2D(s)};r.push(Y.graphicService.creator.path(e?a:Object.assign({},i,a)))}return e&&OO(n,r,t),r},TO=(n,t,e)=>{const r=[],i=e?null:Py(n.attribute);if(n.type==="rect")hF(n,t).forEach(s=>{r.push(Y.graphicService.creator.rect(e?s:Object.assign({},i,s)))});else if(n.type==="arc")dF(n,t).forEach(s=>{r.push(Y.graphicService.creator.arc(e?s:Object.assign({},i,s)))});else if(n.type==="circle")fF(n,t).forEach(s=>{r.push(Y.graphicService.creator.arc(e?s:Object.assign({},i,s)))});else if(n.type==="line"){const s=gF(n,t),o={size:10,symbolType:"circle"};s.forEach(a=>{r.push(Y.graphicService.creator.symbol(e?Object.assign({},a,o):Object.assign({},i,a,o)))})}else n.type==="polygon"?yF(n,t).forEach(s=>{r.push(Y.graphicService.creator.polygon(e?s:Object.assign({},i,s)))}):n.type==="area"?pF(n,t).forEach(s=>{r.push(Y.graphicService.creator.polygon(e?s:Object.assign({},i,s)))}):n.type==="path"&&_F(n,t).forEach(s=>{"path"in s?r.push(Y.graphicService.creator.path(e?s:Object.assign({},i,s))):r.push(Y.graphicService.creator.polygon(e?s:Object.assign({},i,s)))});return e&&OO(n,r,t),r},kF=(n,t,e)=>{var r,i,s;const o=n.filter(h=>h.toCustomPath&&h.valid);o.length||__DEV__&&console.error(n," is not validate"),t.valid&&t.toCustomPath||__DEV__&&console.error(t," is not validate");const a=((e==null?void 0:e.splitPath)==="clone"?kO:(r=e==null?void 0:e.splitPath)!==null&&r!==void 0?r:TO)(t,o.length,!0),l=t.attribute;t.setAttribute("visible",!1);const u=o.map((h,d)=>xO(h.toCustomPath(),a[d].toCustomPath(),{fromTransform:h.globalTransMatrix,toTransfrom:a[d].globalTransMatrix})),c=o.map((h,d)=>CO(h.attribute,l));if(e!=null&&e.individualDelay){const h=e.onEnd;let d=o.length;const f=()=>{d--,d===0&&(t.setAttributes({visible:!0,ratio:null},!1,{type:Oe.ANIMATE_END}),t.detachShadow(),h&&h())};a.forEach((p,g)=>{var _,m,y;const v=((_=e.delay)!==null&&_!==void 0?_:0)+e.individualDelay(g,o.length,n[g],p),b=p.animate(Object.assign({},e,{onEnd:f}));b.wait(v),b.play(new SO({morphingData:u[g],saveOnEnd:!0,otherAttrs:c[g]},(m=e.duration)!==null&&m!==void 0?m:co.duration,(y=e.easing)!==null&&y!==void 0?y:co.easing))})}else{const h=e==null?void 0:e.onEnd,d=e?Object.assign({},e):{};d.onEnd=()=>{t.setAttribute("visible",!0,!1,{type:Oe.ANIMATE_END}),t.detachShadow(),h&&h()};const f=t.animate(d);e!=null&&e.delay&&f.wait(e.delay),f.play(new OF({morphingData:u,otherAttrs:c},(i=e==null?void 0:e.duration)!==null&&i!==void 0?i:co.duration,(s=e==null?void 0:e.easing)!==null&&s!==void 0?s:co.easing))}};class Dt{static GetImage(t,e){var r;const i=Dt.cache.get(t);i?i.loadState==="fail"?Y.global.getRequestAnimationFrame()(()=>{e.imageLoadFail(t)}):i.loadState==="init"||i.loadState==="loading"?(r=i.waitingMark)===null||r===void 0||r.push(e):e&&e.imageLoadSuccess(t,i.data):Dt.loadImage(t,e)}static GetSvg(t,e){var r;let i=Dt.cache.get(t);i?i.loadState==="fail"?Y.global.getRequestAnimationFrame()(()=>{e.imageLoadFail(t)}):i.loadState==="init"||i.loadState==="loading"?(r=i.waitingMark)===null||r===void 0||r.push(e):e&&e.imageLoadSuccess(t,i.data):(i={type:"image",loadState:"init"},Dt.cache.set(t,i),i.dataPromise=Y.global.loadSvg(t),i.dataPromise?(i.waitingMark=[e],i.dataPromise.then(s=>{var o;i.loadState=s!=null&&s.data?"success":"fail",i.data=s==null?void 0:s.data,(o=i.waitingMark)===null||o===void 0||o.map((a,l)=>{s!=null&&s.data?(i.loadState="success",i.data=s.data,a.imageLoadSuccess(t,s.data)):(i.loadState="fail",a.imageLoadFail(t))})})):(i.loadState="fail",e.imageLoadFail(t)))}static GetFile(t,e){let r=Dt.cache.get(t);return r?r.loadState==="init"||r.loadState==="fail"?Promise.reject():r.loadState==="loading"?r.dataPromise.then(i=>i.data):Promise.resolve(r.data):(r={type:e,loadState:"init"},Dt.cache.set(t,r),e==="arrayBuffer"?r.dataPromise=Y.global.loadArrayBuffer(t):e==="blob"?r.dataPromise=Y.global.loadBlob(t):e==="json"&&(r.dataPromise=Y.global.loadJson(t)),r.dataPromise.then(i=>i.data))}static loading(){setTimeout(()=>{if(!Dt.isLoading&&Dt.toLoadAueue.length){Dt.isLoading=!0;const t=Dt.toLoadAueue.splice(0,10),e=[];t.forEach(r=>{const{url:i,marks:s}=r,o={type:"image",loadState:"init"};if(Dt.cache.set(i,o),o.dataPromise=Y.global.loadImage(i),o.dataPromise){o.waitingMark=s;const a=o.dataPromise.then(l=>{var u;o.loadState=l!=null&&l.data?"success":"fail",o.data=l==null?void 0:l.data,(u=o.waitingMark)===null||u===void 0||u.map((c,h)=>{l!=null&&l.data?(o.loadState="success",o.data=l.data,c.imageLoadSuccess(i,l.data)):(o.loadState="fail",c.imageLoadFail(i))})});e.push(a)}else o.loadState="fail",s.forEach(a=>a.imageLoadFail(i))}),Promise.all(e).then(()=>{Dt.isLoading=!1,this.onLoadSuccessCb.forEach(r=>r()),Dt.loading()}).catch(r=>{console.error(r),Dt.isLoading=!1,this.onLoadSuccessCb.forEach(i=>i()),Dt.loading()})}},0)}static loadImage(t,e){const r=Rb(t,Dt.toLoadAueue);if(r!==-1)return Dt.toLoadAueue[r].marks.push(e),void Dt.loading();Dt.toLoadAueue.push({url:t,marks:[e]}),Dt.loading()}static improveImageLoading(t){const e=Rb(t,Dt.toLoadAueue);if(e!==-1){const r=Dt.toLoadAueue.splice(e,1);Dt.toLoadAueue.unshift(r[0])}}static onLoadSuccess(t){this.onLoadSuccessCb.push(t)}}function Rb(n,t){for(let e=0;e<t.length;e++)if(t[e].url===n)return e;return-1}Dt.cache=new Map,Dt.isLoading=!1,Dt.toLoadAueue=[],Dt.onLoadSuccessCb=[];const TF=new fe,Db=new je,Bb=["lineWidth","scaleX","scaleY","angle","anchor","visible"],Lb=["x","y"],jb=["scaleX","scaleY"],Nb=["angle"],Ta=new xe,AO={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class Zd extends YN{static mixin(t){const e=Object.keys(t);for(let r=0;r<e.length;++r){const i=e[r];Object.defineProperty(Zd.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get AABBBounds(){return this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise")}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(t={}){var e;super(),this._AABBBounds=new je,this._updateTag=Rt.INIT,this.attribute=t,this.valid=this.isValid(),t.background&&this.loadImage((e=t.background.background)!==null&&e!==void 0?e:t.background,!0)}setMode(t){t==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(t,e=!1){var r,i;const{dx:s=t.dx,dy:o=t.dy}=this.attribute;if(e&&this.parent){const a=this.parent.attribute;Ta.x=s+((r=a.scrollX)!==null&&r!==void 0?r:0),Ta.y=o+((i=a.scrollY)!==null&&i!==void 0?i:0)}else Ta.x=s,Ta.y=o;return Ta}onAnimateBind(t){this._emitCustomEvent("animate-bind",t)}tryUpdateAABBBounds(t){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;Y.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const e=this.doUpdateAABBBounds(t);return Y.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),e}combindShadowAABBBounds(t){if(this.shadowRoot){const e=this.shadowRoot.AABBBounds.clone();t.union(e)}}tryUpdateGlobalAABBBounds(){const t=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(t.x1,t.y1,t.x2,t.y2):this._globalAABBBounds=t.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(t=!0){if(this._globalTransMatrix){if(this.parent){const e=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(t=!0){return this._transMatrix||(this._transMatrix=new fe),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),t&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&Rt.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&Rt.UPDATE_BOUNDS)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&Rt.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&Rt.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&Rt.UPDATE_LOCAL_MATRIX)}isValid(){var t,e;const r=this.attribute;return Number.isFinite(((t=r.x)!==null&&t!==void 0?t:0)+((e=r.y)!==null&&e!==void 0?e:0))}_validNumber(t){return t==null||Number.isFinite(t)}shouldUpdateShape(){return!!(this._updateTag&Rt.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=Rt.CLEAR_SHAPE}containsPoint(t,e,r,i){if(!i)return!1;if(r===ch.GLOBAL){const s=new xe(t,e);this.parent&&this.parent.globalTransMatrix.transformPoint(s,s),t=s.x,e=s.y}return i.containsPoint(this,{x:t,y:e})}setAttributes(t,e=!1,r){(t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,r)||t).background&&this.loadImage(t.background,!0),this._setAttributes(t,e,r)}_setAttributes(t,e=!1,r){const i=Object.keys(t);for(let s=0;s<i.length;s++){const o=i[s];this.attribute[o]=t[o]}this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!e&&!this.needUpdateTags(i)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)}setAttribute(t,e,r,i){var s;const o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,i);o?this._setAttributes(o,r,i):z((s=this.normalAttrs)===null||s===void 0?void 0:s[t])?(this.attribute[t]=e,this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!r&&!this.needUpdateTag(t)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)):this.normalAttrs[t]=e,t==="background"&&this.loadImage(e,!0)}needUpdateTags(t,e=Bb){for(let r=0;r<e.length;r++){const i=e[r];if(t.indexOf(i)!==-1)return!0}return!1}needUpdateTag(t,e=Bb){for(let r=0;r<e.length;r++)if(t===e[r])return!0;return!1}initAttributes(t){const e={type:Oe.INIT};t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,e)||t,this.attribute=t,t.background&&this.loadImage(t.background,!0),this._updateTag=Rt.INIT,this.valid=this.isValid(),this.onAttributeUpdate(e)}translate(t,e){var r,i;if(t===0&&e===0)return this;const s={type:Oe.TRANSLATE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,Lb,s);o&&(t=o.x,e=o.y,delete o.x,delete o.y,this._setAttributes(o));const a=this.attribute,l=a.postMatrix;return l?Y.transformUtil.fromMatrix(l,l).translate(t,e):(a.x=((r=a.x)!==null&&r!==void 0?r:_e.x)+t,a.y=((i=a.y)!==null&&i!==void 0?i:_e.y)+e),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(s),this}translateTo(t,e){const r=this.attribute;if(r.x===t&&r.y===e)return this;const i={type:Oe.TRANSLATE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,Lb,i);return s?(this._setAttributes(s,!1,i),this):(r.x=t,r.y=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}scale(t,e,r){var i,s;if(t===1&&e===1)return this;const o={type:Oe.SCALE},a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e,scaleCenter:r},this.attribute,jb,o);a&&(t=a.scaleX,e=a.scaleY,delete a.scaleX,delete a.scaleY,this._setAttributes(a));const l=this.attribute;if(r){let{postMatrix:u}=this.attribute;u||(u=new fe,l.postMatrix=u),Y.transformUtil.fromMatrix(u,u).scale(t,e,r)}else l.scaleX=((i=l.scaleX)!==null&&i!==void 0?i:_e.scaleX)*t,l.scaleY=((s=l.scaleY)!==null&&s!==void 0?s:_e.scaleY)*e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(o),this}scaleTo(t,e){const r=this.attribute;if(r.scaleX===t&&r.scaleY===e)return this;const i={type:Oe.SCALE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e},this.attribute,jb,i);return s?(this._setAttributes(s,!1,i),this):(r.scaleX=t,r.scaleY=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}rotate(t,e){var r;if(t===0)return this;const i={type:Oe.ROTATE},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:t,rotateCenter:e},this.attribute,Nb,i);s&&(delete s.angle,this._setAttributes(s,!1,i));const o=this.attribute;if(e){let{postMatrix:a}=this.attribute;a||(a=new fe,o.postMatrix=a),Y.transformUtil.fromMatrix(a,a).rotate(t,e)}else o.angle=((r=o.angle)!==null&&r!==void 0?r:_e.angle)+t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this}rotateTo(t){const e=this.attribute;if(e.angle===t)return this;const r={type:Oe.ROTATE_TO},i=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,Nb,r);return i?(this._setAttributes(i,!1,r),this):(e.angle=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this)}skewTo(t,e){return this}animate(t){this.animates||(this.animates=new Map);const e=new vh(t==null?void 0:t.id,this.stage&&this.stage.getTimeline()).bind(this);if(t){const{onStart:r,onFrame:i,onEnd:s,onRemove:o}=t;r!=null&&e.onStart(r),i!=null&&e.onFrame(i),s!=null&&e.onEnd(s),o!=null&&e.onRemove(o),e.interpolateFunc=t.interpolate}return this.animates.set(e.id,e),e.onRemove(()=>{this.animates.delete(e.id)}),e}onAttributeUpdate(t){t&&t.skipUpdateCallback||(Y.graphicService.onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",t))}update(t){t?(t.bounds&&this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise"),t.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise"),this.tryUpdateLocalTransMatrix())}hasState(t){return!(!this.currentStates||!this.currentStates.length)&&(!!z(t)||this.currentStates.includes(t))}getState(t){var e;return(e=this.states)===null||e===void 0?void 0:e[t]}applyStateAttrs(t,e,r,i){var s,o,a,l;if(r){const u=Object.keys(t),c=this.getNoWorkAnimateAttr(),h={};let d;u.forEach(p=>{c[p]?(d||(d={}),d[p]=t[p]):h[p]=i&&t[p]===void 0?this.getDefaultAttribute(p):t[p]});const f=this.animate();f.stateNames=e,f.to(h,(o=(s=this.stateAnimateConfig)===null||s===void 0?void 0:s.duration)!==null&&o!==void 0?o:Cb.duration,(l=(a=this.stateAnimateConfig)===null||a===void 0?void 0:a.easing)!==null&&l!==void 0?l:Cb.easing),d&&this.setAttributes(d,!1,{type:Oe.STATE})}else this.stopStateAnimates(),this.setAttributes(t,!1,{type:Oe.STATE})}updateNormalAttrs(t){const e={};this.normalAttrs?(Object.keys(t).forEach(r=>{r in this.normalAttrs?(e[r]=this.normalAttrs[r],delete this.normalAttrs[r]):e[r]=this.getNormalAttribute(r)}),Object.keys(this.normalAttrs).forEach(r=>{t[r]=this.normalAttrs[r]})):Object.keys(t).forEach(r=>{e[r]=this.getNormalAttribute(r)}),this.normalAttrs=e}stopStateAnimates(t="end"){this.animates&&this.animates.forEach(e=>{e.stateNames&&e.stop(t)})}getNormalAttribute(t){let e=this.attribute[t];return this.animates&&this.animates.forEach(r=>{if(r.stateNames){const i=r.getEndProps();lr(i,t)&&(e=i[t])}}),e}clearStates(t){this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,t,!0)):this.currentStates=[],this.normalAttrs=null}removeState(t,e){if((this.currentStates?this.currentStates.indexOf(t):-1)>=0){const r=this.currentStates.filter(i=>i!==t);this.useStates(r,e)}}toggleState(t,e){if(this.hasState(t))this.removeState(t,e);else if((this.currentStates?this.currentStates.indexOf(t):-1)<0){const r=this.currentStates?this.currentStates.slice():[];r.push(t),this.useStates(r,e)}}addState(t,e,r){var i;if(this.currentStates&&this.currentStates.includes(t)&&(e||this.currentStates.length===1))return;const s=e&&(!((i=this.currentStates)===null||i===void 0)&&i.length)?this.currentStates.concat([t]):[t];this.useStates(s,r)}useStates(t,e){var r;if(!t.length)return void this.clearStates(e);if(!(((r=this.currentStates)===null||r===void 0?void 0:r.length)!==t.length||t.some((s,o)=>this.currentStates[o]!==s)))return;const i={};t.forEach(s=>{var o;const a=this.stateProxy?this.stateProxy(s,t):(o=this.states)===null||o===void 0?void 0:o[s];a&&Object.assign(i,a)}),this.updateNormalAttrs(i),this.currentStates=t,this.applyStateAttrs(i,t,e)}addUpdateBoundTag(){this._updateTag|=Rt.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=Rt.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=Rt.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&Rt.UPDATE_SHAPE_AND_BOUNDS)===Rt.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=Rt.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=Rt.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=Rt.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=Rt.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=Rt.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=Rt.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=Rt.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&Rt.UPDATE_LAYOUT)}getAnchor(t,e){const r=[0,0],i=()=>{if(e.b)return e.b;const{scaleX:s,scaleY:o,angle:a}=this.attribute;return Db.copy(this._AABBBounds),this.setAttributes({scaleX:1,scaleY:1,angle:0}),e.b=this.AABBBounds.clone(),this._AABBBounds.copy(Db),this.setAttributes({scaleX:s,scaleY:o,angle:a}),e.b};if(typeof t[0]=="string"){const s=parseFloat(t[0])/100,o=i();r[0]=o.x1+(o.x2-o.x1)*s}else r[0]=t[0];if(typeof t[1]=="string"){const s=parseFloat(t[1])/100,o=i();r[1]=o.y1+(o.y2-o.y1)*s}else r[1]=t[1];return r}doUpdateLocalMatrix(){const{x:t=_e.x,y:e=_e.y,scaleX:r=_e.scaleX,scaleY:i=_e.scaleY,angle:s=_e.angle,scaleCenter:o,anchor:a,postMatrix:l}=this.attribute;let u=[0,0];const c={};if(a&&(u=this.getAnchor(a,c)),!o||r===1&&i===1)h3(this._transMatrix,this._transMatrix.reset(),t,e,r,i,s,a&&u);else{const d=this._transMatrix;d.reset(),d.translate(u[0],u[1]),d.rotate(s),d.translate(-u[0],-u[1]),d.translate(t,e),u=this.getAnchor(o,c),Y.transformUtil.fromMatrix(d,d).scale(r,i,{x:u[0],y:u[1]})}const h=this.getOffsetXY(_e);if(this._transMatrix.e+=h.x,this._transMatrix.f+=h.y,l){const d=TF.setValue(l.a,l.b,l.c,l.d,l.e,l.f),f=this._transMatrix;d.multiply(f.a,f.b,f.c,f.d,f.e,f.f),f.setValue(d.a,d.b,d.c,d.d,d.e,d.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);const{scrollX:t=0,scrollY:e=0}=this.parent.attribute;this._globalTransMatrix.translate(t,e)}}setStage(t,e){if(this.stage!==t){if(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this.animates&&this.animates.size){const r=t.getTimeline();this.animates.forEach(i=>{i.setTimeline(r)})}this._onSetStage&&this._onSetStage(this,t,e),Y.graphicService.onSetStage(this,t)}}setStageToShadowRoot(t,e){this.shadowRoot&&this.shadowRoot.setStage(t,e)}onAddStep(t){}onStop(t){t&&this.setAttributes(t,!1,{type:Oe.ANIMATE_END})}onStep(t,e,r,i,s){const o={};if(r.customAnimate)r.customAnimate.update(s,i,o);else{const a=r.props,l=r.parsedProps,u=r.propKeys;this.stepInterpolate(t,e,o,r,i,s,a,void 0,l,u)}this.setAttributes(o,!1,{type:Oe.ANIMATE_UPDATE,animationState:{ratio:i,end:s,step:r,isFirstFrameOfStep:t.getLastStep()!==r}}),this.stage&&this.stage.renderNextFrame()}stepInterpolate(t,e,r,i,s,o,a,l,u,c){c||(c=Object.keys(a),i.propKeys=c),o?i.propKeys.forEach(h=>{e.validAttr(h)&&(r[h]=a[h])}):c.forEach(h=>{var d;if(!e.validAttr(h))return;const f=a[h],p=(d=l&&l[h])!==null&&d!==void 0?d:t.getLastPropByName(h,i);if(f==null||p==null)return void(r[h]=f);let g;g=e.interpolateFunc&&e.interpolateFunc(h,s,p,f,r),g||(g=e.customInterpolate(h,s,p,f,this,r),g||this.defaultInterpolate(f,p,h,r,u,s)||this._interpolate(h,s,p,f,r))}),i.parsedProps=u}defaultInterpolate(t,e,r,i,s,o){if(Number.isFinite(t))return i[r]=e+(t-e)*o,!0;if(r==="fill"){s||(s={});const a=s.fillColorArray,l=Oo(e,a??t,o,!1,(u,c)=>{s.fillColorArray=c});return l&&(i[r]=l),!0}if(r==="stroke"){s||(s={});const a=s.strokeColorArray,l=Oo(e,a??t,o,!1,(u,c)=>{s.strokeColorArray=c});return l&&(i[r]=l),!0}if(r==="shadowColor"){s||(s={});const a=s.shadowColorArray,l=Oo(e,a??t,o,!0,(u,c)=>{s.shadowColorArray=c});return l&&(i[r]=l),!0}return!1}_interpolate(t,e,r,i,s){}getDefaultAttribute(t){return Se(this)[this.type][t]}getComputedAttribute(t){var e;return(e=this.attribute[t])!==null&&e!==void 0?e:this.getDefaultAttribute(t)}onSetStage(t,e=!1){this._onSetStage=t,e&&this.stage&&t(this,this.stage)}attachShadow(t){return t&&(t.shadowHost=this),this.shadowRoot=t??Y.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map(t=>t.toJson())}}createPathProxy(t){return dt(t,!0)?this.pathProxy=new Xo().fromString(t):this.pathProxy=new Xo,this.pathProxy}loadImage(t,e=!1){if(!t||e&&AF(t))return;const r=t;this.resources||(this.resources=new Map);const i={data:"init",state:null};this.resources.set(r,i),typeof t=="string"?(i.state="loading",t.startsWith("<svg")?(Dt.GetSvg(t,this),this.backgroundImg=this.backgroundImg||e):(Vj(t)||t.includes("/")||Uj(t))&&(Dt.GetImage(t,this),this.backgroundImg=this.backgroundImg||e)):zt(t)?(i.state="success",i.data=t,this.backgroundImg=this.backgroundImg||e):i.state="fail"}imageLoadSuccess(t,e,r){if(!this.resources)return;const i=this.resources.get(t);i&&(i.state="success",i.data=e,r&&r(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(t,e){if(!this.resources)return;const r=this.resources.get(t);r&&(r.state="fail",e&&e())}_stopAnimates(t){t&&t.forEach(e=>{e.stop()})}stopAnimates(t=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&t&&this.forEachChildren(e=>{e.stopAnimates(t)})}release(){this.releaseStatus="released",Y.graphicService.onRelease(this)}_emitCustomEvent(t,e){var r,i;if(this._events&&t in this._events){const s=new mO(t,e);s.bubbles=!1,s.manager=(i=(r=this.stage)===null||r===void 0?void 0:r.eventSystem)===null||i===void 0?void 0:i.manager,this.dispatchEvent(s)}}}function AF(n){return!(!n.fill&&!n.stroke)}Zd.mixin(KN);var MF=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})};function PF(n){return MF(this,void 0,void 0,function*(){const t=[],e=n.getChildren();yield new Promise(r=>{Y.global.getRequestAnimationFrame()(()=>{r(null)})}),e.forEach(r=>{r.subLayers.size&&r.subLayers.forEach(i=>{i.drawContribution&&i.drawContribution.hooks&&i.drawContribution.rendering&&t.push(new Promise(s=>{i.drawContribution.hooks.completeDraw.tap("outWait",()=>{i.drawContribution.hooks.completeDraw.taps=i.drawContribution.hooks.completeDraw.taps.filter(o=>o.name!=="outWait"),s(null)})}))})}),yield Promise.all(t)})}function xc(n,t,e,r=0){return n.expand(t+(r/2+(e?IF(e,t):0))),n}function IF(n,t){return n?t:0}let RF=0;function nn(){return RF++}var Fb;(function(n){n[n.HORIZONTAL=0]="HORIZONTAL",n[n.VERTICAL=1]="VERTICAL"})(Fb||(Fb={}));const DF=["","","","","","","","","",""],BF=new Map;DF.forEach(n=>BF.set(n,!0));const LF=[""],jF=new Map;LF.forEach(n=>jF.set(n,!0));nn();const MO=nn(),PO=nn();nn();nn();const Iy=nn();nn();const IO=nn();nn();nn();nn();nn();nn();nn();nn();nn();const RO=Symbol.for("GraphicService"),DO=Symbol.for("GraphicCreator");var zb;(function(n){n[n.LESS_GROUP=0]="LESS_GROUP",n[n.MORE_GROUP=1]="MORE_GROUP"})(zb||(zb={}));class Fi extends Zd{constructor(t){super(t),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=Iy,this._childUpdateTag=Rt.UPDATE_BOUNDS}setMode(t){t==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(t){return this.theme||(this.theme=new Hl),this.theme.setTheme(t,this)}createTheme(){this.theme||(this.theme=new Hl)}hideAll(){this.setAttribute("visible",!1),this.forEachChildren(t=>{t.isContainer&&t.hideAll?t.hideAll():t.setAttribute("visible",!1)})}showAll(){this.setAttribute("visible",!0),this.forEachChildren(t=>{t.isContainer&&t.showAll?t.showAll():t.setAttribute("visible",!0)})}containsPoint(t,e,r){if(r===ch.GLOBAL){const i=new xe(t,e);return this.parent&&this.parent.globalTransMatrix.transformPoint(i,i),this.AABBBounds.contains(i.x,i.y)}return this.AABBBounds.contains(t,e)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&Rt.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;Y.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const t=this.shouldSelfChangeUpdateAABBBounds(),e=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),Y.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,t),e}doUpdateLocalMatrix(){const{x:t=_e.x,y:e=_e.y,dx:r=_e.dx,dy:i=_e.dy,scaleX:s=_e.scaleX,scaleY:o=_e.scaleY,angle:a=_e.angle,postMatrix:l}=this.attribute;if(t!==0||e!==0||r!==0||i!==0||s!==1||o!==1||a!==0||l)return super.doUpdateLocalMatrix();this._transMatrix.reset()}doUpdateAABBBounds(){const t=this.attribute,e=Se(this).group;this._AABBBounds.clear();const r=Y.graphicService.updateGroupAABBBounds(t,e,this._AABBBounds,this),{boundsPadding:i=e.boundsPadding}=t,s=tF(i);return s&&r.expand(s),this.parent&&this.parent.addChildUpdateBoundTag(),this.clearUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),r}clearUpdateBoundTag(){this._updateTag&=Rt.CLEAR_BOUNDS,this._childUpdateTag&=Rt.CLEAR_BOUNDS}tryUpdateOBBBounds(){throw new Error("")}addUpdateBoundTag(){this._updateTag|=Rt.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&Rt.UPDATE_BOUNDS||(this._childUpdateTag|=Rt.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(t){const e=super.appendChild(t);return this.stage&&e&&(e.stage=this.stage,e.layer=this.layer),this.addUpdateBoundTag(),Y.graphicService.onAddIncremental(t,this,this.stage),e}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),Y.graphicService.onClearIncremental(this,this.stage)}appendChild(t,e=!0){const r=super.appendChild(t);return e&&this.stage&&r&&r.setStage(this.stage,this.layer),this.addUpdateBoundTag(),r}insertBefore(t,e){const r=super.insertBefore(t,e);return this.stage&&r&&r.setStage(this.stage,this.layer),this.addUpdateBoundTag(),r}insertAfter(t,e){const r=super.insertAfter(t,e);return this.stage&&r&&r.setStage(this.stage,this.layer),this.addUpdateBoundTag(),r}insertInto(t,e){const r=super.insertInto(t,e);return this.stage&&r&&r.setStage(this.stage,this.layer),this.addUpdateBoundTag(),r}removeChild(t){const e=super.removeChild(t);return t.stage=null,Y.graphicService.onRemove(t),this.addUpdateBoundTag(),e}removeAllChild(t=!1){this.forEachChildren(e=>{Y.graphicService.onRemove(e),t&&e.isContainer&&e.removeAllChild(t)}),super.removeAllChild(),this.addUpdateBoundTag()}setStage(t,e){this.stage!==t&&(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this._onSetStage&&this._onSetStage(this,t,e),Y.graphicService.onSetStage(this,t),this.forEachChildren(r=>{r.setStage(t,this.layer)}))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren(t=>{t.isContainer&&t.addUpdateGlobalPositionTag()})}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren(t=>{t.isContainer&&t.addUpdateGlobalPositionTag()})}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){const e=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&Rt.UPDATE_GLOBAL_MATRIX)}_getChildByName(t,e){return this.find(r=>r.name===t,e)}createOrUpdateChild(t,e,r){let i=this._getChildByName(t);return i?i.setAttributes(e):(i=Y.graphicService.creator[r](e),i.name=t,this.add(i)),i}clone(){return new Fi(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Fi.NOWORK_ANIMATE_ATTR}}Fi.NOWORK_ANIMATE_ATTR=AO;function BO(n){return new Fi(n)}class NF extends Fi{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw new Error("")}get dpr(){return this._dpr}constructor(t,e,r,i){var s;super({}),this.stage=t,this.global=e,this.window=r,this.main=i.main,this.layerHandler=i.layerHandler,this.layerHandler.init(this,r,{main:i.main,canvasId:i.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:(s=i.zIndex)!==null&&s!==void 0?s:0}),this.layer=this,this.subLayers=new Map,this.theme=new Hl,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(t=!0){const e=Array.from(this.subLayers.values()).sort((r,i)=>r.zIndex-i.zIndex);this.layerHandler.merge(e.map(r=>(r.layer.subLayers.size&&r.layer.combineSubLayer(t),r.layer.getNativeHandler()))),t&&e.forEach(r=>{r.group&&(r.group.incremental=0)}),e.forEach(r=>{Y.layerService.releaseLayer(this.stage,r.layer)}),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(t,e){super.setStage(t,this)}pick(t,e){throw new Error("")}tryRenderSecondaryLayer(t,e){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach(r=>{r.layer.renderCount=this.renderCount,r.layer.render(t,e)})}render(t,e){var r;this.layerHandler.render([this],{renderService:t.renderService,stage:this.stage,layer:this,viewBox:t.viewBox,transMatrix:t.transMatrix,background:(r=t.background)!==null&&r!==void 0?r:this.background,updateBounds:t.updateBounds},e),this.afterDrawCbs.forEach(i=>i(this)),this.tryRenderSecondaryLayer(t,e)}resize(t,e){this.layerHandler.resize(t,e)}resizeView(t,e){this.layerHandler.resizeView(t,e)}setDpr(t){this.layerHandler.setDpr(t)}afterDraw(t){this.afterDrawCbs.push(t)}startAnimate(t){throw new Error("")}setToFrame(t){throw new Error("")}prepare(t,e){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach(t=>{Y.layerService.releaseLayer(this.stage,t.layer)})}drawTo(t,e){var r;this.layerHandler.drawTo(t,[this],Object.assign({background:(r=e.background)!==null&&r!==void 0?r:this.background,renderService:e.renderService,viewBox:e.viewBox,transMatrix:e.transMatrix,stage:this.stage,layer:this},e)),this.afterDrawCbs.forEach(i=>i(this))}}const LO=Symbol.for("TransformUtil"),jO=Symbol.for("GraphicUtil"),Ry=Symbol.for("LayerService"),NO=Symbol.for("StaticLayerHandlerContribution"),FO=Symbol.for("DynamicLayerHandlerContribution"),zO=Symbol.for("VirtualLayerHandlerContribution");var Ga,FF=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},zF=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Ha=Ga=class{static GenerateLayerId(){return`${Ga.idprefix}_${Ga.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=Y.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(n){return this.layerMap.get(n)}getRecommendedLayerType(n){return n||(this.staticLayerCountInEnv!==0?"static":this.dynamicLayerCountInEnv!==0?"dynamic":"virtual")}getLayerHandler(n){let t;return t=n==="static"?Ft.get(NO):n==="dynamic"?Ft.get(FO):Ft.get(zO),t}createLayer(n,t={main:!1}){var e;this.tryInit();let r=this.getRecommendedLayerType(t.layerMode);r=t.main||t.canvasId?"static":r;const i=this.getLayerHandler(r),s=new NF(n,this.global,n.window,Object.assign(Object.assign({main:!1},t),{layerMode:r,canvasId:(e=t.canvasId)!==null&&e!==void 0?e:Ga.GenerateLayerId(),layerHandler:i})),o=this.layerMap.get(n)||[];return o.push(s),this.layerMap.set(n,o),this.staticLayerCountInEnv--,s}prepareStageLayer(n){let t;n.forEachChildren(e=>{const r=e.getNativeHandler();r.type==="virtual"?(r.mainHandler=t,t.secondaryHandlers.push(r)):(t=r,t.secondaryHandlers=[])})}releaseLayer(n,t){t.release();const e=this.layerMap.get(n)||[];this.layerMap.set(n,e.filter(r=>r!==t))}layerCount(n){return(this.layerMap.get(n)||[]).length}restLayerCount(n){return this.global.env==="browser"?10:0}releaseStage(n){this.layerMap.delete(n)}};Ha.idprefix="visactor_layer",Ha.prefix_count=0,Ha=Ga=FF([St(),zF("design:paramtypes",[])],Ha);const $F=new en(n=>{n(Ey).to(om).inSingletonScope(),n(fh).to(pm),n(jO).to(gm).inSingletonScope(),n(LO).to(mm).inSingletonScope(),n(Ry).to(Ha).inSingletonScope()});function cu(n,t){return!(!n&&!t)}function Qd(n,t){let e;return e=ft(n)?n.some(r=>r||r===void 0):!!n,e&&t>0}function Jd(n,t,e){return e&&n*t>0}function GF(n,t,e,r,i){return i&&n*t>0&&e!==0&&r!==0}function Dy(n,t){return n*t>0}function HF(n,t,e,r){return n*t>0&&e!==0&&r!==0}function VF(n,t,e,r,i,s,o,a){if(!n.pathProxy)return!1;const l=Se(n,s==null?void 0:s.theme)[n.type.replace("3d","")],{fill:u=l.fill,stroke:c=l.stroke,opacity:h=l.opacity,fillOpacity:d=l.fillOpacity,lineWidth:f=l.lineWidth,strokeOpacity:p=l.strokeOpacity,visible:g=l.visible,x:_=l.x,y:m=l.y}=n.attribute,y=Jd(h,d,u),v=Dy(h,p),b=cu(u),x=Qd(c,f);if(!g||!b&&!x||!(y||v||o||a))return!0;t.beginPath();const w=typeof n.pathProxy=="function"?n.pathProxy(n.attribute):n.pathProxy;return Oy(w.commandList,t,e,r),t.setShadowBlendStyle&&t.setShadowBlendStyle(n,n.attribute,l),x&&v&&(t.setStrokeStyle(n,n.attribute,e-_,r-m,l),t.stroke()),b&&y&&(t.setCommonStyle(n,n.attribute,e-_,r-m,l),t.fill()),!0}class Hn{static GetCanvas(){try{return Hn.canvas||(Hn.canvas=Y.global.createCanvas({})),Hn.canvas}catch{return null}}static GetCtx(){if(!Hn.ctx){const t=Hn.GetCanvas();Hn.ctx=t.getContext("2d")}return Hn.ctx}}class es extends d3{static getInstance(){return es._instance||(es._instance=new es),es._instance}constructor(t=[],e=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;const r=Hn.GetCanvas(),i=Hn.GetCtx();if(r.width=e,r.height=1,!i)return;if(i.translate(0,0),!i)throw new Error("ctx");const s=i.createLinearGradient(0,0,e,0);t.forEach(o=>{s.addColorStop(o[0],o[1])}),i.fillStyle=s,i.fillRect(0,0,e,1),this.rgbaSet=i.getImageData(0,0,e,1).data}getColor(t){const e=this.rgbaSet.slice(4*t,4*t+4);return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]/255})`}GetOrCreate(t,e,r,i,s=[],o=100){let a=`${t}${e}${r}${i}`;s.forEach(u=>a+=u.join()),a+=o;let l=this.dataMap.get(a);return l||(l={data:new es(s,o),timestamp:[]},this.addLimitedTimestamp(l,Date.now(),{}),this.dataMap.set(a,l)),this.clearCache(this.dataMap,this.cacheParams),l.data}}class Ke{static GetSize(t){for(let e=0;e<Ke.ImageSize.length;e++)if(Ke.ImageSize[e]>=t)return Ke.ImageSize[e];return t}static Get(t,e,r,i,s,o,a){const l=Ke.GenKey(t,e,r,i,s),u=Ke.cache[l];if(!u||u.length===0)return null;for(let c=0;c<u.length;c++)if(u[c].width>=o&&u[c].height>=a)return u[c].pattern;return null}static Set(t,e,r,i,s,o,a,l){const u=Ke.GenKey(t,e,r,i,s);Ke.cache[u]?Ke.cache[u].push({width:a,height:l,pattern:o}):Ke.cache[u]=[{width:a,height:l,pattern:o}]}static GenKey(t,e,r,i,s){return`${e},${r},${i},${s},${t.join()}`}}Ke.cache={},Ke.ImageSize=[20,40,80,160,320,640,1280,2560];function UF(n,t,e,r,i,s,o,a,l){const u=Math.floor(180*i/Math.PI),c=Hn.GetCanvas(),h=Hn.GetCtx();if(!h)return null;const d=Ke.GetSize(a),f=Ke.GetSize(l);let p=Ke.Get(t,e,r,s,o,d,f);if(p)return p;const g=Math.sqrt(Math.max(Math.max(Math.pow(e,2)+Math.pow(r,2),Math.pow(d-e,2)+Math.pow(r,2)),Math.max(Math.pow(d-e,2)+Math.pow(f-r,2),Math.pow(e,2)+Math.pow(f-r,2)))),_=u+1,m=i/Math.max(1,_-1),y=es.getInstance().GetOrCreate(e,r,d,f,t,_),v=2*Math.PI*g/360;c.width=d,c.height=f,h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,d,f),h.translate(e,r),h.rotate(s);for(let x=0,w=_-1;x<w&&!(s+x*m>o);x++){const C=y.getColor(x);h.beginPath(),h.rotate(m),h.moveTo(0,0),h.lineTo(g,-2*v),h.lineTo(g,0),h.fillStyle=C,h.closePath(),h.fill()}const b=h.getImageData(0,0,d,f);return c.width=b.width,c.height=b.height,h.putImageData(b,0,0),p=n.createPattern(c,"no-repeat"),p&&Ke.Set(t,e,r,s,o,p,d,f),p}const WF=Symbol.for("AreaRenderContribution"),$O=Symbol.for("GroupRenderContribution"),GO=Symbol.for("InteractiveSubRenderContribution");function $b(n,t={},e){e||(e=1);const{fontStyle:r=t.fontStyle,fontVariant:i=t.fontVariant,fontWeight:s=t.fontWeight,fontSize:o=t.fontSize,fontFamily:a=t.fontFamily}=n;return(r?r+" ":"")+(i?i+" ":"")+(s?s+" ":"")+o*e+"px "+(a||"sans-serif")}function YF(n,t){return n==="end"||n==="right"?-t:n==="center"?-t/2:0}function XF(n,t,e,r=0){return n==="middle"?-t/2:n==="top"?0:n==="bottom"?r-t:n&&n!=="alphabetic"?0:(e||(e=t),-(t-e)/2-.79*e)}function KF(n){const t={};return["textAlign","fontFamily","fontVariant","fontStyle","fontWeight"].forEach(e=>{n[e]&&(t[ib(e)]=n[e])}),["fontSize","lineHeight"].forEach(e=>{const r=ib(e);z(n[e])||(t[r]=/^[0-9]*$/.test(`${n[e]}`)?`${n[e]}px`:`${n[e]}`)}),n.underline?t["text-decoration"]="underline":n.lineThrough&&(t["text-decoration"]="line-through"),n.fill&&dt(n.fill)&&(t.color=n.fill),t}class qF extends Fi{constructor(t){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=t}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){const e=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f):this._globalTransMatrix=e.clone(),this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){const t=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(t.a,t.b,t.c,t.d,t.e,t.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}}function ZF(n){return new qF(n)}class Va{updateBounds(t,e,r,i){const{outerBorder:s,shadowBlur:o=e.shadowBlur}=t;if(s){const a=e.outerBorder,{distance:l=a.distance,lineWidth:u=a.lineWidth}=s;r.expand(l+(o+u)/2)}return r}}class QF extends Va{updateBounds(t,e,r,i){const{outerBorder:s,shadowBlur:o=e.shadowBlur,strokeBoundsBuffer:a=e.strokeBoundsBuffer}=t;if(s){const l=e.outerBorder,{distance:u=l.distance,lineWidth:c=l.lineWidth}=s;xc(r,u+(o+c)/2,!0,a)}return r}}function Gb(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}class JF{constructor(){this.pools=[]}allocate(t,e,r,i,s,o){if(!this.pools.length)return new fe(t,e,r,i,s,o);const a=this.pools.pop();return a.a=t,a.b=e,a.c=r,a.d=i,a.e=s,a.f=o,a}allocateByObj(t){if(!this.pools.length)return new fe(t.a,t.b,t.c,t.d,t.e,t.f);const e=this.pools.pop();return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}class tf{constructor(){this.pools=[]}static identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}allocate(){if(!this.pools.length)return Gb();const t=this.pools.pop();return tf.identity(t),t}allocateByObj(t){let e;e=this.pools.length?this.pools.pop():Gb();for(let r=0;r<e.length;r++)e[r]=t[r];return e}free(t){t&&this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}const Sr=new JF,re=new tf;var t4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},e4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},n4=function(n,t){return function(e,r){t(e,r,n)}};function r4(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function i4(n,t,e){const r=Math.sin(e),i=Math.cos(e),s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11];return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[4]=s*i+u*r,n[5]=o*i+c*r,n[6]=a*i+h*r,n[7]=l*i+d*r,n[8]=u*i-s*r,n[9]=c*i-o*r,n[10]=h*i-a*r,n[11]=d*i-l*r,n}function s4(n,t,e){const r=Math.sin(e),i=Math.cos(e),s=t[0],o=t[1],a=t[2],l=t[3],u=t[8],c=t[9],h=t[10],d=t[11];return t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[0]=s*i-u*r,n[1]=o*i-c*r,n[2]=a*i-h*r,n[3]=l*i-d*r,n[8]=s*r+u*i,n[9]=o*r+c*i,n[10]=a*r+h*i,n[11]=l*r+d*i,n}function o4(n,t,e){const r=Math.sin(e),i=Math.cos(e),s=t[0],o=t[1],a=t[2],l=t[3],u=t[4],c=t[5],h=t[6],d=t[7];return t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n[0]=s*i+u*r,n[1]=o*i+c*r,n[2]=a*i+h*r,n[3]=l*i+d*r,n[4]=u*i-s*r,n[5]=c*i-o*r,n[6]=h*i-a*r,n[7]=d*i-l*r,n}function Aa(n,t,e){const r=e[0],i=e[1],s=e[2];let o,a,l,u,c,h,d,f,p,g,_,m;return t===n?(n[12]=t[0]*r+t[4]*i+t[8]*s+t[12],n[13]=t[1]*r+t[5]*i+t[9]*s+t[13],n[14]=t[2]*r+t[6]*i+t[10]*s+t[14],n[15]=t[3]*r+t[7]*i+t[11]*s+t[15]):(o=t[0],a=t[1],l=t[2],u=t[3],c=t[4],h=t[5],d=t[6],f=t[7],p=t[8],g=t[9],_=t[10],m=t[11],n[0]=o,n[1]=a,n[2]=l,n[3]=u,n[4]=c,n[5]=h,n[6]=d,n[7]=f,n[8]=p,n[9]=g,n[10]=_,n[11]=m,n[12]=o*r+c*i+p*s+t[12],n[13]=a*r+h*i+g*s+t[13],n[14]=l*r+d*i+_*s+t[14],n[15]=u*r+f*i+m*s+t[15]),n}function _m(n,t){n[0]=t.a,n[1]=t.b,n[2]=0,n[3]=0,n[4]=t.c,n[5]=t.d,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=t.e,n[13]=t.f,n[14]=0,n[15]=1}function a4(n,t,e){const r=e[0],i=e[1],s=e[2];return n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*i,n[6]=t[6]*i,n[7]=t[7]*i,n[8]=t[8]*s,n[9]=t[9]*s,n[10]=t[10]*s,n[11]=t[11]*s,n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function hu(n,t,e){const r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],_=t[13],m=t[14],y=t[15];let v=e[0],b=e[1],x=e[2],w=e[3];return n[0]=v*r+b*a+x*h+w*g,n[1]=v*i+b*l+x*d+w*_,n[2]=v*s+b*u+x*f+w*m,n[3]=v*o+b*c+x*p+w*y,v=e[4],b=e[5],x=e[6],w=e[7],n[4]=v*r+b*a+x*h+w*g,n[5]=v*i+b*l+x*d+w*_,n[6]=v*s+b*u+x*f+w*m,n[7]=v*o+b*c+x*p+w*y,v=e[8],b=e[9],x=e[10],w=e[11],n[8]=v*r+b*a+x*h+w*g,n[9]=v*i+b*l+x*d+w*_,n[10]=v*s+b*u+x*f+w*m,n[11]=v*o+b*c+x*p+w*y,v=e[12],b=e[13],x=e[14],w=e[15],n[12]=v*r+b*a+x*h+w*g,n[13]=v*i+b*l+x*d+w*_,n[14]=v*s+b*u+x*f+w*m,n[15]=v*o+b*c+x*p+w*y,n}function HO(n,t,e){var r;const{x:i=e.x,y:s=e.y,z:o=e.z,dx:a=e.dx,dy:l=e.dy,dz:u=e.dz,scaleX:c=e.scaleX,scaleY:h=e.scaleY,scaleZ:d=e.scaleZ,alpha:f=e.alpha,beta:p=e.beta,angle:g=e.angle,anchor3d:_=t.attribute.anchor,anchor:m}=t.attribute,y=[0,0,0];if(_){if(typeof _[0]=="string"){const v=parseFloat(_[0])/100,b=t.AABBBounds;y[0]=b.x1+(b.x2-b.x1)*v}else y[0]=_[0];if(typeof _[1]=="string"){const v=parseFloat(_[1])/100,b=t.AABBBounds;y[1]=b.x1+(b.x2-b.x1)*v}else y[1]=_[1];y[2]=(r=_[2])!==null&&r!==void 0?r:0}if(r4(n),Aa(n,n,[i+a,s+l,o+u]),Aa(n,n,[y[0],y[1],y[2]]),i4(n,n,p),s4(n,n,f),Aa(n,n,[-y[0],-y[1],y[2]]),a4(n,n,[c,h,d]),g){const v=re.allocate(),b=[0,0];if(m){if(typeof _[0]=="string"){const x=parseFloat(_[0])/100,w=t.AABBBounds;b[0]=w.x1+(w.x2-w.x1)*x}else b[0]=_[0];if(typeof _[1]=="string"){const x=parseFloat(_[1])/100,w=t.AABBBounds;b[1]=w.x1+(w.x2-w.x1)*x}else b[1]=_[1]}Aa(v,v,[b[0],b[1],0]),o4(v,v,g),Aa(v,v,[-b[0],-b[1],0]),hu(n,n,v)}}function l4(n){const{alpha:t,beta:e}=n.attribute;return t||e}let bm=class{constructor(n){this.creator=n,this.hooks={onAttributeUpdate:new En(["graphic"]),onSetStage:new En(["graphic","stage"]),onRemove:new En(["graphic"]),onRelease:new En(["graphic"]),onAddIncremental:new En(["graphic","group","stage"]),onClearIncremental:new En(["graphic","group","stage"]),beforeUpdateAABBBounds:new En(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new En(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"])},this.tempAABBBounds1=new je,this.tempAABBBounds2=new je,this._rectBoundsContribitions=[new Va],this._symbolBoundsContribitions=[new QF],this._circleBoundsContribitions=[new Va],this._arcBoundsContribitions=[new Va],this._pathBoundsContribitions=[new Va]}onAttributeUpdate(n){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(n)}onSetStage(n,t){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(n,t)}onRemove(n){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(n)}onRelease(n){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(n)}onAddIncremental(n,t,e){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(n,t,e)}onClearIncremental(n,t){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(n,t)}beforeUpdateAABBBounds(n,t,e,r){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(n,t,e,r)}afterUpdateAABBBounds(n,t,e,r,i){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(n,t,e,r,i)}updatePathProxyAABBBounds(n,t){const e=typeof t.pathProxy=="function"?t.pathProxy(t.attribute):t.pathProxy;if(!e)return!1;const r=new QE(n);return Oy(e.commandList,r,0,0),!0}updateRectAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;if(!this.updatePathProxyAABBBounds(e,r)){let{width:o,height:a}=n;const{x1:l,y1:u,x:c,y:h}=n;o=o??l-c,a=a??u-h,e.set(0,0,o||0,a||0)}const i=this.tempAABBBounds1,s=this.tempAABBBounds2;return i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2),this._rectBoundsContribitions.length&&this._rectBoundsContribitions.forEach(o=>{o.updateBounds(n,t,i,r),e.union(i),i.setValue(s.x1,s.y1,s.x2,s.y2)}),this.transformAABBBounds(n,e,t,!1,r),e}updateGroupAABBBounds(n,t,e,r){const i=e;e=e.clone();const{width:s,height:o,path:a,clip:l=t.clip}=n;a&&a.length?a.forEach(h=>{e.union(h.AABBBounds)}):s!=null&&o!=null&&e.set(0,0,Math.max(0,s),Math.max(0,o)),l||r.forEachChildren(h=>{e.union(h.AABBBounds)});const u=this.tempAABBBounds1,c=this.tempAABBBounds2;return u.setValue(e.x1,e.y1,e.x2,e.y2),c.setValue(e.x1,e.y1,e.x2,e.y2),this.transformAABBBounds(n,e,t,!1,r),i.copy(e),i}updateGlyphAABBBounds(n,t,e,r){return this._validCheck(n,t,e,r)&&r.getSubGraphic().forEach(i=>{e.union(i.AABBBounds)}),e}updateHTMLTextAABBBounds(n,t,e,r){const{textAlign:i,textBaseline:s}=n;if(n.forceBoundsHeight!=null){const o=Tt(n.forceBoundsHeight)?n.forceBoundsHeight:n.forceBoundsHeight(),a=XF(s,o,o);e.set(e.x1,a,e.x2,a+o)}if(n.forceBoundsWidth!=null){const o=Tt(n.forceBoundsWidth)?n.forceBoundsWidth:n.forceBoundsWidth(),a=YF(i,o);e.set(a,e.y1,a+o,e.y2)}}updateRichTextAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r)||!r)return e;const{width:i=t.width,height:s=t.height,maxWidth:o=t.maxWidth,maxHeight:a=t.maxHeight,textAlign:l=t.textAlign,textBaseline:u=t.textBaseline}=n;if(i>0&&s>0)e.set(0,0,i,s);else{const p=r.getFrameCache(),{width:g,height:_}=p.getActualSize();let m=i||g||0,y=s||_||0;y=typeof a=="number"&&y>a?a:y||0,m=typeof o=="number"&&m>o?o:m||0,e.set(0,0,m,y)}let c=0;switch(u){case"top":c=0;break;case"middle":c=-e.height()/2;break;case"bottom":c=-e.height()}let h=0;switch(l){case"left":h=0;break;case"center":h=-e.width()/2;break;case"right":h=-e.width()}e.translate(h,c);const d=this.tempAABBBounds1,f=this.tempAABBBounds2;return d.setValue(e.x1,e.y1,e.x2,e.y2),f.setValue(e.x1,e.y1,e.x2,e.y2),n.forceBoundsHeight==null&&n.forceBoundsWidth==null||this.updateHTMLTextAABBBounds(n,t,e),this.transformAABBBounds(n,e,t,!1,r),e}updateTextAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r)||!r)return e;const{text:i=t.text}=r.attribute;Array.isArray(i)?r.updateMultilineAABBBounds(i):r.updateSingallineAABBBounds(i);const s=this.tempAABBBounds1,o=this.tempAABBBounds2;s.setValue(e.x1,e.y1,e.x2,e.y2),o.setValue(e.x1,e.y1,e.x2,e.y2);const{scaleX:a=t.scaleX,scaleY:l=t.scaleY,shadowBlur:u=t.shadowBlur,strokeBoundsBuffer:c=t.strokeBoundsBuffer}=n;if(u){const h=u/Math.abs(a+l);xc(s,h,!0,c),e.union(s)}return this.combindShadowAABBBounds(e,r),n.forceBoundsHeight==null&&n.forceBoundsWidth==null||this.updateHTMLTextAABBBounds(n,t,e),rm(e,e,r.transMatrix),e}updatePathAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;this.updatePathProxyAABBBounds(e,r)||this.updatePathAABBBoundsImprecise(n,t,e,r);const i=this.tempAABBBounds1,s=this.tempAABBBounds2;i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2),this._pathBoundsContribitions.length&&this._pathBoundsContribitions.forEach(a=>{a.updateBounds(n,t,i,r),e.union(i),i.setValue(s.x1,s.y1,s.x2,s.y2)});const{lineJoin:o=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,o==="miter",r),e}updatePathAABBBoundsImprecise(n,t,e,r){if(!r)return e;const i=r.getParsedPathShape();return e.union(i.getBounds()),e}updatePyramid3dAABBBounds(n,t,e,r){if(!r)return e;const i=r.stage;if(!i||!i.camera)return e;r.findFace().vertices.forEach(a=>{const l=a[0],u=a[1];e.add(l,u)});const s=this.tempAABBBounds1,o=this.tempAABBBounds2;return s.setValue(e.x1,e.y1,e.x2,e.y2),o.setValue(e.x1,e.y1,e.x2,e.y2),this.transformAABBBounds(n,e,t,!1,r),e}updateArc3dAABBBounds(n,t,e,r){if(!r)return e;const i=r.stage;if(!i||!i.camera)return e;const{outerRadius:s=t.outerRadius,height:o=0}=n,a=s+o;e.setValue(-a,-a,a,a);const l=this.tempAABBBounds1,u=this.tempAABBBounds2;return l.setValue(e.x1,e.y1,e.x2,e.y2),u.setValue(e.x1,e.y1,e.x2,e.y2),this.transformAABBBounds(n,e,t,!1,r),e}updatePolygonAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;this.updatePathProxyAABBBounds(e,r)||this.updatePolygonAABBBoundsImprecise(n,t,e,r);const i=this.tempAABBBounds1,s=this.tempAABBBounds2;i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2);const{lineJoin:o=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,o==="miter",r),e}updatePolygonAABBBoundsImprecise(n,t,e,r){const{points:i=t.points}=n;return i.forEach(s=>{e.add(s.x,s.y)}),e}updateLineAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;this.updatePathProxyAABBBounds(e,r)||(n.segments?this.updateLineAABBBoundsBySegments(n,t,e,r):this.updateLineAABBBoundsByPoints(n,t,e,r));const i=this.tempAABBBounds1,s=this.tempAABBBounds2;i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2);const{lineJoin:o=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,o==="miter",r),e}updateLineAABBBoundsByPoints(n,t,e,r){const{points:i=t.points}=n,s=e;return i.forEach(o=>{s.add(o.x,o.y)}),s}updateLineAABBBoundsBySegments(n,t,e,r){const{segments:i=t.segments}=n,s=e;return i.forEach(o=>{o.points.forEach(a=>{s.add(a.x,a.y)})}),s}updateAreaAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;this.updatePathProxyAABBBounds(e,r)||(n.segments?this.updateAreaAABBBoundsBySegments(n,t,e,r):this.updateAreaAABBBoundsByPoints(n,t,e,r));const i=this.tempAABBBounds1,s=this.tempAABBBounds2;i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2);const{lineJoin:o=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,o==="miter",r),e}updateAreaAABBBoundsByPoints(n,t,e,r){const{points:i=t.points}=n,s=e;return i.forEach(o=>{var a,l;s.add(o.x,o.y),s.add((a=o.x1)!==null&&a!==void 0?a:o.x,(l=o.y1)!==null&&l!==void 0?l:o.y)}),s}updateAreaAABBBoundsBySegments(n,t,e,r){const{segments:i=t.segments}=n,s=e;return i.forEach(o=>{o.points.forEach(a=>{var l,u;s.add(a.x,a.y),s.add((l=a.x1)!==null&&l!==void 0?l:a.x,(u=a.y1)!==null&&u!==void 0?u:a.y)})}),s}updateCircleAABBBounds(n,t,e,r,i){if(!this._validCheck(n,t,e,i))return e;this.updatePathProxyAABBBounds(e,i)||(r?this.updateCircleAABBBoundsImprecise(n,t,e,i):this.updateCircleAABBBoundsAccurate(n,t,e,i));const s=this.tempAABBBounds1,o=this.tempAABBBounds2;return s.setValue(e.x1,e.y1,e.x2,e.y2),o.setValue(e.x1,e.y1,e.x2,e.y2),this._circleBoundsContribitions.length&&this._circleBoundsContribitions.forEach(a=>{a.updateBounds(n,t,s,i),e.union(s),s.setValue(o.x1,o.y1,o.x2,o.y2)}),this.transformAABBBounds(n,e,t,!1,i),e}updateCircleAABBBoundsImprecise(n,t,e,r){const{radius:i=t.radius}=n;return e.set(-i,-i,i,i),e}updateCircleAABBBoundsAccurate(n,t,e,r){const{startAngle:i=t.startAngle,endAngle:s=t.endAngle,radius:o=t.radius}=n;return s-i>Vt-Co?e.set(-o,-o,o,o):_p(i,s,o,e),e}updateArcAABBBounds(n,t,e,r,i){if(!this._validCheck(n,t,e,i))return e;this.updatePathProxyAABBBounds(e,i)||(r?this.updateArcAABBBoundsImprecise(n,t,e,i):this.updateArcAABBBoundsAccurate(n,t,e,i));const s=this.tempAABBBounds1,o=this.tempAABBBounds2;s.setValue(e.x1,e.y1,e.x2,e.y2),o.setValue(e.x1,e.y1,e.x2,e.y2),this._arcBoundsContribitions.length&&this._arcBoundsContribitions.forEach(l=>{l.updateBounds(n,t,s,i),e.union(s),s.setValue(o.x1,o.y1,o.x2,o.y2)});const{lineJoin:a=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,a==="miter",i),e}updateArcAABBBoundsImprecise(n,t,e,r){let{outerRadius:i=t.outerRadius,innerRadius:s=t.innerRadius}=n;const{outerPadding:o=t.outerPadding,innerPadding:a=t.innerPadding}=n;return i+=o,s-=a,i<s&&(i=s),e.set(-i,-i,i,i),e}updateArcAABBBoundsAccurate(n,t,e,r){let{outerRadius:i=t.outerRadius,innerRadius:s=t.innerRadius}=n;const{outerPadding:o=t.outerPadding,innerPadding:a=t.innerPadding}=n;if(i+=o,s-=a,i<s){const c=i;i=s,s=c}let{endAngle:l=t.endAngle,startAngle:u=t.startAngle}=n;if(u>l){const c=u;u=l,l=c}return i<=Co?e.set(0,0,0,0):Math.abs(l-u)>Vt-Co?e.set(-i,-i,i,i):(_p(u,l,i,e),_p(u,l,s,e)),e}updateSymbolAABBBounds(n,t,e,r,i){if(!this._validCheck(n,t,e,i))return e;this.updatePathProxyAABBBounds(e,i)||(r?this.updateSymbolAABBBoundsImprecise(n,t,e,i):this.updateSymbolAABBBoundsAccurate(n,t,e,i));const s=this.tempAABBBounds1,o=this.tempAABBBounds2;s.setValue(e.x1,e.y1,e.x2,e.y2),o.setValue(e.x1,e.y1,e.x2,e.y2),this._symbolBoundsContribitions.length&&this._symbolBoundsContribitions.forEach(l=>{l.updateBounds(n,t,s,i),e.union(s),s.setValue(o.x1,o.y1,o.x2,o.y2)});const{lineJoin:a=t.lineJoin}=n;return this.transformAABBBounds(n,e,t,a==="miter",i),e}updateSymbolAABBBoundsImprecise(n,t,e,r){const{size:i=t.size}=n;if(ft(i))e.set(-i[0]/2,-i[1]/2,i[0]/2,i[1]/2);else{const s=i/2;e.set(-s,-s,s,s)}return e}updateSymbolAABBBoundsAccurate(n,t,e,r){if(!r)return e;const{size:i=t.size}=n;return r.getParsedPath().bounds(i,e),e}updateImageAABBBounds(n,t,e,r){if(!this._validCheck(n,t,e,r))return e;if(!this.updatePathProxyAABBBounds(e,r)){const{width:o=t.width,height:a=t.height}=n;e.set(0,0,o,a)}const i=this.tempAABBBounds1,s=this.tempAABBBounds2;return i.setValue(e.x1,e.y1,e.x2,e.y2),s.setValue(e.x1,e.y1,e.x2,e.y2),this.transformAABBBounds(n,e,t,!1,r),e}combindShadowAABBBounds(n,t){if(t&&t.shadowRoot){const e=t.shadowRoot.AABBBounds;n.union(e)}}transformAABBBounds(n,t,e,r,i){if(!t.empty()){const{scaleX:a=e.scaleX,scaleY:l=e.scaleY,stroke:u=e.stroke,shadowBlur:c=e.shadowBlur,lineWidth:h=e.lineWidth,pickStrokeBuffer:d=e.pickStrokeBuffer,strokeBoundsBuffer:f=e.strokeBoundsBuffer}=n,p=this.tempAABBBounds1,g=this.tempAABBBounds2;if(u&&h){const _=(h+d)/Math.abs(a+l);xc(p,_,r,f),t.union(p),p.setValue(g.x1,g.y1,g.x2,g.y2)}if(c){const{shadowOffsetX:_=e.shadowOffsetX,shadowOffsetY:m=e.shadowOffsetY}=n,y=c/Math.abs(a+l)*2;xc(p,y,!1,f+1),p.translate(_,m),t.union(p)}}if(this.combindShadowAABBBounds(t,i),t.empty())return;let s=!0;const o=i.transMatrix;i&&i.isContainer&&(s=!(o.a===1&&o.b===0&&o.c===0&&o.d===1&&o.e===0&&o.f===0)),s&&rm(t,t,o)}_validCheck(n,t,e,r){if(!r||n.forceBoundsHeight!=null||n.forceBoundsWidth!=null)return!0;if(!r.valid)return e.clear(),!1;const{visible:i=t.visible}=n;return!!i||(e.clear(),!1)}};bm=t4([St(),n4(0,Ne(DO)),e4("design:paramtypes",[Object])],bm);class u4{constructor(){this.store=new Map}RegisterGraphicCreator(t,e){this.store.set(t,e),this[t]=e}CreateGraphic(t,e){const r=this.store.get(t);return r?r(e):null}}const du=new u4;let Qu;function c4(n){return Qu||(Qu=du.CreateGraphic("text",{})),Qu.initAttributes(n),Qu.AABBBounds}const oe={x:0,y:0,z:0,lastModelMatrix:null};class VO{init(t){t&&(this._renderContribitions=t.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions&&this.builtinContributions.forEach(e=>this._renderContribitions.push(e)),this._renderContribitions.length&&(this._renderContribitions.sort((e,r)=>r.order-e.order),this._beforeRenderContribitions=this._renderContribitions.filter(e=>e.time===pr.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(e=>e.time===pr.afterFillStroke))}beforeRenderStep(t,e,r,i,s,o,a,l,u,c,h,d,f){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(p=>{p.supportedAppName&&t.stage&&t.stage.params&&t.stage.params.context&&t.stage.params.context.appName&&!(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(t.stage.params.context.appName)||p.drawShape(t,e,r,i,s,o,a,l,u,c,h,d,f)})}afterRenderStep(t,e,r,i,s,o,a,l,u,c,h,d,f){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(p=>{p.supportedAppName&&t.stage&&t.stage.params&&t.stage.params.context&&t.stage.params.context.appName&&!(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(t.stage.params.context.appName)||p.drawShape(t,e,r,i,s,o,a,l,u,c,h,d,f)})}valid(t,e,r,i){const{fill:s=e.fill,background:o,stroke:a=e.stroke,opacity:l=e.opacity,fillOpacity:u=e.fillOpacity,lineWidth:c=e.lineWidth,strokeOpacity:h=e.strokeOpacity,visible:d=e.visible}=t.attribute,f=Jd(l,u,s),p=Dy(l,h),g=cu(s,o),_=Qd(a,c);return!(!t.valid||!d)&&!(!g&&!_)&&!!(f||p||r||i||o)&&{fVisible:f,sVisible:p,doFill:g,doStroke:_}}transform(t,e,r,i=!1){const{x:s=e.x,y:o=e.y,z:a=e.z,scaleX:l=e.scaleX,scaleY:u=e.scaleY,angle:c=e.angle,postMatrix:h}=t.attribute,d=r.modelMatrix,f=r.camera;oe.x=s,oe.y=o,oe.z=a,oe.lastModelMatrix=d;const p=f&&(i||l4(t)),g=p?t.transMatrix.onlyTranslate()&&!h:l===1&&u===1&&c===0&&!h;if(p){const _=re.allocate(),m=re.allocate();HO(m,t,e),hu(_,d||_,m),oe.x=0,oe.y=0,oe.z=0,r.modelMatrix=_,r.setTransform(1,0,0,1,0,0,!0),re.free(m)}if(g&&!d){const _=t.getOffsetXY(e);oe.x+=_.x,oe.y+=_.y,oe.z=a,r.setTransformForCurrent()}else if(p)oe.x=0,oe.y=0,oe.z=0,r.setTransform(1,0,0,1,0,0,!0);else if(f&&r.project){const _=t.getOffsetXY(e);oe.x+=_.x,oe.y+=_.y,this.transformWithoutTranslate(r,oe.x,oe.y,oe.z,l,u,c)}else r.transformFromMatrix(t.transMatrix,!0),oe.x=0,oe.y=0,oe.z=0;return oe}transformUseContext2d(t,e,r,i){const s=i.camera;if(this.camera=s,s){const o=t.AABBBounds,a=o.x2-o.x1,l=o.y2-o.y1,u=i.project(0,0,r),c=i.project(a,0,r),h=i.project(a,l,r),d={x:0,y:0},f={x:a,y:0},p={x:a,y:l};i.camera=null;const g=1/(d.x*(p.y-f.y)-f.x*p.y+p.x*f.y+(f.x-p.x)*d.y),_=-(d.y*(h.x-c.x)-f.y*h.x+p.y*c.x+(f.y-p.y)*u.x)*g,m=(f.y*h.y+d.y*(c.y-h.y)-p.y*c.y+(p.y-f.y)*u.y)*g,y=(d.x*(h.x-c.x)-f.x*h.x+p.x*c.x+(f.x-p.x)*u.x)*g,v=-(f.x*h.y+d.x*(c.y-h.y)-p.x*c.y+(p.x-f.x)*u.y)*g,b=(d.x*(p.y*c.x-f.y*h.x)+d.y*(f.x*h.x-p.x*c.x)+(p.x*f.y-f.x*p.y)*u.x)*g,x=(d.x*(p.y*c.y-f.y*h.y)+d.y*(f.x*h.y-p.x*c.y)+(p.x*f.y-f.x*p.y)*u.y)*g;i.setTransform(_,m,y,v,b,x,!0)}}restoreTransformUseContext2d(t,e,r,i){this.camera&&(i.camera=this.camera)}transformWithoutTranslate(t,e,r,i,s,o,a){const l=t.project(e,r,i);t.translate(l.x,l.y,!1),t.scale(s,o,!1),t.rotate(a,!1),t.translate(-l.x,-l.y,!1),t.setTransformForCurrent()}_draw(t,e,r,i,s){const{context:o}=i;if(!o)return;const{renderable:a}=t.attribute;if(a===!1)return;o.highPerformanceSave();const l=this.transform(t,e,o,r),{x:u,y:c,z:h,lastModelMatrix:d}=l;this.z=h,VF(t,o,u,c,i,s)||(this.drawShape(t,o,u,c,i,s),this.z=0,o.modelMatrix!==d&&re.free(o.modelMatrix),o.modelMatrix=d),o.highPerformanceRestore()}}const h4=function(){const n={linearGradient:/^(linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,fromAngleValue:/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/(^\#[0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,rgbaColor:/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/};let t="";function e(b){const x=new Error(t+": "+b);throw x.source=t,x}function r(){const b=f(i);return t.length>0&&e("Invalid input not EOF"),b}function i(){return s("linear",n.linearGradient,o)||s("radial",n.radialGradient,l)||s("conic",n.conicGradient,a)}function s(b,x,w){return function(C,S){const k=y(C);if(k){y(n.startCall)||e("Missing (");const O=S(k);return y(n.endCall)||e("Missing )"),O}}(x,function(C){const S=w();return S&&(y(n.comma)||e("Missing comma before color stops")),{type:b,orientation:S,colorStops:f(p)}})}function o(){return m("directional",n.sideOrCorner,1)||m("angular",n.angleValue,1)}function a(){return m("angular",n.fromAngleValue,1)}function l(){let b,x,w=u();return w&&(b=[],b.push(w),x=t,y(n.comma)&&(w=u(),w?b.push(w):t=x)),b}function u(){let b=function(){const x=m("shape",/^(circle)/i,0);return x&&(x.style=_()||c()),x}()||function(){const x=m("shape",/^(ellipse)/i,0);return x&&(x.style=g()||c()),x}();if(b)b.at=h();else{const x=c();if(x){b=x;const w=h();w&&(b.at=w)}else{const w=d();w&&(b={type:"default-radial",at:w})}}return b}function c(){return m("extent-keyword",n.extentKeywords,1)}function h(){if(m("position",/^at/,0)){const b=d();return b||e("Missing positioning value"),b}}function d(){const b={x:g(),y:g()};if(b.x||b.y)return{type:"position",value:b}}function f(b){let x=b();const w=[];if(x)for(w.push(x);y(n.comma);)x=b(),x?w.push(x):e("One extra comma");return w}function p(){const b=m("hex",n.hexColor,1)||m("rgba",n.rgbaColor,1)||m("rgb",n.rgbColor,1)||m("literal",n.literalColor,0);return b||e("Expected color definition"),b.length=g(),b}function g(){return m("%",n.percentageValue,1)||m("position-keyword",n.positionKeywords,1)||_()}function _(){return m("px",n.pixelValue,1)||m("em",n.emValue,1)}function m(b,x,w){const C=y(x);if(C)return{type:b,value:C[w]}}function y(b){const x=/^[\n\r\t\s]+/.exec(t);x&&v(x[0].length);const w=b.exec(t);return w&&v(w[0].length),w}function v(b){t=t.substr(b)}return function(b){return t=b.toString(),r()}}();class ho{static IsGradient(t){return!(typeof t=="string"&&!t.includes("gradient"))}static IsGradientStr(t){return typeof t=="string"&&t.includes("gradient")}static Parse(t){if(ho.IsGradientStr(t))try{const e=h4(t)[0];if(e){if(e.type==="linear")return ho.ParseLinear(e);if(e.type==="radial")return ho.ParseRadial(e);if(e.type==="conic")return ho.ParseConic(e)}}catch{return t}return t}static ParseConic(t){const{orientation:e,colorStops:r=[]}=t,i=ke/2,s=parseFloat(e.value)/180*ke-i;return{gradient:"conical",x:.5,y:.5,startAngle:s,endAngle:s+Vt,stops:r.map(o=>({color:o.value,offset:parseFloat(o.length.value)/100}))}}static ParseRadial(t){const{colorStops:e=[]}=t;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:e.map(r=>({color:r.value,offset:parseFloat(r.length.value)/100}))}}static ParseLinear(t){const{orientation:e,colorStops:r=[]}=t,i=ke/2;let s=e.type==="angular"?parseFloat(e.value)/180*ke:0;for(;s<0;)s+=Vt;for(;s>Vt;)s-=Vt;let o=0,a=0,l=0,u=0;return s<i?(o=0,a=1,l=Math.sin(s),u=Math.cos(s)):s<ke?(o=0,a=0,l=Math.cos(s-i),u=Math.sin(s-i)):s<ke+i?(o=1,a=0,l=o-Math.sin(s-ke),u=Math.cos(s-ke)):(o=1,l=o-Math.cos(s-i-ke),u-=Math.sin(s-i-ke)),{gradient:"linear",x0:o,y0:a,x1:l,y1:u,stops:r.map(c=>({color:c.value,offset:parseFloat(c.length.value)/100}))}}}function d4(n,t,e){let r=t;const{a:i,b:s,c:o,d:a}=n.currentMatrix,l=Math.sign(i)*Math.sqrt(i*i+s*s),u=Math.sign(a)*Math.sqrt(o*o+a*a);return l+u===0?0:(r=r/Math.abs(l+u)*2*e,r)}function wm(n,t,e,r,i){if(!t||t===!0)return"black";let s,o;if(ft(t))for(let a=0;a<t.length&&(o=t[a],!o);a++);else o=t;return o=ho.Parse(o),typeof o=="string"?o:(o.gradient==="linear"?s=f4(n,o,e,r,i):o.gradient==="conical"?s=g4(n,o,e,r,i):o.gradient==="radial"&&(s=p4(n,o,e,r,i)),s||"orange")}function f4(n,t,e,r=0,i=0){var s,o,a,l;const u=e.AABBBounds;if(!u)return;let c=u.x2-u.x1,h=u.y2-u.y1,d=u.x1-r,f=u.y1-i;if(e.attribute){const{scaleX:g=1,scaleY:_=1}=e.attribute;if(g*_==0)return;c/=g,h/=_,d/=g,f/=_}const p=n.createLinearGradient(d+((s=t.x0)!==null&&s!==void 0?s:0)*c,f+((o=t.y0)!==null&&o!==void 0?o:0)*h,d+((a=t.x1)!==null&&a!==void 0?a:1)*c,f+((l=t.y1)!==null&&l!==void 0?l:0)*h);return t.stops.forEach(g=>{p.addColorStop(g.offset,g.color)}),p}function p4(n,t,e,r=0,i=0){var s,o,a,l,u,c;const h=e.AABBBounds;if(!h)return;let d=h.x2-h.x1,f=h.y2-h.y1,p=h.x1-r,g=h.y1-i;if(e.attribute){const{scaleX:m=1,scaleY:y=1}=e.attribute;if(m*y==0)return;p/=m,g/=y,d/=m,f/=y}const _=n.createRadialGradient(p+((s=t.x0)!==null&&s!==void 0?s:.5)*d,g+((o=t.y0)!==null&&o!==void 0?o:.5)*f,Math.max(d,f)*((a=t.r0)!==null&&a!==void 0?a:0),p+((l=t.x1)!==null&&l!==void 0?l:.5)*d,g+((u=t.y1)!==null&&u!==void 0?u:.5)*f,Math.max(d,f)*((c=t.r1)!==null&&c!==void 0?c:.5));return t.stops.forEach(m=>{_.addColorStop(m.offset,m.color)}),_}function g4(n,t,e,r=0,i=0){var s,o;const a=e.AABBBounds;if(!a)return;let l=a.x2-a.x1,u=a.y2-a.y1,c=a.x1-r,h=a.y1-i;if(e.attribute){const{scaleX:f=1,scaleY:p=1}=e.attribute;if(f*p==0)return;l/=f,u/=p,c/=f,h/=p}const d=n.createConicGradient(c+((s=t.x)!==null&&s!==void 0?s:0)*l,h+((o=t.y)!==null&&o!==void 0?o:0)*u,t.startAngle,t.endAngle);return t.stops.forEach(f=>{d.addColorStop(f.offset,f.color)}),d.GetPattern(l+c,u+h,void 0)}var m4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},v4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Hb=function(n,t){return function(e,r){t(e,r,n)}};class By{constructor(){this.time=pr.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,r,i,s,o,a,l,u,c,h,d,f){var p;const{background:g,backgroundOpacity:_=(p=t.attribute.fillOpacity)!==null&&p!==void 0?p:u.backgroundOpacity,opacity:m=u.opacity,backgroundMode:y=u.backgroundMode,backgroundFit:v=u.backgroundFit}=t.attribute;if(g)if(t.backgroundImg&&t.resources){const b=t.resources.get(g);if(b.state!=="success"||!b.data)return;if(e.save(),t.parent&&!t.transMatrix.onlyTranslate()){const w=Se(t.parent).group,{scrollX:C=w.scrollX,scrollY:S=w.scrollY}=t.parent.attribute;e.setTransformFromMatrix(t.parent.globalTransMatrix,!0),e.translate(C,S)}e.clip();const x=t.AABBBounds;e.setCommonStyle(t,t.attribute,r,i,u),e.globalAlpha=_*m,this.doDrawImage(e,b.data,x,y,v),e.restore(),t.transMatrix.onlyTranslate()||e.setTransformForCurrent()}else e.highPerformanceSave(),e.setCommonStyle(t,t.attribute,r,i,u),e.globalAlpha=_*m,e.fillStyle=g,e.fill(),e.highPerformanceRestore()}doDrawImage(t,e,r,i,s){if(i==="no-repeat")t.drawImage(e,r.x1,r.y1,r.width(),r.height());else{const o=r.width(),a=r.height();let l=o,u=a;if(s&&i!=="repeat"&&(e.width||e.height)){const d=e.width,f=e.height;i==="repeat-x"?(l=d*(a/f),u=a):i==="repeat-y"&&(u=f*(o/d),l=o);const p=t.dpr,g=Ko.allocate({width:l,height:u,dpr:p}),_=g.getContext("2d");_&&(_.inuse=!0,_.clearMatrix(),_.setTransformForCurrent(!0),_.clearRect(0,0,l,u),_.drawImage(e,0,0,l,u),e=g.nativeCanvas),Ko.free(g)}const c=t.dpr,h=t.createPattern(e,i);h.setTransform&&h.setTransform(new DOMMatrix([1/c,0,0,1/c,0,0])),t.fillStyle=h,t.translate(r.x1,r.y1),t.fillRect(0,0,o,a),t.translate(-r.x1,-r.y1)}}}const y4=new By;let xm=class{constructor(n){this.subRenderContribitions=n,this.time=pr.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(n,t,e,r,i,s,o,a,l,u,c,h,d){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(f=>{f.render(n,t,e,r,i,s,o,a,l,u,c,h,d)})}};xm=m4([St(),Hb(0,Ne(Bn)),Hb(0,fr(GO)),v4("design:paramtypes",[Object])],xm);class Ly{constructor(){this.time=pr.afterFillStroke,this.useStyle=!0,this.order=10}createCommonPattern(t,e,r,i,s){const o=(t-2*e)/2,a=i.dpr,l=Ko.allocate({width:t,height:t,dpr:a}),u=l.getContext("2d");if(!u)return null;u.inuse=!0,u.clearMatrix(),u.setTransformForCurrent(!0),u.clearRect(0,0,t,t),s(o,u);const c=i.createPattern(l.nativeCanvas,"repeat");return c.setTransform&&c.setTransform(new DOMMatrix([1/a,0,0,1/a,0,0])),Ko.free(l),c}createCirclePattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{o.fillStyle=r,o.arc(s,s,s,0,Vt),o.fill()})}createDiamondPattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{const a=t/2,l=a;o.fillStyle=r,o.moveTo(a,l-s),o.lineTo(s+a,l),o.lineTo(a,l+s),o.lineTo(a-s,l),o.closePath(),o.fill()})}createRectPattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{const a=e,l=a;o.fillStyle=r,o.fillRect(a,l,2*s,2*s)})}createVerticalLinePattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{const a=e;o.fillStyle=r,o.fillRect(a,0,2*s,t)})}createHorizontalLinePattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{const a=e;o.fillStyle=r,o.fillRect(0,a,t,2*s)})}createBiasLRLinePattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{o.strokeStyle=r,o.lineWidth=s,o.moveTo(0,0),o.lineTo(t,t);const a=t/2,l=-a;o.moveTo(a,l),o.lineTo(a+t,l+t),o.moveTo(-a,-l),o.lineTo(-a+t,-l+t),o.stroke()})}createBiasRLLinePattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{o.strokeStyle=r,o.lineWidth=s,o.moveTo(t,0),o.lineTo(0,t);const a=t/2,l=a;o.moveTo(t+a,l),o.lineTo(a,l+t),o.moveTo(t-a,-l),o.lineTo(-a,-l+t),o.stroke()})}createGridPattern(t,e,r,i){return this.createCommonPattern(t,e,r,i,(s,o)=>{const a=e,l=a;o.fillStyle=r,o.fillRect(a,l,s,s),o.fillRect(a+s,l+s,s,s)})}initTextureMap(t,e){this.textureMap=new Map}drawShape(t,e,r,i,s,o,a,l,u,c,h,d,f){this.textureMap||this.initTextureMap(e,t.stage);const{texture:p=u.texture,textureColor:g=u.textureColor,textureSize:_=u.textureSize,texturePadding:m=u.texturePadding}=t.attribute;p&&this.drawTexture(p,t,e,r,i,u,g,_,m)}drawTexture(t,e,r,i,s,o,a,l,u){let c=this.textureMap.get(t);if(!c)switch(t){case"circle":c=this.createCirclePattern(l,u,a,r);break;case"diamond":c=this.createDiamondPattern(l,u,a,r);break;case"rect":c=this.createRectPattern(l,u,a,r);break;case"vertical-line":c=this.createVerticalLinePattern(l,u,a,r);break;case"horizontal-line":c=this.createHorizontalLinePattern(l,u,a,r);break;case"bias-lr":c=this.createBiasLRLinePattern(l,u,a,r);break;case"bias-rl":c=this.createBiasRLLinePattern(l,u,a,r);break;case"grid":c=this.createGridPattern(l,u,a,r)}c&&(r.highPerformanceSave(),r.setCommonStyle(e,e.attribute,i,s,o),r.fillStyle=c,r.fill(),r.highPerformanceRestore())}}new Ly;class _4 extends By{constructor(){super(...arguments),this.time=pr.beforeFillStroke}drawShape(t,e,r,i,s,o,a,l,u,c,h,d){const{background:f,backgroundMode:p=u.backgroundMode,backgroundFit:g=u.backgroundFit}=t.attribute;if(f)if(t.backgroundImg&&t.resources){const _=t.resources.get(f);if(_.state!=="success"||!_.data)return;e.highPerformanceSave(),e.setTransformFromMatrix(t.parent.globalTransMatrix,!0);const m=t.AABBBounds;this.doDrawImage(e,_.data,m,p,g),e.highPerformanceRestore(),e.setTransformForCurrent()}else e.highPerformanceSave(),e.fillStyle=f,e.fill(),e.highPerformanceRestore()}}const b4=new _4,Ju=ke/2;function w4(n,t,e,r,i,s){let o;if(r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i),Tt(s,!0))o=[s=Ht(s),s,s,s];else if(Array.isArray(s)){const x=s;let w,C;switch(x.length){case 0:o=[0,0,0,0];break;case 1:w=Ht(x[0]),o=[w,w,w,w];break;case 2:case 3:w=Ht(x[0]),C=Ht(x[1]),o=[w,C,w,C];break;default:o=x,o[0]=Ht(o[0]),o[1]=Ht(o[1]),o[2]=Ht(o[2]),o[3]=Ht(o[3])}}else o=[0,0,0,0];if(r<0||o[0]+o[1]+o[2]+o[3]<1e-12)return n.rect(t,e,r,i);const[a,l,u,c]=[[t,e],[t+r,e],[t+r,e+i],[t,e+i]],h=Math.min(r/2,i/2),d=[Math.min(h,o[0]),Math.min(h,o[1]),Math.min(h,o[2]),Math.min(h,o[3])],f=[a[0]+d[0],a[1]],p=[a[0],a[1]+d[0]],g=[l[0]-d[1],l[1]],_=[l[0],l[1]+d[1]],m=[u[0]-d[2],u[1]],y=[u[0],u[1]-d[2]],v=[c[0]+d[3],c[1]],b=[c[0],c[1]-d[3]];if(n.moveTo(f[0],f[1]),n.lineTo(g[0],g[1]),!Gu(g,_)){const x=g[0],w=g[1]+d[1];n.arc(x,w,d[1],-Ju,0,!1)}if(n.lineTo(y[0],y[1]),!Gu(m,y)){const x=y[0]-d[2],w=y[1];n.arc(x,w,d[2],0,Ju,!1)}if(n.lineTo(v[0],v[1]),!Gu(v,b)){const x=v[0],w=v[1]-d[3];n.arc(x,w,d[3],Ju,ke,!1)}if(n.lineTo(p[0],p[1]),!Gu(f,p)){const x=f[0],w=f[1]+d[0];n.arc(x,w,d[0],ke,ke+Ju,!1)}return n.closePath(),n}class x4 extends Ly{constructor(){super(...arguments),this.time=pr.afterFillStroke}drawShape(t,e,r,i,s,o,a,l,u,c,h,d,f){var p,g,_,m;this.textureMap||this.initTextureMap(e,t.stage);const{attribute:y=t.attribute}=f||{},{texture:v=(p=t.attribute.texture)!==null&&p!==void 0?p:qu(u,"texture"),textureColor:b=(g=t.attribute.textureColor)!==null&&g!==void 0?g:qu(u,"textureColor"),textureSize:x=(_=t.attribute.textureSize)!==null&&_!==void 0?_:qu(u,"textureSize"),texturePadding:w=(m=t.attribute.texturePadding)!==null&&m!==void 0?m:qu(u,"texturePadding")}=y;v&&this.drawTexture(v,t,e,r,i,u,b,x,w)}}function yh(n,t,e,r){if(!t.p1)return;const{offsetX:i=0,offsetY:s=0,offsetZ:o=0}=r||{};if(e===1)t.p2&&t.p3?n.bezierCurveTo(i+t.p1.x,s+t.p1.y,i+t.p2.x,s+t.p2.y,i+t.p3.x,s+t.p3.y,o):n.lineTo(i+t.p1.x,s+t.p1.y,o);else if(t.p2&&t.p3){const[a]=am(t,e);n.bezierCurveTo(i+a.p1.x,s+a.p1.y,i+a.p2.x,s+a.p2.y,i+a.p3.x,s+a.p3.y,o)}else{const a=t.getPointAt(e);n.lineTo(i+a.x,s+a.y,o)}}function Cm(n,t,e,r,i){var s;const{offsetX:o=0,offsetY:a=0,offsetZ:l=0,mode:u="none",drawConnect:c=!1,zeroX:h=0,zeroY:d=0}=i||{};if(c&&u==="none"||!t)return;let f=!0;const{curves:p}=t;if(e>=1){if(c){let b,x=!0;p.forEach((w,C)=>{var S;let k=w.p0;if(w.originP1!==w.originP2){if(b&&b.originP1===b.originP2&&(k=b.p0),w.defined)x||(n.lineTo(k.x+o,k.y+a,l),x=!x);else{const{originP1:O,originP2:T}=w;let I;if(O&&O.defined!==!1?I=k:O&&T.defined!==!1&&(I=(S=w.p3)!==null&&S!==void 0?S:w.p1),x){x=!x;const R=I?I.x:w.p0.x,N=I?I.y:w.p0.y;n.moveTo(R+o,N+a,l)}else I&&(x=!x,n.lineTo(I.x+o,I.y+a,l))}b=w}else b=w})}else p.forEach(b=>{b.defined?(f&&n.moveTo(b.p0.x+o,b.p0.y+a,l),yh(n,b,1,i),f=!1):f=!0});return}if(e<=0)return;let g;r==="x"?g=$t.ROW:r==="y"?g=$t.COLUMN:r==="auto"&&(g=t.direction);const _=e*t.tryUpdateLength(g);let m=0,y=!0,v=null;for(let b=0,x=p.length;b<x;b++){const w=p[b],C=w.getLength(g),S=(_-m)/C;if(m+=C,S<0)break;if(c){let k=w.p0;if(w.originP1===w.originP2){v=w;continue}if(v&&v.originP1===v.originP2&&(k=v.p0),w.defined)y||(n.lineTo(k.x+o,k.y+a,l),y=!y);else{const{originP1:O,originP2:T}=w;let I;if(O&&O.defined!==!1?I=k:O&&T.defined!==!1&&(I=(s=w.p3)!==null&&s!==void 0?s:w.p1),y){y=!y;const R=I?I.x:w.p0.x,N=I?I.y:w.p0.y;n.moveTo(R+o,N+a,l)}else I&&(y=!y,n.lineTo(I.x+o,I.y+a,l))}v=w}else{if(!w.defined){f=!0;continue}f&&n.moveTo(w.p0.x+o,w.p0.y+a,l),yh(n,w,ou(S,1),i),f=!1}}}function C4(n,t,e,r){const{offsetX:i=0,offsetY:s=0}=r||{},o=t?t.points[t.points.length-1]:e.points[0];n.moveTo(o.x+i,o.y+s),e.points.forEach(a=>{a.defined!==!1?n.lineTo(a.x+i,a.y+s):n.moveTo(a.x+i,a.y+s)})}function S4(n,t,e,r){const{offsetX:i=0,offsetY:s=0}=r||{},{points:o}=e,a=[];for(let l=0;l<o.length;l++)o[l].defined;a.push(o),a.forEach((l,u)=>{var c,h,d,f;const p=t&&u===0?t.points[t.points.length-1]:l[0];n.moveTo(p.x+i,p.y+s),l.forEach(g=>{g.defined!==!1?n.lineTo(g.x+i,g.y+s):n.moveTo(g.x+i,g.y+s)});for(let g=l.length-1;g>=0;g--){const _=l[g];n.lineTo((c=_.x1)!==null&&c!==void 0?c:_.x,(h=_.y1)!==null&&h!==void 0?h:_.y)}n.lineTo((d=p.x1)!==null&&d!==void 0?d:p.x,(f=p.y1)!==null&&f!==void 0?f:p.y),n.closePath()})}var E4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let Sm=class extends VO{constructor(){super(...arguments),this.numberType=IO}draw(n,t,e,r){const i=Se(n,r==null?void 0:r.theme).line;this._draw(n,i,!1,e,r)}drawSegmentItem(n,t,e,r,i,s,o,a,l,u,c,h,d,f,p){var g,_,m,y,v;if(!t)return;n.beginPath();const b=(g=this.z)!==null&&g!==void 0?g:0;Cm(n.camera?n:n.nativeContext,t,l,u,{offsetX:c,offsetY:h,offsetZ:b}),d.cache&&!ft(d.cache)&&d.cache.curves.every(T=>T.defined)&&d.attribute.curveType&&d.attribute.curveType.includes("Closed")&&n.closePath(),n.setShadowBlendStyle&&n.setShadowBlendStyle(d,o,a);const{x=0,x:w=0}=o;e!==!1&&(f?f(n,o,a):i&&(n.setCommonStyle(d,o,x-c,w-h,a),n.fill())),r!==!1&&(p?p(n,o,a):s&&(n.setStrokeStyle(d,o,x-c,w-h,a),n.stroke()));let{connectedType:C,connectedX:S,connectedY:k,connectedStyle:O}=o;if(ft(a)?(C=(_=C??a[0].connectedType)!==null&&_!==void 0?_:a[1].connectedType,S=(m=S??a[0].connectedX)!==null&&m!==void 0?m:a[1].connectedX,k=(y=k??a[0].connectedY)!==null&&y!==void 0?y:a[1].connectedY,O=(v=O??a[0].connectedStyle)!==null&&v!==void 0?v:a[1].connectedStyle):(C=C??a.connectedType,S=S??a.connectedX,k=k??a.connectedY,O=O??a.connectedStyle),C!=="connect"&&C!=="zero"&&(C="none"),C!=="none"){n.beginPath(),Cm(n.camera?n:n.nativeContext,t,l,u,{offsetX:c,offsetY:h,offsetZ:b,drawConnect:!0,mode:C,zeroX:S,zeroY:k});const T=[];ft(a)?a.forEach(I=>T.push(I)):T.push(a),T.push(o),e!==!1&&(f?f(n,o,a):i&&(n.setCommonStyle(d,O,x-c,w-h,T),n.fill())),r!==!1&&(p?p(n,o,a):s&&(n.setStrokeStyle(d,O,x-c,w-h,T),n.stroke()))}return!1}drawLinearLineHighPerformance(n,t,e,r,i,s,o,a,l,u,c,h,d){var f;t.beginPath();const p=(f=this.z)!==null&&f!==void 0?f:0,{points:g}=n.attribute,_=g[0];t.moveTo(_.x+o,_.y+a,p);for(let v=1;v<g.length;v++){const b=g[v];t.lineTo(b.x+o,b.y+a,p)}t.setShadowBlendStyle&&t.setShadowBlendStyle(n,n.attribute,l);const{x:m=0,x:y=0}=n.attribute;e!==!1&&(h?h(t,n.attribute,l):i&&(t.setCommonStyle(n,n.attribute,m-o,y-a,l),t.fill())),r!==!1&&(d?d(t,n.attribute,l):s&&(t.setStrokeStyle(n,n.attribute,m-o,y-a,l),t.stroke()))}drawShape(n,t,e,r,i,s,o,a){const l=Se(n,s==null?void 0:s.theme).line,{fill:u=l.fill,stroke:c=l.stroke,fillOpacity:h=l.fillOpacity,strokeOpacity:d=l.strokeOpacity,segments:f,points:p,closePath:g}=n.attribute;if(!this.valid(n,l,o,a))return;let{curveType:_=l.curveType}=n.attribute;g&&_==="linear"&&(_="linearClosed");const{clipRange:m=l.clipRange,clipRangeByDimension:y=l.clipRangeByDimension}=n.attribute;if(m===1&&!f&&!p.some(v=>v.defined===!1)&&_==="linear")return this.drawLinearLineHighPerformance(n,t,!!u,!!c,h,d,e,r,l,i,s,o,a);if(n.shouldUpdateShape()){const{points:v,segments:b}=n.attribute,x=v;if(b&&b.length){let w,C;if(n.cache=b.map((S,k)=>{if(S.points.length<=1&&k===0)return S.points[0]&&(C={endX:S.points[0].x,endY:S.points[0].y,curves:[{defined:S.points[0].defined!==!1}]}),null;k===1?w={x:C.endX,y:C.endY,defined:C.curves[C.curves.length-1].defined}:k>1&&(w.x=C.endX,w.y=C.endY,w.defined=C.curves[C.curves.length-1].defined);const O=cm(S.points,_,{startPoint:w});return C=O,O}).filter(S=>!!S),_==="linearClosed"){let S;for(let k=0;k<n.cache.length;k++){const O=n.cache[k];for(let T=0;T<O.curves.length;T++)if(O.curves[T].defined){S=O.curves[T].p0;break}if(S)break}n.cache[n.cache.length-1]&&n.cache[n.cache.length-1].lineTo(S.x,S.y,!0)}}else{if(!v||!v.length)return n.cache=null,void n.clearUpdateShapeTag();n.cache=cm(x,_)}n.clearUpdateShapeTag()}if(Array.isArray(n.cache)){const v=n.attribute.segments.filter(b=>b.points.length);if(v[0].points.length===1&&v.shift(),m===1){let b=!1;n.cache.forEach((x,w)=>{b||(b=this.drawSegmentItem(t,x,!!u,!!c,h,d,v[w],[l,n.attribute],m,y,e,r,n,o,a))})}else{const b=n.cache.reduce((S,k)=>S+k.getLength(),0),x=m*b;let w=0,C=!1;n.cache.forEach((S,k)=>{if(C)return;const O=S.getLength(),T=(x-w)/O;w+=O,T>0&&(C=this.drawSegmentItem(t,S,!!u,!!c,h,d,v[k],[l,n.attribute],ou(T,1),y,e,r,n,o,a))})}}else this.drawSegmentItem(t,n.cache,!!u,!!c,h,d,n.attribute,l,m,y,e,r,n,o,a)}};Sm=E4([St()],Sm);function O4(n,t,e,r){var i;const{drawConnect:s=!1,mode:o="none"}=r||{};if(s&&o==="none")return;const{top:a,bottom:l}=t;if(a.curves.length!==l.curves.length)return;if(e>=1){const w=[],C=[];let S=!0;if(s){let k,O,T=!0;const I=a.curves.length;a.curves.forEach((R,N)=>{const j=l.curves[I-N-1];let P=R,B=j;if(R.originP1===R.originP2)return k=R,void(O=j);if(k&&k.originP1===k.originP2&&(P=k,B=O),R.defined)T||(w.push(P),C.push(B),Bs(n,w,C,r),w.length=0,C.length=0,T=!T);else{const{originP1:A,originP2:$}=R;let L,G;A&&A.defined!==!1?(L=P,G=B):A&&$.defined!==!1&&(L=R,G=j),T?(T=!T,w.push(L||R),C.push(G||j)):L&&(T=!T,w.push(L||R),C.push(G||j),Bs(n,w,C,r),w.length=0,C.length=0)}k=R}),Bs(n,w,C,r)}else{for(let k=0,O=a.curves.length;k<O;k++){const T=a.curves[k];S!==T.defined?(S?(tc(n,w,C,r),w.length=0,C.length=0):(w.push(T),C.push(l.curves[O-k-1])),S=!S):S&&(w.push(T),C.push(l.curves[O-k-1]))}tc(n,w,C,r)}return}if(e<=0)return;let{direction:u}=r||{};const{curves:c}=a,h=(i=c[c.length-1].p3)!==null&&i!==void 0?i:c[c.length-1].p1,d=Ht(h.x-c[0].p0.x),f=Ht(h.y-c[0].p0.y);u=u??(d>f?$t.ROW:$t.COLUMN),Number.isFinite(d)||(u=$t.COLUMN),Number.isFinite(f)||(u=$t.ROW);const p=e*(u===$t.ROW?d:f);let g=0,_=!0;const m=[],y=[];let v,b,x=!0;for(let w=0,C=a.curves.length;w<C;w++){const S=a.curves[w],k=S.getLength(u),O=(p-g)/k;if(O<0)break;if(g+=k,s){const T=l.curves[C-w-1];let I=S,R=T;if(S.originP1===S.originP2){v=S,b=T;continue}if(v&&v.originP1===v.originP2&&(I=v,R=b),S.defined)x||(m.push(I),y.push(R),Bs(n,m,y,r),m.length=0,y.length=0,x=!x);else{const{originP1:N,originP2:j}=S;let P,B;N&&N.defined!==!1?(P=I,B=R):N&&j.defined!==!1&&(P=S,B=T),x?(x=!x,m.push(P||S),y.push(B||T)):P&&(x=!x,m.push(P||S),y.push(B||T),Bs(n,m,y,r),m.length=0,y.length=0)}v=S}else{let T=null,I=null;_!==S.defined?(_?(tc(n,m,y,r),m.length=0,y.length=0):(T=S,I=l.curves[C-w-1]),_=!_):_&&(T=S,I=l.curves[C-w-1]),T&&I&&(O<1&&(T=T.p2&&T.p3?am(T,O)[0]:fb(T,O)[0],I=I.p2&&I.p3?am(I,1-O)[1]:fb(I,1-O)[1]),T.defined=_,I.defined=_,m.push(T),y.push(I)),T=null,I=null}}s?Bs(n,m,y,r):tc(n,m,y,r)}function Bs(n,t,e,r){if(t.length<2)return;const{offsetX:i=0,offsetY:s=0,offsetZ:o=0,mode:a}=r||{};let l=t[0];n.moveTo(l.p0.x+i,l.p0.y+s,o),l=t[t.length-1];let u=l.p3||l.p1;n.lineTo(u.x+i,u.y+s,o),l=e[e.length-1],n.lineTo(l.p0.x+i,l.p0.y+s,o),l=e[0],u=l.p3||l.p1,n.lineTo(u.x+i,u.y+s,o),n.closePath()}function tc(n,t,e,r){const{offsetX:i=0,offsetY:s=0,offsetZ:o=0}=r||{};let a=!0;t.forEach(l=>{l.defined?(a&&n.moveTo(l.p0.x+i,l.p0.y+s,o),yh(n,l,1,r),a=!1):a=!0}),a=!0;for(let l=e.length-1;l>=0;l--){const u=e[l];u.defined?(a&&n.lineTo(u.p0.x+i,u.p0.y+s,o),yh(n,u,1,r),a=!1):a=!0}n.closePath()}const k4=new x4,T4=y4;var A4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},M4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Vb=function(n,t){return function(e,r){t(e,r,n)}};function ec(n,t,e){switch(t){case"linear":default:return lu(n,e);case"basis":return nO(n,e);case"monotoneX":return iO(n,e);case"monotoneY":return sO(n,e);case"step":return Eo(n,.5,e);case"stepBefore":return Eo(n,0,e);case"stepAfter":return Eo(n,1,e);case"linearClosed":return oO(n,e)}}let Em=class extends VO{constructor(n){super(),this.areaRenderContribitions=n,this.numberType=PO,this.builtinContributions=[k4,T4],this.init(n)}drawLinearAreaHighPerformance(n,t,e,r,i,s,o,a,l,u,c,h,d){var f,p,g,_,m;const{points:y}=n.attribute;if(y.length<2)return;t.beginPath();const v=(f=this.z)!==null&&f!==void 0?f:0,b=y[0];t.moveTo(b.x+o,b.y+a,v);for(let C=1;C<y.length;C++){const S=y[C];t.lineTo(S.x+o,S.y+a,v)}for(let C=y.length-1;C>=0;C--){const S=y[C];t.lineTo(((p=S.x1)!==null&&p!==void 0?p:S.x)+o,((g=S.y1)!==null&&g!==void 0?g:S.y)+a,v)}t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,t,o,a,!!i,!1,e,!1,l,u,h,null,{attribute:n.attribute});const{x=0,x:w=0}=n.attribute;if(e!==!1&&(h?h(t,n.attribute,l):i&&(t.setCommonStyle(n,n.attribute,x-o,w-a,l),t.fill())),this.afterRenderStep(n,t,o,a,!!i,!1,e,!1,l,u,h,null,{attribute:n.attribute}),r){const{stroke:C=l&&l.stroke}=n.attribute;if(ft(C)&&(C[0]||C[2])&&C[1]===!1){if(t.beginPath(),C[0]){t.moveTo(b.x+o,b.y+a,v);for(let S=1;S<y.length;S++){const k=y[S];t.lineTo(k.x+o,k.y+a,v)}}else if(C[2]){const S=y[y.length-1];t.moveTo(S.x+o,S.y+a,v);for(let k=y.length-2;k>=0;k--){const O=y[k];t.lineTo(((_=O.x1)!==null&&_!==void 0?_:O.x)+o,((m=O.y1)!==null&&m!==void 0?m:O.y)+a,v)}}}d?d(t,n.attribute,l):(t.setStrokeStyle(n,n.attribute,x-o,w-a,l),t.stroke())}}drawShape(n,t,e,r,i,s,o,a){var l,u,c,h,d,f;const p=Se(n,s==null?void 0:s.theme).area,{fill:g=p.fill,stroke:_=p.stroke,fillOpacity:m=p.fillOpacity,z:y=p.z,strokeOpacity:v=p.strokeOpacity}=n.attribute,b=this.valid(n,p,o,a);if(!b)return;const{doFill:x,doStroke:w}=b,{clipRange:C=p.clipRange,closePath:S,points:k,segments:O}=n.attribute;let{curveType:T=p.curveType}=n.attribute;if(S&&T==="linear"&&(T="linearClosed"),C===1&&!O&&!k.some(I=>I.defined===!1)&&T==="linear")return this.drawLinearAreaHighPerformance(n,t,!!g,w,m,v,e,r,p,i,s,o,a);if(n.shouldUpdateShape()){if(O&&O.length){let I,R;const N=O.map((B,A)=>{if(B.points.length<=1&&A===0)return B.points[0]&&(R={endX:B.points[0].x,endY:B.points[0].y}),null;A===1?I={x:R.endX,y:R.endY}:A>1&&(I.x=R.endX,I.y=R.endY);const $=ec(B.points,T,{startPoint:I});return R=$,$}).filter(B=>!!B);let j;const P=[];for(let B=O.length-1;B>=0;B--){const A=O[B].points,$=[];for(let L=A.length-1;L>=0;L--)$.push({x:(l=A[L].x1)!==null&&l!==void 0?l:A[L].x,y:(u=A[L].y1)!==null&&u!==void 0?u:A[L].y});if(B!==0){const L=O[B-1].points,G=L[L.length-1];G&&$.push({x:(c=G.x1)!==null&&c!==void 0?c:G.x,y:(h=G.y1)!==null&&h!==void 0?h:G.y})}$.length>1&&(j=ec($,T==="stepBefore"?"stepAfter":T==="stepAfter"?"stepBefore":T),P.unshift(j))}n.cacheArea=P.map((B,A)=>({top:N[A],bottom:B}))}else{if(!k||!k.length)return n.cacheArea=null,void n.clearUpdateShapeTag();{const I=k,R=[];for(let P=k.length-1;P>=0;P--)R.push({x:(d=k[P].x1)!==null&&d!==void 0?d:k[P].x,y:(f=k[P].y1)!==null&&f!==void 0?f:k[P].y});const N=ec(I,T),j=ec(R,T==="stepBefore"?"stepAfter":T==="stepAfter"?"stepBefore":T);n.cacheArea={top:N,bottom:j}}}n.clearUpdateShapeTag()}if(Array.isArray(n.cacheArea)){const I=n.attribute.segments.filter(R=>R.points.length);if(I[0].points.length===1&&I.shift(),C===1){let R=!1;n.cacheArea.forEach((N,j)=>{R||(R=this.drawSegmentItem(t,N,x,m,w,v,I[j],[p,n.attribute],C,e,r,y,n,i,o,a))})}else{const R=n.cacheArea.reduce((B,A)=>B+A.top.getLength(),0),N=C*R;let j=0,P=!1;n.cacheArea.forEach((B,A)=>{if(P)return;const $=B.top.getLength(),L=(N-j)/$;j+=$,L>0&&(P=this.drawSegmentItem(t,B,x,m,w,v,I[A],[p,n.attribute],ou(L,1),e,r,y,n,i,o,a))})}}else this.drawSegmentItem(t,n.cacheArea,x,m,w,v,n.attribute,p,C,e,r,y,n,i,o,a)}draw(n,t,e,r){const i=Se(n,r==null?void 0:r.theme).area;this._draw(n,i,!1,e,r)}drawSegmentItem(n,t,e,r,i,s,o,a,l,u,c,h,d,f,p,g){let _=!1;return _=_||this._drawSegmentItem(n,t,e,r,i,s,o,a,l,u,c,h,d,f,!1,p,g),_=_||this._drawSegmentItem(n,t,e,r,i,s,o,a,l,u,c,h,d,f,!0,p,g),_}_drawSegmentItem(n,t,e,r,i,s,o,a,l,u,c,h,d,f,p,g,_){var m,y,v,b;if(!(t&&t.top&&t.bottom&&t.top.curves&&t.top.curves.length&&t.bottom.curves&&t.bottom.curves.length))return;let{connectedType:x,connectedX:w,connectedY:C,connectedStyle:S}=o;const k=[];if(p&&(ft(a)?(x=(m=x??a[0].connectedType)!==null&&m!==void 0?m:a[1].connectedType,w=(y=w??a[0].connectedX)!==null&&y!==void 0?y:a[1].connectedX,C=(v=C??a[0].connectedY)!==null&&v!==void 0?v:a[1].connectedY,S=(b=S??a[0].connectedStyle)!==null&&b!==void 0?b:a[1].connectedStyle):(x=x??a.connectedType,w=w??a.connectedX,C=C??a.connectedY,S=S??a.connectedStyle),x!=="connect"&&x!=="zero"&&(x="none"),ft(a)?a.forEach($=>k.push($)):k.push(a),k.push(o)),p&&x==="none")return!1;n.beginPath();const{points:O,segments:T}=d.attribute;let I,R,N=$t.ROW;if(T){const $=T[T.length-1];R=T[0].points[0],I=$.points[$.points.length-1]}else R=O[0],I=O[O.length-1];const j=Ht(I.x-R.x),P=Ht(I.y-R.y);N=Number.isFinite(j+P)?j>P?$t.ROW:$t.COLUMN:$t.ROW,O4(n.camera?n:n.nativeContext,t,l,{offsetX:u,offsetY:c,offsetZ:h,direction:N,drawConnect:p,mode:x,zeroX:w,zeroY:C}),this.beforeRenderStep(d,n,u,c,!!r,!1,e,!1,a,f,g,null,{attribute:o}),n.setShadowBlendStyle&&n.setShadowBlendStyle(d,o,a);const{x:B=0,x:A=0}=o;if(e!==!1&&(g?g(n,o,a):r&&(n.setCommonStyle(d,p?S:o,B-u,A-c,p?k:a),n.fill())),this.afterRenderStep(d,n,u,c,!!r,!1,e,!1,a,f,g,null,{attribute:o}),i!==!1)if(_)_(n,o,a);else{const{stroke:$=a&&a[1]&&a[1].stroke}=o;ft($)&&($[0]||$[2])&&$[1]===!1&&(n.beginPath(),Cm(n.camera?n:n.nativeContext,$[0]?t.top:t.bottom,l,N===$t.ROW?"x":"y",{offsetX:u,offsetY:c,offsetZ:h,drawConnect:p,mode:x,zeroX:w,zeroY:C})),n.setStrokeStyle(d,p?S:o,B-u,A-c,p?k:a),n.stroke()}return!1}};Em=A4([St(),Vb(0,Ne(Bn)),Vb(0,fr(WF)),M4("design:paramtypes",[Object])],Em);class P4{constructor(){this.pools=[];for(let t=0;t<10;t++)this.pools.push(new je)}allocate(t,e,r,i){if(!this.pools.length)return new je().setValue(t,e,r,i);const s=this.pools.pop();return s.x1=t,s.y1=e,s.x2=r,s.y2=i,s}allocateByObj(t){if(!this.pools.length)return new je(t);const e=this.pools.pop();return e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}const Ub=new P4,UO=Symbol.for("IncrementalDrawContribution"),_h=Symbol.for("GraphicRender"),Wb=Symbol.for("GroupRender"),jy=Symbol.for("DrawContribution");var I4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},R4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};const bh=Symbol.for("DrawItemInterceptor"),Yb=new je;class D4{constructor(){this.order=1}afterDrawItem(t,e,r,i,s){return(t.attribute.shadowRootIdx>0||!t.attribute.shadowRootIdx)&&this.drawItem(t,e,r,i,s),!1}beforeDrawItem(t,e,r,i,s){return t.attribute.shadowRootIdx<0&&this.drawItem(t,e,r,i,s),!1}drawItem(t,e,r,i,s){if(!t.shadowRoot)return!1;const{context:o}=r;if(o.highPerformanceSave(),o.transformFromMatrix(t.transMatrix,!0),i.dirtyBounds&&i.backupDirtyBounds){Yb.copy(i.dirtyBounds);const a=t.globalTransMatrix.getInverse();i.dirtyBounds.copy(i.backupDirtyBounds).transformWithMatrix(a)}return i.renderGroup(t.shadowRoot,r,t.parent.globalTransMatrix),o.highPerformanceRestore(),i.dirtyBounds&&i.backupDirtyBounds&&i.dirtyBounds.copy(Yb),!0}}class B4{constructor(){this.order=1}afterDrawItem(t,e,r,i,s){return t.attribute._debug_bounds&&this.drawItem(t,e,r,i,s),!1}drawItem(t,e,r,i,s){if(!t.attribute._debug_bounds)return!1;const{context:o}=r;o.highPerformanceSave(),t.parent&&o.setTransformFromMatrix(t.parent.globalTransMatrix,!0),t.glyphHost&&t.glyphHost.parent&&o.setTransformFromMatrix(t.glyphHost.parent.globalTransMatrix,!0);const a=t.AABBBounds;return t.attribute._debug_bounds!==!0&&t.attribute._debug_bounds(o,t),o.strokeRect(a.x1,a.y1,a.width(),a.height()),o.highPerformanceRestore(),!0}}let wh=class{constructor(){this.order=1,this.interceptors=[new D4,new j4,new L4,new B4]}afterDrawItem(n,t,e,r,i){for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].afterDrawItem&&this.interceptors[s].afterDrawItem(n,t,e,r,i))return!0;return!1}beforeDrawItem(n,t,e,r,i){if((!n.in3dMode||e.in3dInterceptor)&&!n.shadowRoot&&!(n.baseGraphic||n.attribute.globalZIndex||n.interactiveGraphic))return!1;for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].beforeDrawItem&&this.interceptors[s].beforeDrawItem(n,t,e,r,i))return!0;return!1}};wh=I4([St(),R4("design:paramtypes",[])],wh);class L4{constructor(){this.order=1}beforeDrawItem(t,e,r,i,s){return!this.processing&&(t.baseGraphic?this.beforeDrawInteractive(t,e,r,i,s):this.beforeSetInteractive(t,e,r,i,s))}beforeSetInteractive(t,e,r,i,s){let o=t.interactiveGraphic;if(t.attribute.globalZIndex){o||(o=t.clone(),t.interactiveGraphic=o,o.baseGraphic=t),o.setAttributes({globalZIndex:0,zIndex:t.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),r.stage.tryInitInteractiveLayer();const a=r.stage.getLayer("_builtin_interactive");return a&&this.getShadowRoot(a).add(o),!0}if(o){r.stage.tryInitInteractiveLayer();const a=r.stage.getLayer("_builtin_interactive");a&&this.getShadowRoot(a).removeChild(o),t.interactiveGraphic=null,o.baseGraphic=null}return!1}beforeDrawInteractive(t,e,r,i,s){const o=t.baseGraphic;if(o){this.processing=!0;const{context:a}=r;return a.highPerformanceSave(),a.setTransformFromMatrix(o.parent.globalTransMatrix,!0),o.isContainer?i.renderGroup(o,r,o.parent.globalTransMatrix):i.renderItem(o,r),a.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(t){var e;let r=t.getElementById("_interactive_group");return r||(r=du.CreateGraphic("group",{}),r.id="_interactive_group",t.add(r)),(e=r.shadowRoot)!==null&&e!==void 0?e:r.attachShadow()}}class j4{constructor(){this.order=1}beforeDrawItem(t,e,r,i,s){if(!t.in3dMode||r.in3dInterceptor)return!1;r.in3dInterceptor=!0;const{context:o,stage:a}=e.drawParams;o.canvas,o.save(),this.initCanvasCtx(o),o.camera=a.camera;const l=o.currentMatrix;l.a/=o.dpr,l.b/=o.dpr,l.c/=o.dpr,l.d/=o.dpr,l.e/=o.dpr,l.f/=o.dpr;const u=re.allocate();_m(u,l);const c=o.modelMatrix;if(c){if(u){const h=re.allocate();o.modelMatrix=hu(h,c,u)}}else o.modelMatrix=u;if(o.setTransform(1,0,0,1,0,0,!0),t.isContainer){let h=!1,d=!1;if(t.forEachChildren(f=>(h=f.numberType===MO,!h)),t.forEachChildren(f=>(d=!!f.findFace,!d)),h){const f=t.getChildren(),p=[...f];p.sort((_,m)=>{var y,v,b,x;let w=(((y=_.attribute.startAngle)!==null&&y!==void 0?y:0)+((v=_.attribute.endAngle)!==null&&v!==void 0?v:0))/2,C=(((b=m.attribute.startAngle)!==null&&b!==void 0?b:0)+((x=m.attribute.endAngle)!==null&&x!==void 0?x:0))/2;for(;w<0;)w+=Vt;for(;C<0;)C+=Vt;return C-w}),p.forEach(_=>{_._next=null,_._prev=null}),t.removeAllChild(),t.update(),p.forEach(_=>{t.appendChild(_)});const g=t.parent.globalTransMatrix;r.hack_pieFace="outside",i.renderGroup(t,r,g),r.hack_pieFace="inside",i.renderGroup(t,r,g),r.hack_pieFace="top",i.renderGroup(t,r,g),t.removeAllChild(),f.forEach(_=>{_._next=null,_._prev=null}),f.forEach(_=>{t.appendChild(_)})}else if(d){const f=t.getChildren(),p=f.map(g=>({ave_z:g.findFace().vertices.map(_=>{var m;return o.view(_[0],_[1],(m=_[2]+g.attribute.z)!==null&&m!==void 0?m:0)[2]}).reduce((_,m)=>_+m,0),g}));p.sort((g,_)=>_.ave_z-g.ave_z),t.removeAllChild(),p.forEach(g=>{g.g._next=null,g.g._prev=null}),t.update(),p.forEach(g=>{t.add(g.g)}),i.renderGroup(t,r,t.parent.globalTransMatrix,!0),t.removeAllChild(),f.forEach(g=>{g._next=null,g._prev=null}),t.update(),f.forEach(g=>{t.add(g)})}else i.renderGroup(t,r,t.parent.globalTransMatrix)}else i.renderItem(t,r);return o.camera=null,o.restore(),o.modelMatrix!==c&&re.free(o.modelMatrix),o.modelMatrix=c,r.in3dInterceptor=!1,!0}initCanvasCtx(t){t.setTransformForCurrent()}}var N4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},F4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},z4=function(n,t){return function(e,r){t(e,r,n)}};const WO=Symbol.for("RenderService");let Om=class{constructor(n){this.drawContribution=n}prepare(n){n&&this.renderTreeRoots.forEach(t=>{this._prepare(t,n)})}_prepare(n,t){n.forEachChildren(e=>{this._prepare(e,t)}),n.update({bounds:t,trans:!0})}prepareRenderList(){}beforeDraw(n){}draw(n){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(n){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}render(n,t){this.renderTreeRoots=n,this.drawParams=t;const e=t.updateBounds;this.prepare(e),this.prepareRenderList(),this.beforeDraw(t),this.draw(t),this.afterDraw(t),this.drawParams=null}};Om=N4([St(),z4(0,Ne(jy)),F4("design:paramtypes",[Object])],Om);const $4=new en(n=>{n(WO).to(Om)}),ko=Symbol.for("PickerService"),Xb=Symbol.for("GlobalPickerService");var Ny=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};const fo=Symbol.for("PickItemInterceptor");let xh=class{constructor(){this.order=1}afterPickItem(n,t,e,r,i){return n.attribute.shadowRootIdx>0||!n.attribute.shadowRootIdx?this._pickItem(n,t,e,r,i):null}beforePickItem(n,t,e,r,i){return n.attribute.shadowRootIdx<0?this._pickItem(n,t,e,r,i):null}_pickItem(n,t,e,r,i){if(!n.shadowRoot)return null;const{parentMatrix:s}=i||{};if(!s)return null;const o=t.pickContext;o.highPerformanceSave();const a=n.shadowRoot,l=Sr.allocateByObj(s),u=new xe(l.a*e.x+l.c*e.y+l.e,l.b*e.x+l.d*e.y+l.f),c=t.pickGroup(a,u,l,r);return o.highPerformanceRestore(),c}};xh=Ny([St()],xh);let Ch=class{constructor(){this.order=1}beforePickItem(n,t,e,r,i){const s=n.baseGraphic;if(s&&s.parent){const o=new xe(e.x,e.y),a=t.pickContext;a.highPerformanceSave();const l=s.parent.globalTransMatrix;l.transformPoint(o,o);const u=s.isContainer?t.pickGroup(s,o.clone(),l,r):t.pickItem(s,o.clone(),l,r);return a.highPerformanceRestore(),u}return null}};Ch=Ny([St()],Ch);let Sh=class{constructor(){this.order=1}beforePickItem(n,t,e,r,i){if(!n.in3dMode||r.in3dInterceptor)return null;const s=t.pickContext,o=n.stage;if(!s||!o)return null;if(r.in3dInterceptor=!0,s.save(),this.initCanvasCtx(s),s.camera=o.camera,n.isContainer){let a,l=!1,u=!1;if(n.forEachChildren(c=>(l=c.numberType===MO,!l)),n.forEachChildren(c=>(u=!!c.findFace,!u)),l){const c=n.getChildren(),h=[...c];h.sort((d,f)=>{var p,g,_,m;let y=((g=(p=d.attribute.startAngle)!==null&&p!==void 0?p:0+d.attribute.endAngle)!==null&&g!==void 0?g:0)/2,v=((m=(_=f.attribute.startAngle)!==null&&_!==void 0?_:0+f.attribute.endAngle)!==null&&m!==void 0?m:0)/2;for(;y<0;)y+=Vt;for(;v<0;)v+=Vt;return v-y}),h.forEach(d=>{d._next=null,d._prev=null}),n.removeAllChild(),n.update(),h.forEach(d=>{n.appendChild(d)}),r.hack_pieFace="outside",a=t.pickGroup(n,e,i.parentMatrix,r),a.graphic||(r.hack_pieFace="inside",a=t.pickGroup(n,e,i.parentMatrix,r)),a.graphic||(r.hack_pieFace="top",a=t.pickGroup(n,e,i.parentMatrix,r)),n.removeAllChild(),c.forEach(d=>{d._next=null,d._prev=null}),c.forEach(d=>{n.appendChild(d)})}else if(u){const c=n.getChildren(),h=c.map(d=>({ave_z:d.findFace().vertices.map(f=>{var p;return s.view(f[0],f[1],(p=f[2]+d.attribute.z)!==null&&p!==void 0?p:0)[2]}).reduce((f,p)=>f+p,0),g:d}));h.sort((d,f)=>f.ave_z-d.ave_z),n.removeAllChild(),h.forEach(d=>{d.g._next=null,d.g._prev=null}),n.update(),h.forEach(d=>{n.add(d.g)}),a=t.pickGroup(n,e,i.parentMatrix,r),n.removeAllChild(),c.forEach(d=>{d._next=null,d._prev=null}),n.update(),c.forEach(d=>{n.add(d)})}else a=t.pickGroup(n,e,i.parentMatrix,r);return s.camera=null,r.in3dInterceptor=!1,s.restore(),a}return s.restore(),null}initCanvasCtx(n){n.setTransformForCurrent()}};Sh=Ny([St()],Sh);const G4=new en((n,t,e)=>{e(ko)||(n(Xb).toSelf(),n(ko).toService(Xb)),n(Sh).toSelf().inSingletonScope(),n(fo).toService(Sh),n(xh).toSelf().inSingletonScope(),n(fo).toService(xh),n(Ch).toSelf().inSingletonScope(),n(fo).toService(Ch),yi(n,fo)}),H4=new en(n=>{n(RO).to(bm).inSingletonScope(),n(DO).toConstantValue(du)}),Fy=Symbol.for("AutoEnablePlugins"),YO=Symbol.for("PluginService");var V4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},U4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Kb=function(n,t){return function(e,r){t(e,r,n)}};let km=class{constructor(n){this.autoEnablePlugins=n,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(n,t){this.stage=n,this.actived=!0;const{pluginList:e}=t;e&&Ft.isBound(Fy)&&this.autoEnablePlugins.getContributions().forEach(r=>{e.includes(r.name)&&this.register(r)})}findPluginsByName(n){const t=[];return this.onStartupFinishedPlugin.forEach(e=>{e.name===n&&t.push(e)}),this.onRegisterPlugin.forEach(e=>{e.name===n&&t.push(e)}),t}register(n){n.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.push(n):n.activeEvent==="onRegister"&&(this.onRegisterPlugin.push(n),n.activate(this))}unRegister(n){n.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(n),1):n.activeEvent==="onRegister"&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(n),1),n.deactivate(this)}release(...n){this.onStartupFinishedPlugin.forEach(t=>{t.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(t=>{t.deactivate(this)}),this.onRegisterPlugin=[]}};km=V4([St(),Kb(0,Ne(Bn)),Kb(0,fr(Fy)),U4("design:paramtypes",[Object])],km);const W4=new en(n=>{n(YO).to(km),X3(n,Fy)}),Y4=new en(n=>{yi(n,Kd)}),X4=new en(n=>{n(dm).to(fm).inSingletonScope(),yi(n,dm)});var K4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},q4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Eh=class{constructor(){this.type="static",this.offscreen=!1,this.global=Y.global}setDpr(n){this.canvas.dpr=n}init(n,t,e){if(this.layer=n,this.window=t,e.main)this.main=!0,this.context=t.getContext(),this.canvas=this.context.getCanvas();else{let r;this.main=!1,e.canvasId&&(r=this.global.getElementById(e.canvasId)),r||(r=this.global.createCanvas({width:t.width,height:t.height})),r.style&&(r.style["pointer-events"]="none");const i=t.getContext().getCanvas().nativeCanvas,s=dh({nativeCanvas:r,width:t.width,height:t.height,dpr:t.dpr,id:e.canvasId,canvasControled:!0,container:t.getContainer(),x:i.offsetLeft,y:i.offsetTop});s.applyPosition(),this.canvas=s,this.context=s.getContext()}}resize(n,t){this.canvas.resize(n,t)}resizeView(n,t){}render(n,t,e){var r;if(!this.main){const i=this.window.getContext().getCanvas().nativeCanvas;!i||this.canvas.x===i.offsetLeft&&this.canvas.y===i.offsetTop||(this.canvas.x=i.offsetLeft,this.canvas.y=i.offsetTop,this.canvas.applyPosition())}t.renderService.render(n,Object.assign(Object.assign({context:this.context,clear:(r=t.background)!==null&&r!==void 0?r:"#ffffff"},t),e))}merge(n){n.forEach(t=>{const e=t.getContext().canvas.nativeCanvas;this.context.drawImage(e,0,0)})}prepare(n,t){}drawTo(n,t,e){var r;const i=n.getContext();e.renderService.render(t,Object.assign(Object.assign({context:i},e),{clear:e.clear?(r=e.background)!==null&&r!==void 0?r:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};Eh=K4([St(),q4("design:paramtypes",[])],Eh);var Z4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Q4=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Oh=class{constructor(){this.offscreen=!1,this.type="virtual",this.global=Y.global}setDpr(n){}init(n,t,e){if(this.layer=n,this.window=t,e.main)throw new Error("virtual layermain layer");this.main=!1,this.canvas=null,this.context=null}resize(n,t){}resizeView(n,t){}render(n,t,e){this.mainHandler.render(n,t,Object.assign(Object.assign({},e),{clear:!1}))}merge(n){}prepare(n,t){}drawTo(n,t,e){var r;const i=n.getContext();e.renderService.render(t,Object.assign(Object.assign({context:i},e),{clear:e.clear?(r=e.background)!==null&&r!==void 0?r:"#fff":void 0}))}getContext(){return null}release(){}};Oh=Z4([St(),Q4("design:paramtypes",[])],Oh);var J4=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},t5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let kh=class{constructor(){this.offscreen=!0,this.type="dynamic",this.global=Y.global}setDpr(n){this.canvas.dpr=n}init(n,t,e){this.layer=n;const r=this.global.createOffscreenCanvas({width:e.width,height:e.height,dpr:t.dpr}),i=dh({nativeCanvas:r,width:e.width,height:e.height,dpr:t.dpr,canvasControled:!0});this.canvas=i,this.context=i.getContext()}resize(n,t){this.canvas.resize(n,t)}resizeView(n,t){this.canvas.resize(n,t)}render(n,t){var e;t.renderService.render(n,Object.assign(Object.assign({context:this.context,viewBox:t.stage.window.getViewBox(),transMatrix:t.stage.window.getViewBoxTransform()},t),{clear:(e=t.background)!==null&&e!==void 0?e:"#ffffff"}))}prepare(n,t){}release(){this.canvas.release()}getContext(){return this.context}drawTo(n,t,e){const r=n.getContext(),i=n.dpr,{viewBox:s}=e,o=s.x1,a=s.y1,l=s.width(),u=s.height();r.nativeContext.save(),r.nativeContext.setTransform(i,0,0,i,0,0),e.clear&&r.clearRect(o,a,l,u),r.drawImage(this.canvas.nativeCanvas,0,0,this.canvas.width,this.canvas.height,o,a,l,u),r.nativeContext.restore()}merge(n){}};kh=J4([St(),t5("design:paramtypes",[])],kh);const e5=new en(n=>{n(Eh).toSelf(),n(kh).toSelf(),n(Oh).toSelf(),n(NO).toService(Eh),n(FO).toService(kh),n(zO).toService(Oh)});function n5(n){n.load(Y4),n.load(X4),n.load(e5)}var r5=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})};function XO(n,t,e,r=!1,i=!1){const s={},o=[];let a=!1;if(i)a=!0;else{let l;n.forEachChildren((u,c)=>{const{zIndex:h=t}=u.attribute;if(c===0)l=h;else if(l!==h)return a=!0,!0;return!1},r)}if(a){n.forEachChildren(u=>{const{zIndex:c=t}=u.attribute;s[c]?s[c].push(u):(s[c]=[u],o.push(c))},r),o.sort((u,c)=>r?c-u:u-c);let l=!1;for(let u=0;u<o.length&&!l;u++){const c=o[u],h=s[c];i&&h.sort((d,f)=>{var p,g;return(r?-1:1)*(((p=f.attribute.z)!==null&&p!==void 0?p:0)-((g=d.attribute.z)!==null&&g!==void 0?g:0))});for(let d=0;d<h.length;d++)if(e(h[d],d)){l=!0;break}}}else n.forEachChildren(e,r)}function qb(n,t,e,r=!1){return r5(this,void 0,void 0,function*(){yield n.forEachChildrenAsync(e,r)})}function i5(n,t,e,r=!1){const i={},s=[];let o=!1;n.forEachChildren((u,c)=>{const{zIndex:h=e}=u.attribute;if(c!==0){if(h!==void 0)return o=!0,!0}return!1},r);let a=null,l=!1;if(o){n.forEachChildren(c=>{const{zIndex:h=e}=c.attribute;i[h]?i[h].push(c):(i[h]=[c],s.push(h))},r),s.sort((c,h)=>r?h-c:c-h);let u=!1;for(let c=0;c<s.length&&!u;c++){const h=s[c],d=i[h];for(let f=0;f<d.length;f++){if(l){u=!0,a=d[f];break}d[f]._uid!==t||(l=!0)}}}else n.forEachChildren(u=>l?(a=u,!0):(u._uid===t&&(l=!0),!1),r);return a}var s5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},o5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},bp=function(n,t){return function(e,r){t(e,r,n)}};let Th=class{constructor(n,t){this.contributions=n,this.drawItemInterceptorContributions=t,this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new Mn,this.backupDirtyBounds=new Mn,this.global=Y.global,this.layerService=Y.layerService,this.init()}init(){this.contributions.forEach(n=>{if(n.style){const t=this.styleRenderMap.get(n.style)||new Map;t.set(n.numberType,n),this.styleRenderMap.set(n.style,t)}else this.defaultRenderMap.set(n.numberType,n)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((n,t)=>n.order-t.order)}prepareForDraw(n,t){t.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!t.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(n,t){this.prepareForDraw(n,t),t.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(t.renderStyle)||this.defaultRenderMap,this.currentRenderService=n;const{context:e,stage:r,viewBox:i,transMatrix:s}=t;if(!e)return;const o=this.dirtyBounds.setValue(0,0,i.width(),i.height());if(r.dirtyBounds&&!r.dirtyBounds.empty()){const l=b3(o,r.dirtyBounds);o.x1=Math.floor(l.x1),o.y1=Math.floor(l.y1),o.x2=Math.ceil(l.x2),o.y2=Math.ceil(l.y2)}const a=e.dpr%1;(a||a!==.5)&&(o.x1=Math.floor(o.x1*e.dpr)/e.dpr,o.y1=Math.floor(o.y1*e.dpr)/e.dpr,o.x2=Math.ceil(o.x2*e.dpr)/e.dpr,o.y2=Math.ceil(o.y2*e.dpr)/e.dpr),this.backupDirtyBounds.copy(o),e.inuse=!0,e.setClearMatrix(s.a,s.b,s.c,s.d,s.e,s.f),e.clearMatrix(),e.setTransformForCurrent(!0),e.translate(i.x1,i.y1,!0),e.beginPath(),e.rect(o.x1,o.y1,o.width(),o.height()),e.clip(),r.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(n,e,t),e.save(),n.renderTreeRoots.sort((l,u)=>{var c,h;return((c=l.attribute.zIndex)!==null&&c!==void 0?c:Xt.zIndex)-((h=u.attribute.zIndex)!==null&&h!==void 0?h:Xt.zIndex)}).forEach(l=>{l.isContainer?this.renderGroup(l,t,Sr.allocate(1,0,0,1,0,0)):this.renderItem(l,t)}),e.restore(),e.setClearMatrix(1,0,0,1,0,0),e.inuse=!1,e.draw()}doRegister(){throw new Error("")}_findNextGraphic(n){let t=n.parent,e=n._uid;for(;t;){const r=i5(t,e,Xt.zIndex);if(r)return r;e=t._uid,t=t.parent}return null}renderGroup(n,t,e,r){if(t.break||n.attribute.visibleAll===!1)return;if(n.incremental&&(t.startAtId==null||t.startAtId===n._uid))return t.break=!0,void this._increaseRender(n,t);if(this.useDirtyBounds&&!nb(n.AABBBounds,this.dirtyBounds))return;let i,s=e;if(this.useDirtyBounds){i=Ub.allocateByObj(this.dirtyBounds);const o=n.transMatrix;s=Sr.allocateByObj(e).multiply(o.a,o.b,o.c,o.d,o.e,o.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(s.getInverse())}this.renderItem(n,t,{drawingCb:()=>{var o;r?n.forEachChildren(a=>{t.break||(a.isContainer?this.renderGroup(a,t,s):this.renderItem(a,t))}):XO(n,Xt.zIndex,a=>{t.break||(a.isContainer?this.renderGroup(a,t,s):this.renderItem(a,t))},!1,!!(!((o=t.context)===null||o===void 0)&&o.camera))}}),this.useDirtyBounds&&(this.dirtyBounds.copy(i),Ub.free(i),Sr.free(s))}_increaseRender(n,t){const{layer:e,stage:r}=t,{subLayers:i}=e;let s=i.get(n._uid);s||(s={layer:this.layerService.createLayer(r),zIndex:i.size,group:n},i.set(n._uid,s));const o=s.layer.getNativeHandler().getContext(),a=s.drawContribution||Ft.get(UO);a.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),a.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),a.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:a,clear:"transparent",layer:s.layer,context:o,startAtId:n._uid,break:!1})),s.drawContribution=a;const l=this._findNextGraphic(n);if(l)if(l.isContainer&&l.incremental)this._increaseRender(l,t);else{let u=i.get(l._uid);u||(u={layer:this.layerService.createLayer(r),zIndex:i.size},i.set(l._uid,u));const c=u.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:a,clear:"transparent",layer:u.layer,context:c,startAtId:l._uid,break:!1}))}}getRenderContribution(n){let t;return t||(t=this.selectRenderByNumberType(n.numberType,n)),t||(t=this.selectRenderByType(n.type)),t}renderItem(n,t,e){if(this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const l=this.InterceptorContributions[a];if(l.beforeDrawItem&&l.beforeDrawItem(n,this.currentRenderService,t,this,e))return}const r=this.getRenderContribution(n);if(!r)return;let i,s=!1;if(n.parent){const{scrollX:a=0,scrollY:l=0}=n.parent.attribute;if(s=!(!a&&!l),s){i=this.dirtyBounds.clone();const u=n.globalTransMatrix.getInverse();this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(u),this.dirtyBounds.translate(-a,-l)}}if(this.useDirtyBounds&&!n.isContainer&&!nb(n.AABBBounds,this.dirtyBounds))return void(s&&this.dirtyBounds.copy(i));const o=t.startAtId!=null&&n._uid!==t.startAtId;if(n._uid===t.startAtId&&(t.startAtId=null),e&&(e.skipDraw=o),o?n.isContainer&&r.draw(n,this.currentRenderService,t,e):r.draw(n,this.currentRenderService,t,e),s&&this.dirtyBounds.copy(i),this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const l=this.InterceptorContributions[a];if(l.afterDrawItem&&l.afterDrawItem(n,this.currentRenderService,t,this))return}}selectRenderByType(n){return xt.getInstance().warn(""),null}selectRenderByNumberType(n,t){let e;if(t.attribute.renderStyle){const r=this.styleRenderMap.get(t.attribute.renderStyle);e=r&&r.get(n)}return e||this.currentRenderMap.get(n)||this.defaultRenderMap.get(n)}clearScreen(n,t,e){var r,i;const{clear:s,viewBox:o}=e,a=o.width(),l=o.height();if(s){t.clearRect(0,0,a,l);const u=(r=n.drawParams)===null||r===void 0?void 0:r.stage;if(u&&(t.globalAlpha=(i=u.attribute.opacity)!==null&&i!==void 0?i:1),u&&u.backgroundImg&&u.resources){const c=u.resources.get(s);c&&c.state==="success"&&c.data&&t.drawImage(c.data,0,0,a,l)}else t.fillStyle=wm(t,s,{AABBBounds:{x1:0,y1:0,x2:0+a,y2:0+l}},0,0),t.fillRect(0,0,a,l)}}afterDraw(n,t){}};Th=s5([St(),bp(0,qE(_h)),bp(1,Ne(Bn)),bp(1,fr(bh)),o5("design:paramtypes",[Array,Object])],Th);var a5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},l5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Zb=function(n,t){return function(e,r){t(e,r,n)}};let Tm=class{constructor(n){this.groupRenderContribitions=n,this.numberType=Iy}drawShape(n,t,e,r,i,s,o,a){const l=Se(n,s==null?void 0:s.theme).group,{fill:u=l.fill,background:c,stroke:h=l.stroke,opacity:d=l.opacity,width:f=l.width,height:p=l.height,clip:g=l.clip,fillOpacity:_=l.fillOpacity,strokeOpacity:m=l.strokeOpacity,cornerRadius:y=l.cornerRadius,path:v=l.path,lineWidth:b=l.lineWidth,visible:x=l.visible}=n.attribute,w=GF(d,_,f,p,u),C=HF(d,m,f,p),S=cu(u,c),k=Qd(h,b);if(!n.valid||!x||!g&&(!S&&!k||!(w||C||o||a||c)))return;if(v&&v.length&&i.drawContribution){const T=t.disableFill,I=t.disableStroke,R=t.disableBeginPath;t.disableFill=!0,t.disableStroke=!0,t.disableBeginPath=!0,v.forEach(N=>{i.drawContribution.getRenderContribution(N).draw(N,i.renderService,i,s)}),t.disableFill=T,t.disableStroke=I,t.disableBeginPath=R}else y===0||ft(y)&&y.every(T=>T===0)?(t.beginPath(),t.rect(e,r,f,p)):(t.beginPath(),w4(t,e,r,f,p,y));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(b4));const O={doFill:S,doStroke:k};this._groupRenderContribitions.forEach(T=>{T.time===pr.beforeFillStroke&&T.drawShape(n,t,e,r,S,k,w,C,l,i,o,a,O)}),g&&t.clip(),t.setShadowBlendStyle&&t.setShadowBlendStyle(n,n.attribute,l),O.doFill&&(o?o(t,n.attribute,l):w&&(t.setCommonStyle(n,n.attribute,e,r,l),t.fill())),O.doStroke&&(a?a(t,n.attribute,l):C&&(t.setStrokeStyle(n,n.attribute,e,r,l),t.stroke())),this._groupRenderContribitions.forEach(T=>{T.time===pr.afterFillStroke&&T.drawShape(n,t,e,r,S,k,w,C,l,i,o,a)})}draw(n,t,e,r){const{context:i}=e;if(!i)return;const{clip:s}=n.attribute;s?i.save():i.highPerformanceSave();const o=Se(n,r==null?void 0:r.theme).group,a=i.modelMatrix;if(i.camera){const h=re.allocate(),d=re.allocate();HO(d,n,o),hu(h,a||h,d),i.modelMatrix=h,re.free(d),i.setTransform(1,0,0,1,0,0,!0)}else i.transformFromMatrix(n.transMatrix,!0);i.beginPath(),r.skipDraw?this.drawShape(n,i,0,0,e,r,()=>!1,()=>!1):this.drawShape(n,i,0,0,e);const{scrollX:l=o.scrollX,scrollY:u=o.scrollY}=n.attribute;let c;(l||u)&&i.translate(l,u),r&&r.drawingCb&&(c=r.drawingCb()),i.modelMatrix!==a&&re.free(i.modelMatrix),i.modelMatrix=a,c&&c.then?c.then(()=>{s?i.restore():i.highPerformanceRestore()}):s?i.restore():i.highPerformanceRestore()}};Tm=a5([St(),Zb(0,Ne(Bn)),Zb(0,fr($O)),l5("design:paramtypes",[Object])],Tm);var u5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let Am=class extends Sm{constructor(){super(...arguments),this.numberType=IO}drawShape(n,t,e,r,i,s,o,a){if(n.incremental&&i.multiGraphicOptions){const{startAtIdx:l,length:u}=i.multiGraphicOptions,{segments:c=[]}=n.attribute;if(l>c.length)return;const h=Se(n).line,{fill:d=h.fill,stroke:f=h.stroke,opacity:p=h.opacity,fillOpacity:g=h.fillOpacity,strokeOpacity:_=h.strokeOpacity,lineWidth:m=h.lineWidth,visible:y=h.visible}=n.attribute,v=Jd(p,g,d),b=Dy(p,_),x=cu(d),w=Qd(f,m);if(!n.valid||!y||!x&&!w||!(v||b||o||a))return;const{context:C}=i;for(let S=l;S<l+u;S++)this.drawIncreaseSegment(n,C,c[S-1],c[S],n.attribute.segments[S],[h,n.attribute],e,r)}else super.drawShape(n,t,e,r,i,s,o,a)}drawIncreaseSegment(n,t,e,r,i,s,o,a){r&&(t.beginPath(),C4(t.nativeContext,e,r,{offsetX:o,offsetY:a}),t.setShadowBlendStyle&&t.setShadowBlendStyle(n,i,s),t.setStrokeStyle(n,i,o,a,s),t.stroke())}};Am=u5([St()],Am);var c5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let Mm=class extends Em{constructor(){super(...arguments),this.numberType=PO}drawShape(n,t,e,r,i,s,o){if(n.incremental&&i.multiGraphicOptions){const{startAtIdx:a,length:l}=i.multiGraphicOptions,{segments:u=[]}=n.attribute;if(a>u.length)return;const c=Se(n).area,{fill:h=c.fill,fillOpacity:d=c.fillOpacity,opacity:f=c.opacity,visible:p=c.visible}=n.attribute,g=Jd(f,d,h),_=cu(h);if(!n.valid||!p||!_||!g&&!o)return;for(let m=a;m<a+l;m++)this.drawIncreaseSegment(n,t,u[m-1],u[m],n.attribute.segments[m],[c,n.attribute],e,r)}else super.drawShape(n,t,e,r,i,s,o)}drawIncreaseSegment(n,t,e,r,i,s,o,a){r&&(t.beginPath(),S4(t.camera?t:t.nativeContext,e,r,{offsetX:o,offsetY:a}),t.setShadowBlendStyle&&t.setShadowBlendStyle(n,i,s),t.setCommonStyle(n,i,o,a,s),t.fill())}};Mm=c5([St()],Mm);var po,h5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},d5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Ma=function(n,t){return function(e,r){t(e,r,n)}},mr=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})};(function(n){n[n.NORMAL=0]="NORMAL",n[n.STOP=1]="STOP"})(po||(po={}));let Pm=class extends Th{constructor(n,t,e,r){super(n,r),this.contributions=n,this.lineRender=t,this.areaRender=e,this.drawItemInterceptorContributions=r,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=po.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new En([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(n,t){return mr(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=n,this.lastDrawContext=t,this.checkingForDrawPromise=this.checkForDraw(t);const e=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,e)return;this.currentRenderService=n;const{context:r,viewBox:i}=t;r&&(r.inuse=!0,r.clearMatrix(),r.setTransformForCurrent(!0),r.save(),t.restartIncremental&&this.clearScreen(this.currentRenderService,r,t),r.translate(i.x1,i.y1,!0),r.save(),n.renderTreeRoots.sort((s,o)=>{var a,l;return((a=s.attribute.zIndex)!==null&&a!==void 0?a:Xt.zIndex)-((l=o.attribute.zIndex)!==null&&l!==void 0?l:Xt.zIndex)}).forEach(s=>{this.renderGroup(s,t)}),this.hooks.completeDraw.tap("top-draw",()=>{r.restore(),r.restore(),r.draw(),r.inuse=!1,this.rendering=!1}))})}_increaseRender(n,t){return mr(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(n,t)})}_renderIncrementalGroup(n,t){return mr(this,void 0,void 0,function*(){this.count=n.count,yield new Promise(e=>{this.renderItem(n,t,{drawingCb:()=>mr(this,void 0,void 0,function*(){if(n.count!==2)yield qb(n,Xt.zIndex,(r,i)=>{if(this.status===po.STOP)return!0;if(r.isContainer||i<this.currentIdx)return!1;const s=this.currFrameStartAt+n.incremental;return i<s&&(this.currentIdx=i+1,this.renderItem(r,t)),i===s-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),e(!1);else{const r=n.getChildAt(0);if(r.incremental&&r.attribute.segments)for(r.incrementalAt||(r.incrementalAt=0);r.incrementalAt<r.attribute.segments.length;)t.multiGraphicOptions={startAtIdx:r.incrementalAt,length:r.incremental},this.renderItem(r,t),r.incrementalAt+=r.incremental,yield this.waitToNextFrame();else this.renderItem(r,t);e(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return mr(this,void 0,void 0,function*(){return new Promise(n=>{this.global.getRequestAnimationFrame()(()=>{n(!1)})})})}checkForDraw(n){return mr(this,void 0,void 0,function*(){let t=this.rendering;return n.restartIncremental&&(t=!1,yield this.forceStop(),this.resetToInit()),t})}forceStop(){return mr(this,void 0,void 0,function*(){this.rendering&&(this.status=po.STOP,yield new Promise(n=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=po.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(t=>t.name!=="stopCb"),n(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(n,t){return mr(this,void 0,void 0,function*(){if(!t.break&&n.attribute.visibleAll!==!1)return n.incremental&&t.startAtId===n._uid?(yield this._increaseRender(n,t),void(t.break=!0)):void(yield new Promise(e=>{this.renderItem(n,t,{drawingCb:()=>mr(this,void 0,void 0,function*(){yield qb(n,Xt.zIndex,r=>mr(this,void 0,void 0,function*(){t.break||r.isContainer&&(yield this.renderGroup(r,t))})),e(!1)})})}))})}};Pm=h5([St(),Ma(0,qE(_h)),Ma(1,Ne(Am)),Ma(2,Ne(Mm)),Ma(3,Ne(Bn)),Ma(3,fr(bh)),d5("design:paramtypes",[Array,Object,Object,Object])],Pm);const f5=new en(n=>{n(By).toSelf().inSingletonScope(),n(Ly).toSelf().inSingletonScope(),n(jy).to(Th),n(UO).to(Pm),n(Wb).to(Tm).inSingletonScope(),n(_h).toService(Wb),yi(n,$O),n(xm).toSelf().inSingletonScope(),yi(n,GO),yi(n,_h),n(wh).toSelf().inSingletonScope(),n(bh).toService(wh),yi(n,bh)});function p5(n){n.load(f5)}function Ah(){Ah.__loaded||(Ah.__loaded=!0,Ft.load($F),Ft.load(H4),Ft.load($4),Ft.load(G4),Ft.load(W4),n5(Ft),p5(Ft))}Ah.__loaded=!1,Ah();const Wn=Ft.get(Ey);Y.global=Wn;const g5=Ft.get(jO);Y.graphicUtil=g5;const m5=Ft.get(LO);Y.transformUtil=m5;const v5=Ft.get(RO);Y.graphicService=v5;const y5=Ft.get(Ry);Y.layerService=y5;class _5{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,Y.graphicService.hooks.onAttributeUpdate.tap(this.key,e=>{e.glyphHost&&(e=e.glyphHost),e.stage===t.stage&&e.stage!=null&&e.stage.renderNextFrame()}),Y.graphicService.hooks.onSetStage.tap(this.key,e=>{e.glyphHost&&(e=e.glyphHost),e.stage===t.stage&&e.stage!=null&&e.stage.renderNextFrame()})}deactivate(t){Y.graphicService.hooks.onAttributeUpdate.taps=Y.graphicService.hooks.onAttributeUpdate.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.onSetStage.taps=Y.graphicService.hooks.onSetStage.taps.filter(e=>e.name!==this.key)}}class b5{constructor(){this.name="ViewTransform3dPlugin",this.activeEvent="onRegister",this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid,this.onMouseDown=t=>{this.option3d||(this.option3d=this.pluginService.stage.option3d),this.option3d&&(this.mousedown=!0,this.pageX=t.page.x,this.pageY=t.page.y)},this.onMouseUp=t=>{this.option3d||(this.option3d=this.pluginService.stage.option3d),this.option3d&&(this.mousedown=!1)},this.onMouseMove=t=>{var e,r;const i=this.pluginService.stage;if(this.option3d||(this.option3d=i.option3d),this.option3d&&this.mousedown)if(this.pageX&&this.pageY){const s=t.page.x-this.pageX,o=t.page.y-this.pageY;this.pageX=t.page.x,this.pageY=t.page.y;const a=s/100,l=o/100;this.option3d.alpha=((e=this.option3d.alpha)!==null&&e!==void 0?e:0)+a,this.option3d.beta=((r=this.option3d.beta)!==null&&r!==void 0?r:0)+l,i.set3dOptions(this.option3d),i.renderNextFrame()}else this.pageX=t.page.x,this.pageY=t.page.y}}activate(t){this.pluginService=t;const e=t.stage;this.option3d=e.option3d,e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mousemove",this.onMouseMove)}deactivate(t){const e=t.stage;e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mousemove",this.onMouseMove)}}class w5{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,Y.graphicService.hooks.onAddIncremental.tap(this.key,(e,r,i)=>{e.glyphHost&&(e=e.glyphHost),e.stage===t.stage&&e.stage!=null&&(this.nextUserParams.startAtId=r._uid,this.renderNextFrame(r))}),Y.graphicService.hooks.onClearIncremental.tap(this.key,(e,r)=>{e.stage===t.stage&&e.stage!=null&&(this.nextUserParams.startAtId=e._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(e))})}deactivate(t){Y.graphicService.hooks.onAddIncremental.taps=Y.graphicService.hooks.onAddIncremental.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.onClearIncremental.taps=Y.graphicService.hooks.onClearIncremental.taps.filter(e=>e.name!==this.key)}renderNextFrame(t){this.nextFrameRenderGroupSet.add(t),this.willNextFrameRender||(this.willNextFrameRender=!0,Y.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){const t=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(e=>{const r=e.layer;if(!r||!e.layer.subLayers)return;const i=e.layer.subLayers.get(e._uid);i&&i.drawContribution&&i.drawContribution.draw(t.renderService,Object.assign({stage:t,layer:r,viewBox:t.window.getViewBox(),transMatrix:t.window.getViewBoxTransform(),clear:"transparent",renderService:t.renderService,updateBounds:!1,startAtId:e._uid,context:i.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}class KO{constructor(){this.name="HtmlAttributePlugin",this.activeEvent="onRegister",this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={},this.renderId=0}activate(t){this.pluginService=t,t.stage.hooks.afterRender.tap(this.key,e=>{e&&e===this.pluginService.stage&&this.drawHTML(t.stage.renderService)})}deactivate(t){t.stage.hooks.afterRender.taps=t.stage.hooks.afterRender.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.onRemove.unTap(this.key),Y.graphicService.hooks.onRelease.unTap(this.key),this.release()}getWrapContainer(t,e,r){let i;return i=e?typeof e=="string"?Y.global.getElementById(e):e:t.window.getContainer(),{wrapContainer:Y.global.createDom(Object.assign({tagName:"div",parent:i},r)),nativeContainer:i}}parseDefaultStyleFromGraphic(t){const e=t.type==="text"&&t.attribute?t.attribute:Se(t).text;return KF(e)}getTransformOfText(t){const e=Se(t).text,{textAlign:r=e.textAlign,textBaseline:i=e.textBaseline}=t.attribute,s=t.globalTransMatrix.toTransformAttrs(),{rotateDeg:o,scaleX:a,scaleY:l}=s,u={left:"0",start:"0",end:"-100%",center:"-50%",right:"-100%",top:"0",middle:"-50%",bottom:"-100%",alphabetic:"-79%"},c={left:"0",start:"0",end:"100%",center:"50%",right:"100%",top:"0",middle:"50%",bottom:"100%",alphabetic:"79%"};return{textAlign:r,transform:`translate(${u[r]},${u[i]}) rotate(${o}deg) scaleX(${a}) scaleY(${l})`,transformOrigin:`${c[r]} ${c[i]}`}}updateStyleOfWrapContainer(t,e,r,i,s){const{pointerEvents:o}=s;let a=this.parseDefaultStyleFromGraphic(t);a.display=t.attribute.visible!==!1?"block":"none",a.pointerEvents=o===!0?"all":o||"none",r.style.position||(r.style.position="absolute",i.style.position="relative");let l=0,u=0;const c=t.globalAABBBounds;let h=s.anchorType;if(z(h)&&(h=t.type==="text"?"position":"boundsLeftTop"),h==="boundsLeftTop"&&(h="top-left"),h==="position"||c.empty()){const _=t.globalTransMatrix;l=_.e,u=_.f}else{const _=x3(c,h);l=_.x,u=_.y}const d=Y.global.getElementTopLeft(i,!1),f=e.window.getTopLeft(!1),p=l+f.left-d.left,g=u+f.top-d.top;if(a.left=`${p}px`,a.top=`${g}px`,t.type==="text"&&h==="position"&&(a=Object.assign(Object.assign({},a),this.getTransformOfText(t))),bt(s.style)){const _=s.style({top:g,left:p,width:c.width(),height:c.height()},t,r);_&&(a=Object.assign(Object.assign({},a),_))}else zt(s.style)?a=Object.assign(Object.assign({},a),s.style):dt(s.style)&&s.style&&(a=Object.assign(Object.assign({},a),S3(s.style)));Y.global.updateDom(r,{width:s.width,height:s.width,style:a})}clearCacheContainer(){this.htmlMap&&Object.keys(this.htmlMap).forEach(t=>{this.htmlMap[t]&&this.htmlMap[t].renderId!==this.renderId&&this.removeElement(t)}),this.renderId+=1}drawHTML(t){Y.global.env==="browser"&&(t.renderTreeRoots.sort((e,r)=>{var i,s;return((i=e.attribute.zIndex)!==null&&i!==void 0?i:Xt.zIndex)-((s=r.attribute.zIndex)!==null&&s!==void 0?s:Xt.zIndex)}).forEach(e=>{this.renderGroupHTML(e)}),this.clearCacheContainer())}renderGroupHTML(t){this.renderGraphicHTML(t),t.forEachChildren(e=>{e.isContainer?this.renderGroupHTML(e):this.renderGraphicHTML(e)})}removeElement(t){if(!this.htmlMap||!this.htmlMap[t])return;const{wrapContainer:e}=this.htmlMap[t];e&&Y.global.removeDom(e),this.htmlMap[t]=null}renderGraphicHTML(t){var e;const{html:r}=t.attribute;if(!r)return;const i=t.stage;if(!i)return;const{dom:s,container:o}=r;if(!s)return;const a=z(r.id)?`${(e=t.id)!==null&&e!==void 0?e:t._uid}_react`:r.id;if(this.htmlMap&&this.htmlMap[a]&&o&&o!==this.htmlMap[a].container&&this.removeElement(a),this.htmlMap&&this.htmlMap[a])typeof s=="string"?this.htmlMap[a].wrapContainer.innerHTML=s:s!==this.htmlMap[a].wrapContainer.firstChild&&(this.htmlMap[a].wrapContainer.removeChild(this.htmlMap[a].wrapContainer.firstChild),this.htmlMap[a].wrapContainer.appendChild(s));else{const{wrapContainer:c,nativeContainer:h}=this.getWrapContainer(i,o);c&&(typeof s=="string"?c.innerHTML=s:c.appendChild(s),this.htmlMap||(this.htmlMap={}),this.htmlMap[a]={wrapContainer:c,nativeContainer:h,container:o,renderId:this.renderId})}if(!this.htmlMap||!this.htmlMap[a])return;const{wrapContainer:l,nativeContainer:u}=this.htmlMap[a];this.updateStyleOfWrapContainer(t,i,l,u,r),this.htmlMap[a].renderId=this.renderId}release(){Y.global.env==="browser"&&this.removeAllDom(this.pluginService.stage.defaultLayer)}removeAllDom(t){this.htmlMap&&(Object.keys(this.htmlMap).forEach(e=>{this.removeElement(e)}),this.htmlMap=null)}}const Qb=new je;class x5{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,t.stage.hooks.afterRender.tap(this.key,e=>{e&&e===this.pluginService.stage&&e.dirtyBounds.clear()}),Y.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(e,r,i,s)=>{e.glyphHost&&(e=e.glyphHost),r&&r===this.pluginService.stage&&r.renderCount&&(e.isContainer&&!e.shouldSelfChangeUpdateAABBBounds()||i&&(Qb.setValue(s.x1,s.y1,s.x2,s.y2),r.dirty(Qb,e.parent&&e.parent.globalTransMatrix)))}),Y.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(e,r,i,s,o)=>{r&&r===this.pluginService.stage&&r.renderCount&&(e.isContainer&&!o||r.dirty(s.globalAABBBounds))}),Y.graphicService.hooks.onRemove.tap(this.key,e=>{const r=e.stage;r&&r===this.pluginService.stage&&r.renderCount&&r&&r.dirty(e.globalAABBBounds)})}deactivate(t){Y.graphicService.hooks.beforeUpdateAABBBounds.taps=Y.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.afterUpdateAABBBounds.taps=Y.graphicService.hooks.afterUpdateAABBBounds.taps.filter(e=>e.name!==this.key),t.stage.hooks.afterRender.taps=t.stage.hooks.afterRender.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.onRemove.taps=Y.graphicService.hooks.onRemove.taps.filter(e=>e.name!==this.key)}}const Jb=new je;class C5{constructor(){this.name="FlexLayoutPlugin",this.activeEvent="onRegister",this.id=me.GenAutoIncrementId(),this.key=this.name+this.id,this.tempBounds=new je}pauseLayout(t){this.pause=t}tryLayoutChildren(t){t.firstChild&&this.tryLayout(t.firstChild)}tryLayout(t,e=!0){if(this.pause)return;const r=t.parent;if(!(e||r&&t.needUpdateLayout()))return;const i=Se(r).group,{display:s=i.display}=r.attribute;if(s!=="flex")return;const{flexDirection:o=i.flexDirection,flexWrap:a=i.flexWrap,alignItems:l=i.alignItems,clip:u=i.clip}=r.attribute,{alignContent:c=l??i.alignContent}=r.attribute;let{width:h,height:d,justifyContent:f=i.justifyContent}=r.attribute;const p=r.getChildren();if(h==null||d==null){let S=0,k=0,O=0;if(p.forEach(T=>{const I=this.getAABBBounds(T);I.empty()||(o==="column"||o==="column-reverse"?(k+=I.height(),S=Math.max(S,I.width())):(S+=I.width(),k=Math.max(k,I.height())),O+=I.x1,O+=I.y1,O+=I.x2,O+=I.y2)}),!isFinite(O))return;h=S,d=k}r.attribute.width==null?r.attribute.width=h:h=r.attribute.width,r.attribute.height==null?r.attribute.height=d:d=r.attribute.height,this.tempBounds.copy(r._AABBBounds);const g={main:{len:h,field:"x"},cross:{len:d,field:"y"}},_=g.main,m=g.cross;o!=="column"&&o!=="column-reverse"||(_.len=d,m.len=h,_.field="y",m.field="x"),o!=="row-reverse"&&o!=="column-reverse"||(f==="flex-start"?f="flex-end":f==="flex-end"?f="flex-start":p.reverse());let y=0,v=0;const b=[];p.forEach(S=>{const k=this.getAABBBounds(S);if(k.empty())return;const O=_.field==="x"?k.width():k.height(),T=m.field==="x"?k.width():k.height();b.push({mainLen:O,crossLen:T}),y+=O,v=Math.max(v,T)});const x=[];if(y>_.len&&a==="wrap"){let S=0,k=0;b.forEach(({mainLen:O,crossLen:T},I)=>{S+O>_.len?S===0?(x.push({idx:I,mainLen:S+O,crossLen:T}),S=0,k=0):(x.push({idx:I-1,mainLen:S,crossLen:k}),S=O,k=T):(S+=O,k=Math.max(k,T))}),x.push({idx:b.length-1,mainLen:S,crossLen:k})}else x.push({idx:b.length-1,mainLen:y,crossLen:v});let w=0;if(x.forEach(S=>{this.layoutMain(r,p,f,_,b,w,S),w=S.idx+1}),v=x.reduce((S,k)=>S+k.crossLen,0),x.length===1){const S={"flex-start":0,"flex-end":m.len,center:m.len/2};this.layoutCross(p,l,m,S,b,x[0],0)}else if(c==="flex-start"){w=0;let S=0;x.forEach((k,O)=>{const T={"flex-start":S,"flex-end":S+k.crossLen,center:S+k.crossLen/2};this.layoutCross(p,"flex-start",m,T,b,x[O],w),w=k.idx+1,S+=k.crossLen})}else if(c==="center"){w=0;let S=Math.max(0,(m.len-v)/2);x.forEach((k,O)=>{const T={"flex-start":S,"flex-end":S+k.crossLen,center:S+k.crossLen/2};this.layoutCross(p,"center",m,T,b,x[O],w),w=k.idx+1,S+=k.crossLen})}else if(c==="space-around"){w=0;const S=Math.max(0,(m.len-v)/x.length/2);let k=S;x.forEach((O,T)=>{const I={"flex-start":k,"flex-end":k+O.crossLen,center:k+O.crossLen/2};this.layoutCross(p,"flex-start",m,I,b,x[T],w),w=O.idx+1,k+=O.crossLen+2*S})}else if(c==="space-between"){w=0;const S=Math.max(0,(m.len-v)/(2*x.length-2));let k=0;x.forEach((O,T)=>{const I={"flex-start":k,"flex-end":k+O.crossLen,center:k+O.crossLen/2};this.layoutCross(p,"flex-start",m,I,b,x[T],w),w=O.idx+1,k+=O.crossLen+2*S})}p.forEach((S,k)=>{S.addUpdateBoundTag(),S.addUpdatePositionTag(),S.clearUpdateLayoutTag()}),r.addUpdateLayoutTag();const C=this.getAABBBounds(r);u||this.tempBounds.equals(C)||this.tryLayout(r,!1)}getAABBBounds(t){this.skipBoundsTrigger=!0;const e=t.AABBBounds;return this.skipBoundsTrigger=!1,e}updateChildPos(t,e,r){return t+(e??0)-r}layoutMain(t,e,r,i,s,o,a){if(r==="flex-start"){let l=0;for(let u=o;u<=a.idx;u++){const c=l+vr(e[u],i.field),h=this.getAABBBounds(e[u]);!h.empty()&&(e[u].attribute[i.field]=this.updateChildPos(c,e[u].attribute[i.field],h[`${i.field}1`])),l+=s[u].mainLen}}else if(r==="flex-end"){let l=i.len;for(let u=a.idx;u>=o;u--){l-=s[u].mainLen;const c=l+vr(e[u],i.field),h=this.getAABBBounds(e[u]);!h.empty()&&(e[u].attribute[i.field]=this.updateChildPos(c,e[u].attribute[i.field],h[`${i.field}1`]))}}else if(r==="space-around")if(a.mainLen>=i.len){let l=0;for(let u=o;u<=a.idx;u++){const c=l+vr(e[u],i.field),h=this.getAABBBounds(e[u]);!h.empty()&&(e[u].attribute[i.field]=this.updateChildPos(c,e[u].attribute[i.field],h[`${i.field}1`])),l+=s[u].mainLen}}else{const l=a.idx-o+1,u=(i.len-a.mainLen)/l/2;let c=u;for(let h=o;h<=a.idx;h++){const d=c+vr(e[h],i.field),f=this.getAABBBounds(e[h]);!f.empty()&&(e[h].attribute[i.field]=this.updateChildPos(d,e[h].attribute[i.field],f[`${i.field}1`])),c+=s[h].mainLen+2*u}}else if(r==="space-between")if(a.mainLen>=i.len){let l=0;for(let u=o;u<=a.idx;u++){const c=l+vr(e[u],i.field),h=this.getAABBBounds(e[u]);!h.empty()&&(e[u].attribute[i.field]=this.updateChildPos(c,e[u].attribute[i.field],h[`${i.field}1`])),l+=s[u].mainLen}}else{const l=a.idx-o+1,u=(i.len-a.mainLen)/(2*l-2);let c=0;for(let h=o;h<=a.idx;h++){const d=c+vr(e[h],i.field),f=this.getAABBBounds(e[h]);!f.empty()&&(e[h].attribute[i.field]=this.updateChildPos(d,e[h].attribute[i.field],f[`${i.field}1`])),c+=s[h].mainLen+2*u}}else if(r==="center"){let l=(i.len-a.mainLen)/2;for(let u=o;u<=a.idx;u++){const c=l+vr(e[u],i.field),h=this.getAABBBounds(e[u]);!h.empty()&&(e[u].attribute[i.field]=this.updateChildPos(c,e[u].attribute[i.field],h[`${i.field}1`])),l+=s[u].mainLen}}}layoutCross(t,e,r,i,s,o,a){var l;for(let u=a;u<=o.idx;u++){const c=t[u];let{alignSelf:h}=c.attribute;h&&h!=="auto"||(h=e);const d=this.getAABBBounds(c),f=(l=i[h])!==null&&l!==void 0?l:i["flex-start"];h==="flex-end"?!d.empty()&&(c.attribute[r.field]=this.updateChildPos(f-s[u].crossLen+vr(c,r.field),c.attribute[r.field],d[`${r.field}1`])):h==="center"?!d.empty()&&(c.attribute[r.field]=this.updateChildPos(f-s[u].crossLen/2+vr(c,r.field),c.attribute[r.field],d[`${r.field}1`])):!d.empty()&&(c.attribute[r.field]=this.updateChildPos(f+vr(c,r.field),c.attribute[r.field],d[`${r.field}1`]))}}activate(t){this.pluginService=t,Y.graphicService.hooks.onAttributeUpdate.tap(this.key,e=>{e.glyphHost&&(e=e.glyphHost),e.stage&&e.stage===this.pluginService.stage&&this.tryLayout(e,!1)}),Y.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(e,r,i,s)=>{e.glyphHost&&(e=e.glyphHost),r&&r===this.pluginService.stage&&e.isContainer&&!this.skipBoundsTrigger&&Jb.copy(s)}),Y.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(e,r,i,s,o)=>{r&&r===this.pluginService.stage&&e.isContainer&&!this.skipBoundsTrigger&&(Jb.equals(i)||this.tryLayout(e,!1))}),Y.graphicService.hooks.onSetStage.tap(this.key,e=>{e.glyphHost&&(e=e.glyphHost),this.tryLayout(e,!1)})}deactivate(t){Y.graphicService.hooks.onAttributeUpdate.taps=Y.graphicService.hooks.onAttributeUpdate.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.beforeUpdateAABBBounds.taps=Y.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.afterUpdateAABBBounds.taps=Y.graphicService.hooks.afterUpdateAABBBounds.taps.filter(e=>e.name!==this.key),Y.graphicService.hooks.onSetStage.taps=Y.graphicService.hooks.onSetStage.taps.filter(e=>e.name!==this.key)}}function vr(n,t){return 0}const zy=new QN;zy.addTimeline(_O);zy.setFPS(60);class S5{constructor(t,e,r=.8){this.dir=t,this.color=e,this.colorRgb=ee.Get(e,Rn.Color1),this.ambient=r;const i=_c(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);this.formatedDir=[t[0]/i,t[1]/i,t[2]/i]}computeColor(t,e){const r=this.formatedDir,i=ou(wy((t[0]*r[0]+t[1]*r[1]+t[2]*r[2])*(1-this.ambient/2),0)+this.ambient,1);let s;s=dt(e)?ee.Get(e,Rn.Color1):e;const o=this.colorRgb;return`rgb(${o[0]*s[0]*i}, ${o[1]*s[1]*i}, ${o[2]*s[2]*i})`}}function E5(n,t,e,r){let i,s,o,a,l,u,c,h,d,f;const p=t[0],g=t[1],_=t[2],m=r[0],y=r[1],v=r[2],b=e[0],x=e[1],w=e[2];return Math.abs(p-b)<Co&&Math.abs(g-x)<Co&&Math.abs(_-w)<Co?tf.identity(n):(c=p-b,h=g-x,d=_-w,f=1/Math.hypot(c,h,d),c*=f,h*=f,d*=f,i=y*d-v*h,s=v*c-m*d,o=m*h-y*c,f=Math.hypot(i,s,o),f?(f=1/f,i*=f,s*=f,o*=f):(i=0,s=0,o=0),a=h*o-d*s,l=d*i-c*o,u=c*s-h*i,f=Math.hypot(a,l,u),f?(f=1/f,a*=f,l*=f,u*=f):(a=0,l=0,u=0),n[0]=i,n[1]=a,n[2]=c,n[3]=0,n[4]=s,n[5]=l,n[6]=h,n[7]=0,n[8]=o,n[9]=u,n[10]=d,n[11]=0,n[12]=-(i*p+s*g+o*_),n[13]=-(a*p+l*g+u*_),n[14]=-(c*p+h*g+d*_),n[15]=1,n)}function O5(n,t,e,r,i,s,o){const a=1/(t-e),l=1/(r-i),u=1/(s-o);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(t+e)*a,n[13]=(i+r)*l,n[14]=(o+s)*u,n[15]=1,n}function tw(n,t,e){const r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],_=t[13],m=t[14],y=t[15];let v=e[0],b=e[1],x=e[2],w=e[3];return n[0]=v*r+b*a+x*h+w*g,n[1]=v*i+b*l+x*d+w*_,n[2]=v*s+b*u+x*f+w*m,n[3]=v*o+b*c+x*p+w*y,v=e[4],b=e[5],x=e[6],w=e[7],n[4]=v*r+b*a+x*h+w*g,n[5]=v*i+b*l+x*d+w*_,n[6]=v*s+b*u+x*f+w*m,n[7]=v*o+b*c+x*p+w*y,v=e[8],b=e[9],x=e[10],w=e[11],n[8]=v*r+b*a+x*h+w*g,n[9]=v*i+b*l+x*d+w*_,n[10]=v*s+b*u+x*f+w*m,n[11]=v*o+b*c+x*p+w*y,v=e[12],b=e[13],x=e[14],w=e[15],n[12]=v*r+b*a+x*h+w*g,n[13]=v*i+b*l+x*d+w*_,n[14]=v*s+b*u+x*f+w*m,n[15]=v*o+b*c+x*p+w*y,n}function wn(n,t,e){const r=t[0],i=t[1],s=t[2];let o=e[3]*r+e[7]*i+e[11]*s+e[15];return o=o||1,n[0]=(e[0]*r+e[4]*i+e[8]*s+e[12])/o,n[1]=(e[1]*r+e[5]*i+e[9]*s+e[13])/o,n[2]=(e[2]*r+e[6]*i+e[10]*s+e[14])/o,n}class k5{set params(t){this._params=Object.assign({},t),this._projectionMatrixCached=this.forceGetProjectionMatrix(),this._viewMatrixCached=this.forceGetViewMatrix()}get params(){return Object.assign({},this._params)}constructor(t){this.params=t}getViewMatrix(){return this._viewMatrixCached||(this._viewMatrixCached=re.allocate()),this._viewMatrixCached}forceGetViewMatrix(){this._viewMatrixCached||(this._viewMatrixCached=re.allocate());const{pos:t,center:e,up:r}=this.params.viewParams;return E5(this._viewMatrixCached,t,e,r),this._vp||(this._vp=re.allocate()),this._vp=tw(this._vp,this.getProjectionMatrix(),this.getViewMatrix()),this._viewMatrixCached}getProjectionMatrix(){return this._projectionMatrixCached||(this._projectionMatrixCached=re.allocate()),this._projectionMatrixCached}forceGetProjectionMatrix(){this._projectionMatrixCached||(this._projectionMatrixCached=re.allocate());const{left:t,top:e,right:r,bottom:i}=this._params;return O5(this._projectionMatrixCached,t,r,i,e,0,-2e6),this._vp||(this._vp=re.allocate()),this._vp=tw(this._vp,this.getProjectionMatrix(),this.getViewMatrix()),this._projectionMatrixCached}getField(){const{fieldRatio:t=.8,fieldDepth:e,left:r,right:i}=this._params;return(e??i-r)*t}getProjectionScale(t){const e=this.getField();return e/(e+t)}view(t,e,r){const i=[0,0,0];return wn(i,[t,e,r],this._viewMatrixCached),i}vp(t,e,r){const i=[0,0,0],{pos:s}=this._params.viewParams;wn(i,[t,e,r],this._viewMatrixCached),t=i[0],e=i[1],r=i[2];const o=this.getProjectionScale(r);return{x:t*o+s[0],y:e*o+s[1]}}}let Ns;function T5(){if(Ns==null)try{Ns=globalThis===window,Ns&&(Ns=!!document.createElement)}catch{Ns=!1}}function qO(){T5();const n=Y.global&&Y.global.env;return n?n==="browser":Ns}class A5 extends KO{constructor(){super(...arguments),this.name="ReactAttributePlugin",this.activeEvent="onRegister",this._uid=me.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={}}removeElement(t){if(!this.htmlMap||!this.htmlMap[t])return;const{root:e,wrapContainer:r}=this.htmlMap[t];e&&Y.global.getRequestAnimationFrame()(()=>{e.unmount()}),r&&Y.global.removeDom(r),this.htmlMap[t]=null}renderGraphicHTML(t){var e;const{react:r}=t.attribute;if(!r)return;const i=t.stage;if(!i)return;const s=i.params.ReactDOM,{element:o,container:a}=r;if(!(o&&s&&s.createRoot))return;const l=z(r.id)?`${(e=t.id)!==null&&e!==void 0?e:t._uid}_react`:r.id;if(this.htmlMap&&this.htmlMap[l]&&a&&a!==this.htmlMap[l].container&&this.removeElement(l),this.htmlMap&&this.htmlMap[l])this.htmlMap[l].root.render(o);else{const{wrapContainer:h,nativeContainer:d}=this.getWrapContainer(i,a);if(h){const f=s.createRoot(h);f.render(o),this.htmlMap||(this.htmlMap={}),this.htmlMap[l]={root:f,wrapContainer:h,nativeContainer:d,container:a,renderId:this.renderId}}}if(!this.htmlMap||!this.htmlMap[l])return;const{wrapContainer:u,nativeContainer:c}=this.htmlMap[l];this.updateStyleOfWrapContainer(t,i,u,c,r),this.htmlMap[l].renderId=this.renderId}}const ew={WIDTH:500,HEIGHT:500,X:0,Y:0,BACKGROUND:"white"};class M5 extends Fi{set viewBox(t){this.window.setViewBox(t)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(t){const e=this.window.getViewBox();e.translate(t-e.x1,0),this.window.setViewBox(e)}get y(){return this.window.getViewBox().y1}set y(t){const e=this.window.getViewBox();e.translate(0,t-e.y1),this.window.setViewBox(e)}get width(){return this.window.width}set width(t){this.resize(t,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(t){this.resizeView(t,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(t){this.resizeView(this.viewWidth,t)}get height(){return this.window.height}set height(t){this.resize(this.width,t)}get dpr(){return this.window.dpr}set dpr(t){this.setDpr(t)}get background(){var t;return(t=this._background)!==null&&t!==void 0?t:ew.BACKGROUND}set background(t){this._background=t}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}constructor(t={}){var e;super({}),this._onVisibleChange=r=>{if(!(this._skipRender<0))if(r){if(this.dirtyBounds){const i=this.window.getViewBox();this.dirtyBounds.setValue(i.x1,i.y1,i.width(),i.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=r=>{this._beforeRender&&this._beforeRender(r)},this.afterRender=r=>{this.renderCount++,this._afterRender&&this._afterRender(r),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach(i=>i(r)),this._afterNextRenderCbs=null},this.params=t,this.theme=new Hl,this.hooks={beforeRender:new En(["stage"]),afterRender:new En(["stage"])},this.global=Y.global,!this.global.env&&qO()&&this.global.setEnv("browser"),this.window=Ft.get(fh),this.renderService=Ft.get(WO),this.pluginService=Ft.get(YO),this.layerService=Ft.get(Ry),this.pluginService.active(this,t),this.window.create({width:t.width,height:t.height,viewBox:t.viewBox,container:t.container,dpr:t.dpr||this.global.devicePixelRatio,canvasControled:t.canvasControled!==!1,title:t.title||"",canvas:t.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=(e=t.background)!==null&&e!==void 0?e:ew.BACKGROUND,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=t.renderStyle,t.autoRender&&this.enableAutoRender(),t.disableDirtyBounds===!1&&this.enableDirtyBounds(),t.enableHtmlAttribute&&this.enableHtmlAttribute(t.enableHtmlAttribute),t.ReactDOM&&this.enableReactAttribute(t.ReactDOM),t.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),this._beforeRender=t.beforeRender,this._afterRender=t.afterRender,this.ticker=t.ticker||zy,this.supportInteractiveLayer=t.interactiveLayer!==!1,this.timeline=new yO,this.ticker.addTimeline(this.timeline),this.timeline.pause(),t.optimize||(t.optimize={}),this.optmize(t.optimize),t.background&&dt(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background})}pauseRender(){this._skipRender=-1}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new ZN(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(t){t?this._skipRender=-1/0:this.params.optimize.skipRenderWithOutRange!==!1?this._skipRender=this.window.isVisible()?0:1:this._skipRender=0}optmize(t){this.optmizeRender(t.skipRenderWithOutRange),this.params.optimize=t}optmizeRender(t=!1){t&&(this._skipRender=this._skipRender<0?this._skipRender:this.window.isVisible()?0:1,this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(t){const{center:e={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:r={},alpha:i=0,beta:s=0,camera:o,fieldRatio:a=1,fieldDepth:l}=t;return Object.assign(Object.assign({},t),{center:e,light:r,alpha:i,beta:s,camera:o,fieldRatio:a,fieldDepth:l})}set3dOptions(t){var e,r,i,s,o,a;this.option3d=t;const l=this.get3dOptions(t),{light:u,center:c,camera:h,alpha:d,beta:f,fieldRatio:p,fieldDepth:g}=l,{dir:_=[1,1,-1],color:m="white",ambient:y}=u,v=((e=c.x)!==null&&e!==void 0?e:this.width/2)+((r=c.dx)!==null&&r!==void 0?r:0),b=((i=c.y)!==null&&i!==void 0?i:this.height/2)+((s=c.dy)!==null&&s!==void 0?s:0),x=[v,b,((o=c.z)!==null&&o!==void 0?o:0)+((a=c.dz)!==null&&a!==void 0?a:0)];let w=0,C=0,S=0;h||(w=Math.sin(d)+v,C=Math.sin(f)+b,S=Math.cos(d)*Math.cos(f)*1),this.light=new S5(_,m,y);const k={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:p,fieldDepth:g,viewParams:{pos:[w,C,S],center:x,up:[0,1,0]}};this.camera?this.camera.params=k:this.camera=new k5(k),t.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(t){this._beforeRender=t}setAfterRender(t){this._afterRender=t}afterNextRender(t){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(t)}enableView3dTransform(){this.view3dTranform||(this.view3dTranform=!0,this.pluginService.register(new b5))}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new _5))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new w5))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new Mn;let t=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];t?t.activate(this.pluginService):(t=new x5,this.pluginService.register(t))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableLayout(){this._enableLayout||(this._enableLayout=!0,this.pluginService.register(new C5))}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableHtmlAttribute(t){this.htmlAttribute||(this.htmlAttribute=t,this.pluginService.register(new KO))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableReactAttribute(t){this.reactAttribute||(this.reactAttribute=t,this.pluginService.register(new A5))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach(t=>{this.pluginService.unRegister(t)}))}getPluginsByName(t){return this.pluginService.findPluginsByName(t)}tryUpdateAABBBounds(){const t=this.window.getViewBox();return this._AABBBounds.setValue(t.x1,t.y1,t.x2,t.y2),this._AABBBounds}combineLayer(t,e){throw new Error("")}createLayer(t,e){const r=this.layerService.createLayer(this,{main:!1,layerMode:e,canvasId:t});return this.appendChild(r),r}sortLayer(t){const e=this.children;e.sort(t),this.removeAllChild(),e.forEach(r=>{this.appendChild(r)})}removeLayer(t){return this.removeChild(this.findChildByUid(t))}tryInitInteractiveLayer(){this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(t){this.window.clearViewBox(t)}render(t,e){this.ticker.start(),this.timeline.resume();const r=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=e,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=r,this._skipRender&&this._skipRender++}combineLayersToWindow(){}renderNextFrame(t,e){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(t||this).forEach(r=>{this.nextFrameRenderLayerSet.add(r)}),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){this.timeline.resume(),this.ticker.start();const t=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=t,this._skipRender&&this._skipRender++}renderLayerList(t,e){const r=[];for(let i=0;i<t.length;i++){let s=t[i];s.layerMode==="virtual"&&(s=s.getNativeHandler().mainHandler.layer),r.includes(s)||r.push(s)}r.forEach(i=>{i.renderCount>this.renderCount||(i.renderCount=this.renderCount+1,i.render({renderService:this.renderService,background:i===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e)))}),this.interactiveLayer&&!t.includes(this.interactiveLayer)&&this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e))}resizeWindow(t,e,r=!0){this.window.resize(t,e),r&&this.render()}resize(t,e,r=!0){this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.window.resize(t,e),this.forEachChildren(i=>{i.resize(t,e)}),this.camera&&this.option3d&&this.set3dOptions(this.option3d),r&&this.render()}resizeView(t,e,r=!0){this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.forEachChildren(i=>{i.resizeView(t,e)}),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),r&&this.render()}setViewBox(t,e,r,i,s){let o=!0;typeof t=="object"?(this.viewBox.setValue(t.x1,t.y1,t.x2,t.y2),e===!1&&(o=!1)):(this.viewBox.setValue(t,e,t+r,e+i),s===!1&&(o=!1)),this.forEachChildren(a=>{a.resizeView(this.viewBox.width(),this.viewBox.height())}),o&&this.render()}setDpr(t,e=!0){this.forEachChildren(r=>{r.setDpr(t)}),e&&this.render()}setOrigin(t,e){throw new Error("")}export(t){throw new Error("")}pick(t,e){this.pickerService||(this.pickerService=Ft.get(ko));const r=this.pickerService.pick(this.children,new xe(t,e),{bounds:this.AABBBounds});return!(!(r!=null&&r.graphic)&&!(r!=null&&r.group))&&r}startAnimate(t){throw new Error("")}setToFrame(t){throw new Error("")}release(){super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach(t=>{t.release()}),this.interactiveLayer&&this.interactiveLayer.release(),this.window.release(),this.ticker.remTimeline(this.timeline),this.renderService.renderTreeRoots=[]}setStage(t){}dirty(t,e){e&&t.transformWithMatrix(e),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(t.x1,t.y1,t.x2,t.y2),this.dirtyBounds.union(t)}getLayer(t){return this.children.filter(e=>e.name===t)[0]}renderTo(t){this.forEachChildren((e,r)=>{e.drawTo(t,{renderService:this.renderService,viewBox:t.getViewBox(),transMatrix:t.getViewBoxTransform(),background:e===this.defaultLayer?this.background:void 0,clear:r===0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})})}renderToNewWindow(t=!0,e){const r=Ft.get(fh),i=e?-e.x1:0,s=e?-e.y1:0,o=e?e.x2:this.viewWidth,a=e?e.y2:this.viewHeight,l=e?e.width():this.viewWidth,u=e?e.height():this.viewHeight;return r.create({viewBox:{x1:i,y1:s,x2:o,y2:a},width:l,height:u,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(r),r}toCanvas(t=!0,e){const r=this.renderToNewWindow(t,e).getNativeHandler();return r.nativeCanvas?r.nativeCanvas:null}setCursor(t){this._cursor=t,this.eventSystem.setCursor(t,"ignore")}getCursor(){return this._cursor}eventPointTransform(t){const e=this.global.mapToCanvasPoint(t,this.window.getContext().canvas.nativeCanvas);return this.stage.window.pointTransform(e.x,e.y)}}function P5(n){return new M5(n)}var I5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},R5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};const wp={WIDTH:500,HEIGHT:500,DPR:1};let dl=class{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(n){this._x=n}get y(){return this._y}set y(n){this._y=n}get nativeCanvas(){return this._nativeCanvas}get width(){return this._pixelWidth}set width(n){this._pixelWidth=n,this._displayWidth=n/(this._dpr||1)}get height(){return this._pixelHeight}set height(n){this._pixelHeight=n,this._displayHeight=n/(this._dpr||1)}getContext(n){return this._context}get visiable(){return this._visiable}set visiable(n){this._visiable=n,n?this.show():this.hide()}get dpr(){return this._dpr}set dpr(n){this._dpr=n,this.resize(this._displayWidth,this._displayHeight)}constructor(n){var t;const{nativeCanvas:e,width:r=wp.WIDTH,height:i=wp.HEIGHT,dpr:s=wp.DPR,x:o,y:a,id:l,canvasControled:u=!0}=n;this._x=o??0,this._y=a??0,this._pixelWidth=r*s,this._pixelHeight=i*s,this._visiable=n.visiable!==!1,this.controled=u,this._displayWidth=r,this._displayHeight=i,this._dpr=s,this._nativeCanvas=e,this._id=(t=e.id)!==null&&t!==void 0?t:l,l&&(e.id=l),this.init(n)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(n){}resize(n,t){}toDataURL(n,t){return""}readPixels(n,t,e,r){return this._context.getImageData(n,t,e,r)}convertToBlob(n){throw new Error("")}transferToImageBitmap(){throw new Error("")}release(...n){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}};dl.env="browser",dl=I5([St(),R5("design:paramtypes",[Object])],dl);var D5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let Mh=class{configure(n,...t){n.env===this.type&&n.setActiveEnvContribution(this)}getNativeAABBBounds(n){return new je}removeDom(n){return!1}createDom(n){return null}updateDom(n,t){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(n){return document.getElementById(n)}getRootElement(){return document.body}loadJson(n){const t=fetch(n).then(e=>e.json());return t.then(e=>({data:e,state:"success"})).catch(()=>({data:null,state:"fail"})),t}loadArrayBuffer(n){return fetch(n).then(t=>t.arrayBuffer()).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadBlob(n){return fetch(n).then(t=>t.blob()).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}getElementTop(n,t){return 0}getElementLeft(n,t){return 0}getElementTopLeft(n,t){return{top:0,left:0}}};Mh=D5([St()],Mh);var B5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},L5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Ph=class{constructor(){this._uid=me.GenAutoIncrementId(),this.viewBox=new je,this.modelMatrix=new fe(1,0,0,1,0,0)}onChange(n){this._onChangeCb=n}configure(n,t){t.env===this.type&&n.setWindowHandler(this)}release(...n){this.releaseWindow()}isVisible(n){return!0}onVisibleChange(n){}getTopLeft(n){return{top:0,left:0}}setViewBox(n){this.viewBox.setValue(n.x1,n.y1,n.x2,n.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(n,t,e,r,i,s){this.modelMatrix.setValue(n,t,e,r,i,s)}getViewBoxTransform(){return this.modelMatrix}};Ph=B5([St(),L5("design:paramtypes",[])],Ph);var j5=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},N5=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},nw=function(n,t){return function(e,r){t(e,r,n)}};let Im=class{constructor(n){this.pickItemInterceptorContributions=n,this.type="default",this.global=Y.global}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((n,t)=>n.order-t.order)}pick(n,t,e){let r={graphic:null,group:null};e.pickerService=this;const i=e.bounds.width(),s=e.bounds.height();if(!new je().setValue(0,0,i,s).containsPoint(t))return r;this.pickContext&&(this.pickContext.inuse=!0),e.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);const o=new fe(1,0,0,1,0,0);let a;for(let l=n.length-1;l>=0&&(r=n[l].isContainer?this.pickGroup(n[l],t,o,e):this.pickItem(n[l],t,o,e),!r.graphic);l--)a||(a=r.group);if(r.graphic||(r.group=a),this.pickContext&&(this.pickContext.inuse=!1),r.graphic){let l=r.graphic;for(;l.parent;)l=l.parent;l.shadowHost&&(r.params={shadowTarget:r.graphic},r.graphic=l.shadowHost)}return r}containsPoint(n,t,e){var r;return!!(!((r=this.pickItem(n,t,null,e??{pickContext:this.pickContext,pickerService:this}))===null||r===void 0)&&r.graphic)}pickGroup(n,t,e,r){let i={group:null,graphic:null};if(n.attribute.visibleAll===!1)return i;const s=r.pickContext,o=s.modelMatrix;if(s.camera){const f=n.transMatrix,p=re.allocate();if(_m(p,f),o){if(p){const g=re.allocate();s.modelMatrix=hu(g,o,p),re.free(p)}}else _m(p,n.globalTransMatrix),s.modelMatrix=p}if(this.InterceptorContributions.length)for(let f=0;f<this.InterceptorContributions.length;f++){const p=this.InterceptorContributions[f];if(p.beforePickItem){const g=p.beforePickItem(n,this,t,r,{parentMatrix:e});if(g)return s.modelMatrix!==o&&re.free(s.modelMatrix),s.modelMatrix=o,g}}const a=n.transMatrix,l=Sr.allocateByObj(e),u=new xe(t.x,t.y);l.transformPoint(u,u);const c=n.AABBBounds.containsPoint(u);if(!c&&!n.stage.camera)return i;const h=this.pickItem(n,u.clone(),e,r);h&&h.graphic&&(i.graphic=h.graphic,i.params=h.params);const d=n.attribute.pickable!==!1&&c;return l.multiply(a.a,a.b,a.c,a.d,a.e,a.f),n.attribute.childrenPickable===!1||h&&h.graphic||XO(n,Xt.zIndex,f=>{if(f.isContainer){const p=new xe(t.x,t.y),g=Se(n).group,{scrollX:_=g.scrollX,scrollY:m=g.scrollY}=n.attribute;p.x-=_,p.y-=m,i=this.pickGroup(f,p,l,r)}else{const p=new xe(t.x,t.y);l.transformPoint(p,p);const g=Se(n).group,{scrollX:_=g.scrollX,scrollY:m=g.scrollY}=n.attribute;p.x-=_,p.y-=m;const y=this.pickItem(f,p,e,r);y&&y.graphic&&(i.graphic=y.graphic,i.params=y.params)}return!!i.graphic||!!i.group},!0,!!s.camera),s.modelMatrix!==o&&re.free(s.modelMatrix),s.modelMatrix=o,i.graphic||i.group||!d||n.stage.camera||(i.group=n),Sr.free(l),i}selectPicker(n){return this.pickerMap.get(n.numberType)||null}};Im=j5([St(),nw(0,Ne(Bn)),nw(0,fr(fo)),N5("design:paramtypes",[Object])],Im);function F5(){du.RegisterGraphicCreator("group",BO)}function z5(){du.RegisterGraphicCreator("shadowRoot",ZF)}const qo=(n,t)=>(bt(Ih.warnHandler)&&Ih.warnHandler.call(null,n,t),xt.getInstance().warn(`[VChart warn]: ${n}`)),Zo=(n,t,e)=>{{if(!bt(Ih.errorHandler))throw new Error(n);Ih.errorHandler.call(null,n,t)}},Ih={silent:!1,warnHandler:!1,errorHandler:!1},$5=qO();function fl(n){return(n==="desktop-browser"||n==="mobile-browser")&&$5}function Rm(n){return ZO(n)||n==="mobile-browser"}function ZO(n){return n.includes("miniApp")||n==="lynx"||n==="wx"}let xp=0;function fu(){return xp>=9999999&&(xp=0),xp++}function G5(n){return n!=null&&n!==""&&(!!Tt(n)||+n==+n)}const Ms=(n,t,e)=>(n.fields=t||[],n.fname=e,n),H5=n=>t=>_s(t,n),Cp=n=>{xt.getInstance().error(n)},V5=n=>{const t=[],e=n.length;let r,i,s,o=null,a=0,l="";n+="";const u=()=>{t.push(l+n.substring(r,i)),l="",r=i+1};for(r=0,i=0;i<e;i+=1)if(s=n[i],s==="\\")l+=n.substring(r,i),l+=n.substring(++i,++i),r=i;else if(s===o)u(),o=null,a=-1;else{if(o)continue;r===a&&s==='"'||r===a&&s==="'"?(r=i+1,o=s):s!=="."||a?s==="["?(i>r&&u(),r=i+1,a=r):s==="]"&&(a||Cp("Access path missing open bracket: "+n),a>0&&u(),a=0,r=i+1):i>r?u():r=i+1}return a&&Cp("Access path missing closing bracket: "+n),o&&Cp("Access path missing closing quote: "+n),i>r&&(i+=1,u()),t},rw=(n,t,e={})=>{if(bt(n))return n;const r=V5(n),i=r.length===1?r[0]:n;return Ms((e&&e.get||H5)(r),[i],i)},Ul=(n,t,e={})=>{if(ft(n)){const r=n.map(i=>rw(i,t,e));return i=>r.map(s=>s(i))}return rw(n,t,e)};Ul("id");const U5=Ms(function(n){return n},[],"identity");Ms(function(){return 0},[],"zero");Ms(function(){return 1},[],"one");Ms(function(){return!0},[],"true");Ms(function(){return!1},[],"false");Ms(function(){return{}},[],"emptyObject");const ef=(n,t,e,r=!0)=>{if(t===e)return!0;if(z(t)||z(e))return z(t)&&z(e);if(!tm(t)&&!tm(e))return t===e;const i=ft(t)?t:t[n],s=ft(e)?e:e[n];return i===s||r!==!1&&(ft(s)?!(!ft(i)||s.length!==i.length||!s.every((o,a)=>o===i[a])):!!zt(s)&&!(!zt(i)||Object.keys(s).length!==Object.keys(i).length||!Object.keys(s).every(o=>ef(o,s,i))))},iw=(n,t)=>z(n)?t:dt(n)?t*parseFloat(n)/100:n;var Be;(function(n){n.Identity="identity",n.Linear="linear",n.Log="log",n.Pow="pow",n.Sqrt="sqrt",n.Symlog="symlog",n.Time="time",n.Quantile="quantile",n.Quantize="quantize",n.Threshold="threshold",n.Ordinal="ordinal",n.Point="point",n.Band="band"})(Be||(Be={}));const QO={};Object.values(Be).forEach(n=>{QO[n]=!0});function W5(n){switch(n){case Be.Linear:case Be.Log:case Be.Pow:case Be.Sqrt:case Be.Symlog:case Be.Time:return!0;default:return!1}}function sw(n){return!!QO[n]}function Qo(n){switch(n){case Be.Ordinal:case Be.Point:case Be.Band:return!0;default:return!1}}function Pa(n){return n}function Dm(n,t){if(n=Number(n),t=Number(t),t-=n)return r=>(r-n)/t;const e=Number.isNaN(t)?NaN:.5;return()=>e}function ow(n,t,e){const r=n[0],i=n[1],s=t[0],o=t[1];let a,l;return i<r?(a=Dm(i,r),l=e(o,s)):(a=Dm(r,i),l=e(s,o)),u=>l(a(u))}function $y(n,t,e){let r;return r=n===1?n+2*e:n-t+2*e,n?r>0?r:1:0}function Y5(n,t,e,r){return e===1&&(e=0),$y(n,e,r)*(t/(1-e))}function X5(n,t,e,r,i){const s=$y(n,e,r);let o=t/Math.max(1,s||1);i&&(o=Math.floor(o));let a=o*(1-e);return i&&(a=Math.round(a)),a}function JO(n,t){const e=(n[1]-n[0])/(t[1]-t[0]),r=n[0]-e*t[0];return[r,e+r]}function K5(n,t,e){const r=Math.min(n.length,t.length)-1,i=new Array(r),s=new Array(r);let o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Dm(n[o],n[o+1]),s[o]=e(t[o],t[o+1]);return function(a){const l=PE(n,a,1,r)-1;return s[l](i[l](a))}}class tk{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(t){return this._wholeRange?this._wholeRange:q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&t.length===2?(this._wholeRange=JO(t,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):t}rangeFactor(t,e,r){return t?(t.length===2&&t.every(i=>i>=0&&i<=1)&&(this._wholeRange=null,t[0]===0&&t[1]===1?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=t[0],this._rangeFactorEnd=t[1])),this):r?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):q(this._rangeFactorStart)&&q(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(t,e){var r;return z(t)?this._rangeFactorStart:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!z(this._rangeFactorEnd)&&this._rangeFactorEnd!==1?(this._rangeFactorStart=t,this._rangeFactorEnd=(r=this._rangeFactorEnd)!==null&&r!==void 0?r:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(t,e){var r;return z(t)?this._rangeFactorEnd:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!z(this._rangeFactorStart)&&this._rangeFactorStart!==0?(this._rangeFactorEnd=t,this._rangeFactorStart=(r=this._rangeFactorStart)!==null&&r!==void 0?r:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var t;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:e=2,radiusRatio:r=.1,radius:i}=this._fishEyeOptions,s=this.range(),o=s[0],a=s[s.length-1],l=Math.min(o,a),u=Math.max(o,a),c=RE((t=this._fishEyeOptions.focus)!==null&&t!==void 0?t:0,l,u),h=z(i)?(u-l)*r:i;let d=Math.exp(e);d=d/(d-1)*h;const f=e/h;this._fishEyeTransform=p=>{const g=Math.abs(p-c);if(g>=h)return p;if(g<=1e-6)return c;const _=d*(1-Math.exp(-g*f))/g*.75+.25;return c+(p-c)*_}}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}}const Bm=Symbol("implicit");class pu extends tk{specified(t){var e;return t?(this._specified=Object.assign((e=this._specified)!==null&&e!==void 0?e:{},t),this):Object.assign({},this._specified)}_getSpecifiedValue(t){if(this._specified)return this._specified[t]}constructor(){super(),this.type=Be.Ordinal,this._index=new Map,this._domain=[],this._ordinalRange=[],this._unknown=Bm}clone(){const t=new pu().domain(this._domain).range(this._ordinalRange).unknown(this._unknown);return this._specified&&t.specified(this._specified),t}calculateVisibleDomain(t){return q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&t.length===2?[this.invert(t[0]),this.invert(t[1])]:this._domain}scale(t){const e=`${t}`,r=this._getSpecifiedValue(e);if(r!==void 0)return r;let i=this._index.get(e);if(!i){if(this._unknown!==Bm)return this._unknown;i=this._domain.push(t),this._index.set(e,i)}const s=this._ordinalRange[(i-1)%this._ordinalRange.length];return this._fishEyeTransform?this._fishEyeTransform(s):s}invert(t){let e=0;for(;e<this._ordinalRange.length&&this._ordinalRange[e]!==t;)e++;return this._domain[(e-1)%this._domain.length]}domain(t){if(!t)return this._domain.slice();this._domain=[],this._index=new Map;for(const e of t){const r=`${e}`;this._index.has(r)||this._index.set(r,this._domain.push(e))}return this}range(t){if(!t)return this._ordinalRange.slice();const e=Array.from(t);return this._ordinalRange=e,this}index(t){var e;return this._index&&(e=this._index.get(`${t}`))!==null&&e!==void 0?e:-1}}function aw(n,t,e,r){let i;const s=[];let o;if(t=Math.floor(+t),n=Math.floor(+n),!(e=Math.floor(+e)))return[];if(n===t)return[n];if(i=t<n){const u=n;n=t,t=u}let a=by(1,t-n+1)(e);if(o=Math.floor((t-n+1)/a),!r)for(;Math.ceil((t-n+1)/o)>e&&a>1;)a-=1,o=Math.floor((t-n)/a);let l=n;for(;l<=t;)s.push(l),l+=o;return i&&s.reverse(),s}function q5(n,t,e){const r=[];let i;if(t=Math.floor(+t),n=Math.floor(+n),e=by(1,t-n+1)(Math.floor(+e)),i=t<n){const o=n;n=t,t=o}let s=n;for(;s<=t;)r.push(s),s+=e;return i&&r.reverse(),r}class nf extends pu{constructor(t){super(),this.type=Be.Band,this._range=[0,1],this._step=void 0,this._bandwidth=void 0,this._isFixed=!1,this._round=!1,this._paddingInner=0,this._paddingOuter=0,this._align=.5,this._unknown=void 0,delete this.unknown,this.rescale(t)}rescale(t,e){if(t)return this;this._wholeRange=null;const r=this._calculateWholeRange(this._range,e),i=super.domain().length,s=r[1]<r[0];let o=r[Number(s)-0];const a=r[1-Number(s)],l=$y(i,this._paddingInner,this._paddingOuter);return this._step=(a-o)/Math.max(1,l||1),this._round&&(this._step=Math.floor(this._step)),o+=(a-o-this._step*(i-this._paddingInner))*this._align,this.isBandwidthFixed()||(this._bandwidth=this._step*(1-this._paddingInner)),this._round&&(o=Math.round(o),this.isBandwidthFixed()||(this._bandwidth=Math.round(this._bandwidth))),this._bandRangeState={reverse:s,start:s?o+this._step*(i-1):o,count:i},this.generateFishEyeTransform(),this}scale(t){if(!this._bandRangeState)return;const e=`${t}`,r=this._getSpecifiedValue(e);if(r!==void 0)return r;let i=this._index.get(e);if(!i){if(this._unknown!==Bm)return this._unknown;i=this._domain.push(t),this._index.set(e,i)}const{count:s,start:o,reverse:a}=this._bandRangeState,l=o+(a?-1:1)*((i-1)%s)*this._step;return this._fishEyeTransform?this._fishEyeTransform(l):l}_calculateWholeRange(t,e){if(this._wholeRange)return this._wholeRange;if((this._minBandwidth||this._maxBandwidth)&&!this._isBandwidthFixedByUser()){let r;if(q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&t.length===2){const s=JO(t,[this._rangeFactorStart,this._rangeFactorEnd]);r=Math.abs(s[1]-s[0])}else r=Math.abs(t[1]-t[0]);const i=X5(super.domain().length,r,this._paddingInner,this._paddingOuter,this._round);i<this._minBandwidth?(this._bandwidth=this._minBandwidth,this._isFixed=!0):i>this._maxBandwidth?(this._bandwidth=this._maxBandwidth,this._isFixed=!0):(this._bandwidth=i,this._isFixed=!1)}if(this.isBandwidthFixed()){const r=Y5(super.domain().length,this._bandwidth,this._paddingInner,this._paddingOuter)*Math.sign(t[1]-t[0]),i=Math.min((t[1]-t[0])/r,1);if(q(this._rangeFactorStart)&&q(this._rangeFactorEnd)){if(r>0){const a=t[0]-r*this._rangeFactorStart,l=a+r;this._wholeRange=[a,l]}else{const a=t[1]+r*(1-this._rangeFactorEnd),l=a-r;this._wholeRange=[l,a]}const s=this._rangeFactorStart+i<=1,o=this._rangeFactorEnd-i>=0;e==="rangeFactorStart"&&s?this._rangeFactorEnd=this._rangeFactorStart+i:e==="rangeFactorEnd"&&o?this._rangeFactorStart=this._rangeFactorEnd-i:t[0]<=t[1]?s?this._rangeFactorEnd=this._rangeFactorStart+i:o?this._rangeFactorStart=this._rangeFactorEnd-i:(this._rangeFactorStart=0,this._rangeFactorEnd=i):o?this._rangeFactorStart=this._rangeFactorEnd-i:s?this._rangeFactorEnd=this._rangeFactorStart+i:(this._rangeFactorStart=1-i,this._rangeFactorEnd=1)}else this._rangeFactorStart=0,this._rangeFactorEnd=i,this._wholeRange=[t[0],t[0]+r];return this._wholeRange}return super._calculateWholeRange(t)}calculateWholeRangeSize(){const t=this._calculateWholeRange(this._range);return Math.abs(t[1]-t[0])}calculateVisibleDomain(t){const e=this._domain;if(q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&e.length){const r=this._getInvertIndex(t[0]),i=this._getInvertIndex(t[1]);return e.slice(Math.min(r,i),Math.max(r,i)+1)}return e}domain(t,e){return t?(super.domain(t),this.rescale(e)):super.domain()}range(t,e){return t?(this._range=[za(t[0]),za(t[1])],this.rescale(e)):this._range}rangeRound(t,e){return this._range=[za(t[0]),za(t[1])],this._round=!0,this.rescale(e)}ticks(t=10){const e=this.calculateVisibleDomain(this._range);return t===-1?e:aw(0,e.length-1,t,!1).map(r=>e[r])}tickData(t=10){return this.ticks(t).map((e,r)=>({index:r,tick:e,value:(this.scale(e)-this._range[0]+this._bandwidth/2)/(this._range[1]-this._range[0])}))}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return aw(0,e.length-1,t,!0).filter(r=>r<e.length).map(r=>e[r])}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return q5(0,e.length-1,t).map(r=>e[r])}_getInvertIndex(t){let e=0;const r=this.step()/2,i=this.bandwidth()/2,s=this._domain.length,o=this.range(),a=o[0]>o[o.length-1];for(e=0;e<s;e++){const l=this.scale(this._domain[e])+i;if(e===0&&(!a&&!K1(t,l+r)||a&&!q1(t,l-r))||e===s-1||!q1(t,l-r)&&!K1(t,l+r))break}return e>=0&&e<=s-1?e:s-1}invert(t){return this._domain[this._getInvertIndex(t)]}padding(t,e){return t!==void 0?(this._paddingOuter=Math.max(0,Math.min(Array.isArray(t)?Math.min.apply(null,t):t)),this._paddingInner=this._paddingOuter,this.rescale(e)):this._paddingInner}paddingInner(t,e){return t!==void 0?(this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale(e)):this._paddingInner}paddingOuter(t,e){return t!==void 0?(this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale(e)):this._paddingOuter}step(){return this._step}round(t,e){return t!==void 0?(this._round=t,this.rescale(e)):this._round}align(t,e){return t!==void 0?(this._align=Math.max(0,Math.min(1,t)),this.rescale(e)):this._align}rangeFactor(t,e){return t?(super.rangeFactor(t),this.rescale(e)):super.rangeFactor()}rangeFactorStart(t,e){return z(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this.rescale(e,"rangeFactorStart"))}rangeFactorEnd(t,e){return z(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this.rescale(e,"rangeFactorEnd"))}bandwidth(t,e){return t?(t==="auto"?(this._bandwidth=void 0,this._isFixed=!1):(this._bandwidth=t,this._isFixed=!0),this._userBandwidth=t,this.rescale(e)):this._bandwidth}maxBandwidth(t,e){return t?(this._maxBandwidth=t==="auto"?void 0:t,this.rescale(e)):this._maxBandwidth}minBandwidth(t,e){return t?(this._minBandwidth=t==="auto"?void 0:t,this.rescale(e)):this._minBandwidth}fishEye(t,e,r){return t||r?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(e)):this._fishEyeOptions}isBandwidthFixed(){return this._isFixed&&!!this._bandwidth}_isBandwidthFixedByUser(){return this._isFixed&&this._userBandwidth&&Tt(this._userBandwidth)}clone(){var t,e,r;return new nf(!0).domain(this._domain,!0).range(this._range,!0).round(this._round,!0).paddingInner(this._paddingInner,!0).paddingOuter(this._paddingOuter,!0).align(this._align,!0).bandwidth((t=this._userBandwidth)!==null&&t!==void 0?t:"auto",!0).maxBandwidth((e=this._maxBandwidth)!==null&&e!==void 0?e:"auto",!0).minBandwidth((r=this._maxBandwidth)!==null&&r!==void 0?r:"auto")}}const{interpolateRgb:Sp}=v3;function Z5(n,t){const e=typeof t;let r;if(z(t)||e==="boolean")return()=>t;if(e==="number")return yc(n,t);if(e==="string"){if(r=Qe.parseColorString(t)){const i=Sp(Qe.parseColorString(n),r);return s=>i(s).formatRgb()}return yc(Number(n),Number(t))}return t instanceof De?Sp(n,t):t instanceof Qe?Sp(n.color,t.color):t instanceof Date?l3(n,t):yc(Number(n),Number(t))}class Q5 extends tk{constructor(t=Pa,e=Pa){super(),this._unknown=void 0,this.transformer=t,this.untransformer=e,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=Pa,this._piecewise=ow,this._interpolate=Z5}calculateVisibleDomain(t){var e;return q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&t.length===2?[this.invert(t[0]),this.invert(t[1])]:(e=this._niceDomain)!==null&&e!==void 0?e:this._domain}fishEye(t,e,r){return t||r?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(e)):this._fishEyeOptions}scale(t){var e;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise(((e=this._niceDomain)!==null&&e!==void 0?e:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const r=this._output(this.transformer(this._clamp(t)));return this._fishEyeTransform?this._fishEyeTransform(r):r}invert(t){var e;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),((e=this._niceDomain)!==null&&e!==void 0?e:this._domain).map(this.transformer),yc)),this._clamp(this.untransformer(this._input(t)))}domain(t,e){var r;if(!t)return((r=this._niceDomain)!==null&&r!==void 0?r:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const i=Array.from(t,za);return this._domain=i,this.rescale(e)}range(t,e){if(!t)return this._range.slice();const r=Array.from(t);return this._range=r,this.rescale(e)}rangeRound(t,e){const r=Array.from(t);return this._range=r,this._interpolate=a3,this.rescale(e)}rescale(t){var e;if(t)return this;const r=(e=this._niceDomain)!==null&&e!==void 0?e:this._domain,i=r.length,s=this._range.length;let o=Math.min(i,s);if(i&&i<s&&this._forceAlign){const a=s-i+1,l=r[i-1],u=i>=2?(l-r[i-2])/a:0;for(let c=1;c<=a;c++)r[i-2+c]=l-u*(a-c);o=s}return this._autoClamp&&(this._clamp=by(r[0],r[o-1])),this._piecewise=o>2?K5:ow,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(t,e,r){return arguments.length?(e?(this._autoClamp=!1,this._clamp=e):(this._autoClamp=!!t,this._clamp=t?void 0:Pa),this.rescale(r)):this._clamp!==Pa}interpolate(t,e){return arguments.length?(this._interpolate=t,this.rescale(e)):this._interpolate}ticks(t=10){return[]}tickData(t=10){const e=this.ticks(t);return(e??[]).map((r,i)=>({index:i,tick:r,value:(this.scale(r)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(t,e){return t?(super.rangeFactor(t),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(t,e){return z(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this._output=this._input=null,this)}rangeFactorEnd(t,e){return z(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this._output=this._input=null,this)}forceAlignDomainRange(t){return arguments.length?(this._forceAlign=t,this):this._forceAlign}}const J5=Math.sqrt(50),tz=Math.sqrt(10),ez=Math.sqrt(2),nc=[1,2,5,10],lw=(n,t,e)=>{let r=1,i=n;const s=Math.floor((t-1)/2),o=Math.abs(n);return n>=0&&n<=Number.MIN_VALUE?i=0:n<0&&n>=-Number.MIN_VALUE?i=-(t-1):!e&&o<1?r=ek(o).step:(e||o>1)&&(i=Math.floor(n)-s*r),r>0?(n>0?i=Math.max(i,0):n<0&&(i=Math.min(i,-(t-1)*r)),r3(0,t).map(a=>i+a*r)):n>0?Rh(0,-(t-1)/r,r):Rh((t-1)/r,0,r)},nz=IE((n,t,e,r)=>{let i,s,o,a,l=-1;if(e=+e,(n=+n)==(t=+t))return[n];if(Math.abs(n-t)<=Number.MIN_VALUE&&e>0)return[n];if((i=t<n)&&(s=n,n=t,t=s),a=Gy(n,t,e).step,!isFinite(a))return[];if(a>0){let u=Math.round(n/a),c=Math.round(t/a);for(u*a<n&&++u,c*a>t&&--c,o=new Array(s=c-u+1);++l<s;)o[l]=(u+l)*a}else if(a<0&&(r!=null&&r.noDecimals)){a=1;const u=Math.ceil(n),c=Math.floor(t);if(!(u<=c))return[];for(o=new Array(s=c-u+1);++l<s;)o[l]=u+l}else{a=-a;let u=Math.round(n*a),c=Math.round(t*a);for(u/a<n&&++u,c/a>t&&--c,o=new Array(s=c-u+1);++l<s;)o[l]=(u+l)/a}return i&&o.reverse(),o}),Rh=(n,t,e)=>{let r,i,s=-1;if(e>0){let o=Math.floor(n/e),a=Math.ceil(t/e);for((o+1)*e<n&&++o,(a-1)*e>t&&--a,i=new Array(r=a-o+1);++s<r;)i[s]=(o+s)*e}else{e=-e;let o=Math.floor(n*e),a=Math.ceil(t*e);for((o+1)/e<n&&++o,(a-1)/e>t&&--a,i=new Array(r=a-o+1);++s<r;)i[s]=(o+s)/e}return i},rz=(n,t,e)=>{let r;const i=n[0],s=n[n.length-1],o=t-n.length;if(s<=0){const u=[];for(r=o;r>=1;r--)u.push(i-r*e);return u.concat(n)}if(i>=0){for(r=1;r<=o;r++)n.push(s+r*e);return n}let a=[];const l=[];for(r=1;r<=o;r++)r%2==0?a=[i-Math.floor(r/2)*e].concat(a):l.push(s+Math.ceil(r/2)*e);return a.concat(n).concat(l)},iz=IE((n,t,e,r)=>{let i,s,o;if(e=+e,(n=+n)==(t=+t)||Math.abs(n-t)<=Number.MIN_VALUE&&e>0)return lw(n,e,r==null?void 0:r.noDecimals);(i=t<n)&&(o=n,n=t,t=o);const a=Gy(n,t,e);let l=a.step;if(!isFinite(l))return[];if(l>0){let u=1;const{power:c,gap:h}=a,d=h===10?2*10**c:1*10**c;for(;u<=5&&(s=Rh(n,t,l),s.length>e+1)&&e>2;)l+=d,u+=1;e>2&&s.length<e-1&&(s=rz(s,e,l))}else r!=null&&r.noDecimals&&l<0&&(l=1),s=Rh(n,t,l);return i&&s.reverse(),s}),ek=n=>{const t=Math.floor(Math.log(n)/Math.LN10),e=n/10**t;let r=nc[0];return e>=J5?r=nc[3]:e>=tz?r=nc[2]:e>=ez&&(r=nc[1]),t>=0?{step:r*10**t,gap:r,power:t}:{step:-(10**-t)/r,gap:r,power:t}};function Gy(n,t,e){const r=(t-n)/Math.max(0,e);return ek(r)}function sz(n,t,e){let r;if(e=+e,(n=+n)==(t=+t)&&e>0)return[n];if(e<=0||(r=oz(n,t,e))===0||!isFinite(r))return[];const i=new Array(e);for(let s=0;s<e;s++)i[s]=n+s*r;return i}function oz(n,t,e){return(t-n)/Math.max(1,e-1)}function az(n,t,e){let r,i,s=-1;if(e=+e,(i=(t=+t)<(n=+n))&&(r=n,n=t,t=r),!isFinite(e)||t-n<=e)return[n];const o=Math.floor((t-n)/e+1),a=new Array(o);for(;++s<o;)a[s]=n+s*e;return i&&a.reverse(),a}function Ep(n,t=10){let e,r,i=0,s=n.length-1,o=n[i],a=n[s],l=10;for(a<o&&(r=o,o=a,a=r,r=i,i=s,s=r);l-- >0;){if(r=Gy(o,a,t).step,r===e)return n[i]=o,n[s]=a,n;if(r>0)o=Math.floor(o/r)*r,a=Math.ceil(a/r)*r;else{if(!(r<0))break;o=Math.ceil(o*r)/r,a=Math.floor(a*r)/r}e=r}}function lz(n,t){const e=Tt(t.forceMin),r=Tt(t.forceMax);let i=null;const s=[];let o=null;const a=e&&r?l=>l>=t.forceMin&&l<=t.forceMax:e?l=>l>=t.forceMin:r?l=>l<=t.forceMax:null;return e?s[0]=t.forceMin:Tt(t.min)&&t.min<=Math.min(n[0],n[n.length-1])&&(s[0]=t.min),r?s[1]=t.forceMax:Tt(t.max)&&t.max>=Math.max(n[0],n[n.length-1])&&(s[1]=t.max),Tt(s[0])&&Tt(s[1])?(o=n.slice(),o[0]=s[0],o[o.length-1]=s[1]):i=Tt(s[0])||Tt(s[1])?Tt(s[0])?"max":"min":"all",{niceType:i,niceDomain:o,niceMinMax:s,domainValidator:a}}class Hy extends Q5{constructor(){super(...arguments),this.type=Be.Linear}clone(){return new Hy().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}tickFormat(){return()=>{}}d3Ticks(t=10,e){const r=this.calculateVisibleDomain(this._range);return nz(r[0],r[r.length-1],t,e)}ticks(t=10,e){var r;if(q(this._rangeFactorStart)&&q(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&this._range.length===2||!this._niceType)return this.d3Ticks(t,e);const i=(r=this._niceDomain)!==null&&r!==void 0?r:this._domain,s=this._domain,o=i[0],a=i[i.length-1];let l=iz(s[0],s[s.length-1],t,e);if(!l.length)return l;if(this._domainValidator)l=l.filter(this._domainValidator);else if((l[0]!==o||l[l.length-1]!==a)&&this._niceType){const u=i.slice();if(this._niceType==="all"?(u[0]=l[0],u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()):this._niceType==="min"&&l[0]!==o?(u[0]=l[0],this._niceDomain=u,this.rescale()):this._niceType==="max"&&l[l.length-1]!==a&&(u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()),this._niceType!=="all"){const c=Math.min(u[0],u[u.length-1]),h=Math.max(u[0],u[u.length-1]);l=l.filter(d=>d>=c&&d<=h)}}return l}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return sz(e[0],e[e.length-1],t)}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return az(e[0],e[e.length-1],t)}nice(t=10,e){var r,i;const s=this._domain;let o=[];if(e){const a=lz(s,e);if(o=a.niceMinMax,this._domainValidator=a.domainValidator,this._niceType=a.niceType,a.niceDomain)return this._niceDomain=a.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const a=Ep(s.slice(),t);this._niceType==="min"?a[a.length-1]=(r=o[1])!==null&&r!==void 0?r:a[a.length-1]:this._niceType==="max"&&(a[0]=(i=o[0])!==null&&i!==void 0?i:a[0]),this._niceDomain=a,this.rescale()}return this}niceMin(t=10){this._niceType="min";const e=this._domain[this._domain.length-1],r=Ep(this.domain(),t);return r&&(r[r.length-1]=e,this._niceDomain=r,this.rescale()),this}niceMax(t=10){this._niceType="max";const e=this._domain[0],r=Ep(this._domain.slice(),t);return r&&(r[0]=e,this._niceDomain=r,this.rescale()),this}}class uz extends nf{constructor(t){super(!1),this.type=Be.Point,this._padding=0,this.paddingInner(1,t),this.padding=this.paddingOuter,this.paddingInner=void 0,this.paddingOuter=void 0}}class Vy{constructor(){this.type=Be.Threshold,this._range=[0,1],this._domain=[.5],this.n=1}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}scale(t){return!z(t)&&mt(+t)?this._range[PE(this._domain,t,0,this.n)]:this._unknown}invertExtent(t){const e=this._range.indexOf(t);return[this._domain[e-1],this._domain[e]]}domain(t){return t?(this._domain=Array.from(t),this.n=Math.min(this._domain.length,this._range.length-1),this):this._domain.slice()}range(t){return t?(this._range=Array.from(t),this.n=Math.min(this._domain.length,this._range.length-1),this):this._range.slice()}clone(){return new Vy().domain(this._domain).range(this._range).unknown(this._unknown)}}const cz=(n,t,e,r)=>new Je(Object.assign({defaultFontParams:Object.assign({fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14},r),getTextBounds:e?void 0:c4,specialCharSet:`-/: .,@%'"~`+Je.ALPHABET_CHAR_SET+Je.ALPHABET_CHAR_SET.toUpperCase()},t??{}),n);class hz{constructor(t){this.onPointerDown=e=>{const r=e.target,i=this.rootNode,s=r===i;if(r&&!s){let u=function(h){if(l||(h.type="dragstart",r==null||r.dispatchEvent(h),l=!0),h.type="drag",r==null||r.dispatchEvent(h),!s){r.attribute.pickable=!1;const d=(i==null?void 0:i.pick(h.global.x,h.global.y)).graphic;r.attribute.pickable=!0,a!==d&&(a&&(h.type="dragleave",h.target=a,a.dispatchEvent(h)),d&&(h.type="dragenter",h.target=d,d.dispatchEvent(h)),a=d,a&&(h.type="dragover",h.target=a,a.dispatchEvent(h)))}};var o=u;let a,l=!1;i==null||i.addEventListener("pointermove",u);const c=function(){l&&(a&&(e.type="drop",e.target=a,a.dispatchEvent(e)),e.type="dragend",r.dispatchEvent(e),l=!1),i==null||i.removeEventListener("pointermove",u)};r.addEventListener("pointerup",c,{once:!0}),r.addEventListener("pointerupoutside",c,{once:!0})}},this.rootNode=t,this.initEvents()}initEvents(){var t;(t=this.rootNode)===null||t===void 0||t.addEventListener("pointerdown",this.onPointerDown)}removeEvents(){var t;(t=this.rootNode)===null||t===void 0||t.removeEventListener("pointerdown",this.onPointerDown)}release(){this.removeEvents(),this.rootNode=null}}const uw=(n,t)=>{const e=t.x-n.x,r=t.y-n.y;return Math.abs(e)>Math.abs(r)?e>0?"right":"left":r>0?"down":"up"},rc=(n,t)=>{const e=Math.abs(t.x-n.x),r=Math.abs(t.y-n.y);return Math.sqrt(e*e+r*r)},dz=n=>{const t=n.length;if(t===1)return{x:Math.round(n[0].x),y:Math.round(n[0].y)};let e=0,r=0,i=0;for(;i<t;)e+=n[i].x,r+=n[i].y,i++;return{x:Math.round(e/t),y:Math.round(r/t)}};class fz extends Ts{constructor(t,e={}){var r,i,s,o,a,l,u,c,h,d;super(),this.cachedEvents=[],this.startPoints=[],this.processEvent={},this.throttleTimer=0,this.emitThrottles=[],this.lastTapTarget=null,this.onStart=f=>{this.reset(),this.startTime=ss.now();const{cachedEvents:p,startPoints:g}=this;f&&p.push(f.clone()),g.length=p.length;for(let _=0;_<p.length;_++){const{x:m,y}=p[_],v={x:m,y};g[_]=v}if(g.length!==1)this.startDistance=rc(g[0],g[1]),this.center=dz([g[0],g[1]]);else{const _=p[0];this.pressTimeout=setTimeout(()=>{_.direction="none",_.deltaX=0,_.deltaY=0,_.points=g,this.triggerStartEvent("press",_),this.triggerEvent("press",_),this.eventType="press",this.direction="none"},this.config.press.time)}},this.onMove=f=>{this.clearPressTimeout();const{startPoints:p,cachedEvents:g}=this;if(!p.length)return;const _=f.clone(),{x:m,y,pointerId:v}=_;for(let k=0,O=g.length;k<O;k++)if(v===g[k].pointerId){g[k]=_;break}const b={x:m,y},x=g.map(k=>({x:k.x,y:k.y})),w=ss.now();if(this.prevMoveTime=this.lastMoveTime,this.prevMovePoint=this.lastMovePoint,this.lastMoveTime=w,this.lastMovePoint=b,p.length===1){const k=p[0],O=m-k.x,T=y-k.y,I=this.direction||uw(k,b);this.direction=I;const R=this.getEventType(b);return _.direction=I,_.deltaX=O,_.deltaY=T,_.points=x,this.triggerStartEvent(R,_),void this.triggerEvent(R,_)}const{startDistance:C}=this,S=rc(x[0],x[1]);_.scale=S/C,_.center=this.center,_.points=x,this.triggerStartEvent("pinch",_),this.triggerEvent("pinch",_)},this.onEnd=f=>{const p=f.clone(),{cachedEvents:g,startPoints:_}=this,m=g.map(y=>({x:y.x,y:y.y}));if(p.points=m,this.triggerEndEvent(p),g.length===1){const y=ss.now(),v=this.lastMoveTime;if(y-v<100){const b=v-(this.prevMoveTime||this.startTime);if(b>0){const x=this.prevMovePoint||_[0],w=this.lastMovePoint||_[0],C=rc(x,w),S=C/b;S>this.config.swipe.velocity&&C>this.config.swipe.threshold&&(p.velocity=S,p.direction=uw(x,w),this.triggerEvent("swipe",p))}}y-this.lastTapTime<this.config.tap.interval&&f.target===this.lastTapTarget?this.tapCount++:this.tapCount=1,this.lastTapTime=y,this.lastTapTarget=f.target,this.tapCount===1?this.triggerEvent("tap",p):this.tapCount===2&&(this.triggerEvent("doubletap",p),this.tapCount=0)}for(let y=0,v=g.length;y<v;y++)if(g[y].pointerId===p.pointerId){g.splice(y,1),_.splice(y,1);break}this.reset(),g.length>0&&this.onStart()},this.element=t,this.tapCount=0,this.lastTapTime=0,this.config={press:{time:(i=(r=e==null?void 0:e.press)===null||r===void 0?void 0:r.time)!==null&&i!==void 0?i:251,threshold:(o=(s=e==null?void 0:e.press)===null||s===void 0?void 0:s.threshold)!==null&&o!==void 0?o:9},swipe:{threshold:(l=(a=e==null?void 0:e.swipe)===null||a===void 0?void 0:a.threshold)!==null&&l!==void 0?l:10,velocity:(c=(u=e==null?void 0:e.swipe)===null||u===void 0?void 0:u.velocity)!==null&&c!==void 0?c:.3},tap:{interval:(d=(h=e==null?void 0:e.tap)===null||h===void 0?void 0:h.interval)!==null&&d!==void 0?d:300}},this.initEvents()}initEvents(){const{element:t}=this;t&&(t.addEventListener("pointerdown",this.onStart),t.addEventListener("pointermove",this.onMove),t.addEventListener("pointerup",this.onEnd),t.addEventListener("pointerupoutside",this.onEnd))}removeEvents(){const{element:t}=this;t&&(t.removeEventListener("pointerdown",this.onStart),t.removeEventListener("pointermove",this.onMove),t.removeEventListener("pointerup",this.onEnd),t.removeEventListener("pointerupoutside",this.onEnd))}release(){this.removeEvents(),this.element=null}getEventType(t){const{eventType:e,startTime:r,startPoints:i}=this;if(e)return e;let s;return s=ss.now()-r>this.config.press.time&&rc(i[0],t)<this.config.press.threshold?"press":"pan",this.eventType=s,s}enable(t){this.processEvent[t]=!0}isProcess(t){return this.processEvent[t]}pushEvent(t,e){const{emitThrottles:r}=this,i={type:t,ev:e};for(let s=0,o=r.length;s<o;s++)if(r[s].type===t)return void r.splice(s,1,i);r.push(i)}clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}reset(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null}triggerEvent(t,e){this.pushEvent(t,e);const{throttleTimer:r,emitThrottles:i}=this;r||(this.throttleTimer=Y.global.getRequestAnimationFrame()(()=>{for(let s=0,o=i.length;s<o;s++){const{type:a,ev:l}=i[s];this.emitEvent(a,l)}this.throttleTimer=0,this.emitThrottles.length=0}))}triggerStartEvent(t,e){this.isProcess(t)||(this.enable(t),this.triggerEvent(`${t}start`,e))}triggerEndEvent(t){const e=this.processEvent;Object.keys(e).forEach(r=>{this.triggerEvent(`${r}end`,t),r==="press"&&this.triggerEvent(`${r}up`,t),delete e[r]})}emitEvent(t,e){const r=this.element._events[vO];if(r)if("fn"in r)r.fn.call(r.context,e,t);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e,t);this.emit(t,e)}}var pz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},gz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};const yt=[0,0,0],mz=(n,t,e,r,i,s,o,a)=>{if(a)for(;e>t;)e-=Vt;else for(;e<t;)e+=Vt;const l=ke/3*(e>t?1:-1);let u=t,c=u;for(;c!==e;){c=l>0?Math.min(c+l,e):Math.max(c+l,e);const h=Math.abs(c-u),d=4*Math.tan(h/4)/3,f=c<u?-1:1,p=Math.cos(u),g=Math.sin(u),_=Math.cos(c),m=Math.sin(c),y=p*s+r,v=g*o+i,b=_*s+r,x=m*o+i,w=s*d*f,C=o*d*f;n.push([y-w*g,v+C*p,b+w*m,x-C*_,b,x]),u=c}};let To=class{set fillStyle(n){this.nativeContext.fillStyle=n}get fillStyle(){return this.nativeContext.fillStyle}set font(n){this.nativeContext.font=n}get font(){return this.nativeContext.font}set globalAlpha(n){this.nativeContext.globalAlpha=n}get globalAlpha(){return this.nativeContext.globalAlpha}set lineCap(n){this.nativeContext.lineCap=n}get lineCap(){return this.nativeContext.lineCap}set lineDashOffset(n){this.nativeContext.lineDashOffset=n}get lineDashOffset(){return this.nativeContext.lineDashOffset}set lineJoin(n){this.nativeContext.lineJoin=n}get lineJoin(){return this.nativeContext.lineJoin}set lineWidth(n){this.nativeContext.lineWidth=n}get lineWidth(){return this.nativeContext.lineWidth}set miterLimit(n){this.nativeContext.miterLimit=n}get miterLimit(){return this.nativeContext.miterLimit}set shadowBlur(n){this.nativeContext.shadowBlur=n}get shadowBlur(){return this.nativeContext.shadowBlur}set shadowColor(n){this.nativeContext.shadowColor=n}get shadowColor(){return this.nativeContext.shadowColor}set shadowOffsetX(n){this.nativeContext.shadowOffsetX=n}get shadowOffsetX(){return this.nativeContext.shadowOffsetX}set shadowOffsetY(n){this.nativeContext.shadowOffsetY=n}get shadowOffsetY(){return this.nativeContext.shadowOffsetY}set strokeStyle(n){this.nativeContext.strokeStyle=n}get strokeStyle(){return this.nativeContext.strokeStyle}set textAlign(n){this.nativeContext.textAlign=n}get textAlign(){return this.nativeContext.textAlign}set textBaseline(n){this.nativeContext.textBaseline=n}get textBaseline(){return this.nativeContext.textBaseline}get inuse(){return!!this._inuse}set inuse(n){n!==!!this._inuse&&(this._inuse=n,n?(this.nativeContext.save(),this.reset()):this.nativeContext.restore())}constructor(n,t){this.fillAttributes=Object.assign(Object.assign({},aO),{opacity:1}),this.strokeAttributes=Object.assign(Object.assign({},lO),{opacity:1}),this.textAttributes=Object.assign(Object.assign({},Tr),{opacity:1}),this._clearShadowStyle=!1,this._clearFilterStyle=!1,this._clearGlobalCompositeOperationStyle=!1;const e=n.nativeCanvas.getContext("2d");if(!e)throw new Error("2d");this.nativeContext=e,this.canvas=n,this.matrix=new fe(1,0,0,1,0,0),this.stack=[],this.dpr=t,this.applyedMatrix=new fe(1,0,0,1,0,0),this._clearMatrix=new fe(1,0,0,1,0,0)}reset(){this.stack.length&&xt.getInstance().warn("bugmatrix"),this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new fe(1,0,0,1,0,0),this.stack.length=0,this.nativeContext.setTransform(1,0,0,1,0,0)}getCanvas(){return this.canvas}getContext(){return this.nativeContext}setTransformForCurrent(n=!1){!n&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix.setValue(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f),this.nativeContext.setTransform(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f))}get currentMatrix(){return this.matrix}cloneMatrix(n){return Sr.allocateByObj(n)}clear(){this.save(),this.resetTransform(),this.nativeContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()}restore(){this.nativeContext.restore(),this.stack.length>0&&(Sr.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent(!0))}highPerformanceRestore(){this.stack.length>0&&(Sr.free(this.matrix),this.matrix=this.stack.pop())}rotate(n,t=!0){this.matrix.rotate(n),t&&this.setTransformForCurrent()}save(){const n=this.cloneMatrix(this.matrix);this.stack.push(n),this.nativeContext.save()}highPerformanceSave(){const n=this.cloneMatrix(this.matrix);this.stack.push(n)}scale(n,t,e=!0){this.matrix.scale(n,t),e&&this.setTransformForCurrent()}setScale(n,t,e=!0){this.matrix.setScale(n,t),e&&this.setTransformForCurrent()}scalePoint(n,t,e,r,i=!0){this.translate(e,r,!1),this.scale(n,t,!1),this.translate(-e,-r,!1),i&&this.setTransformForCurrent()}setTransform(n,t,e,r,i,s,o=!0,a=this.dpr){this.matrix.setValue(a*n,a*t,a*e,a*r,a*i,a*s),o&&this.setTransformForCurrent()}setTransformFromMatrix(n,t=!0,e=this.dpr){this.matrix.setValue(n.a*e,n.b*e,n.c*e,n.d*e,n.e*e,n.f*e),t&&this.setTransformForCurrent()}resetTransform(n=!0,t=this.dpr){this.setTransform(t,0,0,t,0,0),n&&this.setTransformForCurrent()}transform(n,t,e,r,i,s,o=!0){this.matrix.multiply(n,t,e,r,i,s),o&&this.setTransformForCurrent()}transformFromMatrix(n,t){this.matrix.multiply(n.a,n.b,n.c,n.d,n.e,n.f),t&&this.setTransformForCurrent()}translate(n,t,e=!0){this.matrix.translate(n,t),e&&this.setTransformForCurrent()}rotateDegrees(n,t=!0){const e=n*Math.PI/180;this.rotate(e,t)}rotateAbout(n,t,e,r=!0){this.translate(t,e,!1),this.rotate(n,!1),this.translate(-t,-e,!1),r&&this.setTransformForCurrent()}rotateDegreesAbout(n,t,e,r=!0){this.translate(t,e,!1),this.rotateDegrees(n,!1),this.translate(-t,-e,!1),r&&this.setTransformForCurrent()}beginPath(){this.disableBeginPath||this.nativeContext.beginPath()}clip(n,t){n?typeof n=="string"?this.nativeContext.clip(n):this.nativeContext.clip(n,t):this.nativeContext.clip()}arc(n,t,e,r,i,s,o){if(o=o||0,this.camera){const a=[];mz(a,r,i,n,t,e,e,s);for(let l=0;l<a.length;++l){const u=a[l];this.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5],o)}}else this.nativeContext.arc(n,t,e,r,i,s)}arcTo(n,t,e,r,i){this.nativeContext.arcTo(n,t,e,r,i)}bezierCurveTo(n,t,e,r,i,s,o){if(o=o||0,this.camera){let a=o,l=o;this.modelMatrix&&(wn(yt,[n,t,o],this.modelMatrix),n=yt[0],t=yt[1],a=yt[2],wn(yt,[e,r,o],this.modelMatrix),e=yt[0],r=yt[1],l=yt[2],wn(yt,[i,s,o],this.modelMatrix),i=yt[0],s=yt[1],o=yt[2]);let u=this.camera.vp(i,s,o);i=u.x,s=u.y,u=this.camera.vp(n,t,a),n=u.x,t=u.y,u=this.camera.vp(e,r,l),e=u.x,r=u.y}this.nativeContext.bezierCurveTo(n,t,e,r,i,s)}closePath(){this.nativeContext.closePath()}ellipse(n,t,e,r,i,s,o,a){a==null?this.nativeContext.ellipse(n,t,e,r,i,s,o):this.nativeContext.ellipse(n,t,e,r,i,s,o,a)}lineTo(n,t,e){if(e=e||0,this.camera){this.modelMatrix&&(wn(yt,[n,t,e],this.modelMatrix),n=yt[0],t=yt[1],e=yt[2]);const r=this.camera.vp(n,t,e);n=r.x,t=r.y}this.nativeContext.lineTo(n,t)}moveTo(n,t,e){if(e=e||0,this.camera){this.modelMatrix&&(wn(yt,[n,t,e],this.modelMatrix),n=yt[0],t=yt[1],e=yt[2]);const r=this.camera.vp(n,t,e);n=r.x,t=r.y}this.nativeContext.moveTo(n,t)}quadraticCurveTo(n,t,e,r,i){if(i=i||0,this.camera){let s=i;this.modelMatrix&&(wn(yt,[n,t,i],this.modelMatrix),n=yt[0],t=yt[1],s=yt[2],wn(yt,[e,r,i],this.modelMatrix),e=yt[0],r=yt[1],i=yt[2]);let o=this.camera.vp(e,r,i);e=o.x,r=o.y,o=this.camera.vp(n,t,s),n=o.x,t=o.y}this.nativeContext.quadraticCurveTo(n,t,e,r)}rect(n,t,e,r,i){i=i||0,this.camera?(this.moveTo(n,t,i),this.lineTo(n+e,t,i),this.lineTo(n+e,t+r,i),this.lineTo(n,t+r,i),this.closePath()):this.nativeContext.rect(n,t,e,r)}createImageData(){const n=arguments;return n.length===2?this.nativeContext.createImageData(n[0],n[1]):n.length===1?this.nativeContext.createImageData(n[0]):null}createLinearGradient(n,t,e,r){return this.nativeContext.createLinearGradient(n,t,e,r)}createPattern(n,t){return n.width===0||n.height===0?null:this.nativeContext.createPattern(n,t)}createRadialGradient(n,t,e,r,i,s){return this.nativeContext.createRadialGradient(n,t,e,r,i,s)}createConicGradient(n,t,e,r){let i,s=!1;const o=this;return{stops:[],addColorStop(a,l){this.stops.push([a,l]),s=!0},GetPattern(a,l,u){return s&&(u||(u=r-e),i=UF(o,this.stops,n,t,u,e,r,a,l),s=!1),i}}}fill(n,t){this.disableFill||(n?this.nativeContext.fill(n):this.nativeContext.fill())}fillRect(n,t,e,r){this.nativeContext.fillRect(n,t,e,r)}clearRect(n,t,e,r){this.nativeContext.clearRect(n,t,e,r)}project(n,t,e){if(e=e||0,this.camera){this.modelMatrix&&(wn(yt,[n,t,e],this.modelMatrix),n=yt[0],t=yt[1],e=yt[2]);const r=this.camera.vp(n,t,e);n=r.x,t=r.y}return{x:n,y:t}}view(n,t,e){return e=e||0,this.camera?(this.modelMatrix&&(wn(yt,[n,t,e],this.modelMatrix),n=yt[0],t=yt[1],e=yt[2]),this.camera.view(n,t,e)):[n,t,e]}fillText(n,t,e,r){if(r=r||0,this.camera){this.modelMatrix&&(wn(yt,[t,e,r],this.modelMatrix),t=yt[0],e=yt[1],r=yt[2]);const i=this.camera.vp(t,e,r);t=i.x,e=i.y}this.nativeContext.fillText(n,t,e)}getImageData(n,t,e,r){return this.nativeContext.getImageData(n,t,e,r)}getLineDash(){return this.nativeContext.getLineDash()}isPointInPath(n,t){return this.nativeContext.isPointInPath(n,t)}isPointInStroke(n,t){return this.nativeContext.isPointInStroke(n,t)}measureText(n,t=Y.global.measureTextMethod){var e,r;if(!t||t==="native")return this.nativeContext.measureText(n);this.mathTextMeasure||(this.mathTextMeasure=Y.graphicUtil.createTextMeasureInstance({},{},()=>this.canvas.nativeCanvas));const i=(e=this.fontFamily)!==null&&e!==void 0?e:Tr.fontFamily,s=(r=this.fontSize)!==null&&r!==void 0?r:Tr.fontSize;return this.mathTextMeasure.textSpec.fontFamily===i&&this.mathTextMeasure.textSpec.fontSize===s||(this.mathTextMeasure.textSpec.fontFamily=i,this.mathTextMeasure.textSpec.fontSize=s,this.mathTextMeasure._numberCharSize=null,this.mathTextMeasure._fullCharSize=null,this.mathTextMeasure._letterCharSize=null,this.mathTextMeasure._specialCharSizeMap={}),this.mathTextMeasure.measure(n,t)}putImageData(n,t,e){this.nativeContext.putImageData(n,t,e)}setLineDash(n){const t=arguments,e=this.nativeContext;this.nativeContext.setLineDash?t[0]&&e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])}stroke(n){this.disableStroke||(n?this.nativeContext.stroke(n):this.nativeContext.stroke())}strokeRect(n,t,e,r){this.nativeContext.strokeRect(n,t,e,r)}strokeText(n,t,e,r){if(r=r||0,this.camera){this.modelMatrix&&(wn(yt,[t,e,r],this.modelMatrix),t=yt[0],e=yt[1],r=yt[2]);const i=this.camera.vp(t,e,r);t=i.x,e=i.y}this.nativeContext.strokeText(n,t,e)}drawImage(){const n=this.nativeContext,t=arguments;t.length===3?n.drawImage(t[0],t[1],t[2]):t.length===5?n.drawImage(t[0],t[1],t[2],t[3],t[4]):t.length===9&&n.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}setCommonStyle(n,t,e,r,i){if(Array.isArray(i)){if(i.length<=1)return this._setCommonStyle(n,t,e,r,i[0]);const s=Object.create(i[0]);return i.forEach((o,a)=>{a!==0&&Object.assign(s,o)}),this._setCommonStyle(n,t,e,r,s)}return this._setCommonStyle(n,t,e,r,i)}_setCommonStyle(n,t,e,r,i){const s=this.nativeContext;i||(i=this.fillAttributes);const{fillOpacity:o=i.fillOpacity,opacity:a=i.opacity,fill:l=i.fill}=t;o>1e-12&&a>1e-12?(s.globalAlpha=o*a,s.fillStyle=wm(this,l,n,e,r)):s.globalAlpha=o*a}setShadowBlendStyle(n,t,e){if(Array.isArray(e)){if(e.length<=1)return this._setShadowBlendStyle(n,e[0]);const r=Object.create(e[0]);return e.forEach((i,s)=>{s!==0&&Object.assign(r,i)}),this._setShadowBlendStyle(n,t,r)}return this._setShadowBlendStyle(n,t,e)}_setShadowBlendStyle(n,t,e){const r=this.nativeContext;e||(e=this.fillAttributes);const{opacity:i=e.opacity,shadowBlur:s=e.shadowBlur,shadowColor:o=e.shadowColor,shadowOffsetX:a=e.shadowOffsetX,shadowOffsetY:l=e.shadowOffsetY,blur:u=e.blur,globalCompositeOperation:c=e.globalCompositeOperation}=t;i<=1e-12||(s||a||l?(r.shadowBlur=s*this.dpr,r.shadowColor=o,r.shadowOffsetX=a*this.dpr,r.shadowOffsetY=l*this.dpr,this._clearShadowStyle=!0):this._clearShadowStyle&&(r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0),u?(r.filter=`blur(${u}px)`,this._clearFilterStyle=!0):this._clearFilterStyle&&(r.filter="blur(0px)",this._clearFilterStyle=!1),c?(r.globalCompositeOperation=c,this._clearGlobalCompositeOperationStyle=!0):this._clearGlobalCompositeOperationStyle&&(r.globalCompositeOperation="source-over",this._clearGlobalCompositeOperationStyle=!1))}setStrokeStyle(n,t,e,r,i){if(Array.isArray(i)){if(i.length<=1)return this._setStrokeStyle(n,t,e,r,i[0]);const s=Object.create(i[0]);return i.forEach((o,a)=>{a!==0&&Object.assign(s,o)}),this._setStrokeStyle(n,t,e,r,s)}return this._setStrokeStyle(n,t,e,r,i)}_setStrokeStyle(n,t,e,r,i){const s=this.nativeContext;i||(i=this.strokeAttributes);const{strokeOpacity:o=i.strokeOpacity,opacity:a=i.opacity}=t;if(o>1e-12&&a>1e-12){const{lineWidth:l=i.lineWidth,stroke:u=i.stroke,lineJoin:c=i.lineJoin,lineDash:h=i.lineDash,lineCap:d=i.lineCap,miterLimit:f=i.miterLimit}=t;s.globalAlpha=o*a,s.lineWidth=d4(this,l,this.dpr),s.strokeStyle=wm(this,u,n,e,r),s.lineJoin=c,h&&s.setLineDash(h),s.lineCap=d,s.miterLimit=f}}setTextStyleWithoutAlignBaseline(n,t,e){const r=this.nativeContext;t||(t=this.textAttributes);const{scaleIn3d:i=t.scaleIn3d}=n;n.font?r.font=n.font:r.font=$b(n,t,i&&this.camera&&this.camera.getProjectionScale(e));const{fontFamily:s=t.fontFamily,fontSize:o=t.fontSize}=n;this.fontFamily=s,this.fontSize=o,r.textAlign="left",r.textBaseline="alphabetic"}setTextStyle(n,t,e){var r,i;const s=this.nativeContext;t||(t=this.textAttributes),n.font?s.font=n.font:s.font=$b(n,t,this.camera&&this.camera.getProjectionScale(e));const{fontFamily:o=t.fontFamily,fontSize:a=t.fontSize}=n;this.fontFamily=o,this.fontSize=a,s.textAlign=(r=n.textAlign)!==null&&r!==void 0?r:t.textAlign,s.textBaseline=(i=n.textBaseline)!==null&&i!==void 0?i:t.textBaseline}draw(){}clearMatrix(n=!0,t=this.dpr){this.setTransformFromMatrix(this._clearMatrix,n,t)}setClearMatrix(n,t,e,r,i,s){this._clearMatrix.setValue(n,t,e,r,i,s)}onlyTranslate(n=this.dpr){return this.matrix.a===n&&this.matrix.b===0&&this.matrix.c===0&&this.matrix.d===n}release(...n){this.stack.forEach(t=>Sr.free(t)),this.stack.length=0}};To.env="browser",To=pz([St(),gz("design:paramtypes",[Object,Number])],To);var vz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},yz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Ao=class extends dl{constructor(n){super(n)}init(n){const{container:t}=n;if(typeof t=="string"){const e=Y.global.getElementById(t);e&&(this._container=e)}else this._container=t;this._context=new To(this,this._dpr),this.initStyle()}initStyle(){if(!this.controled)return;const{nativeCanvas:n}=this;n.width=this._pixelWidth,n.height=this._pixelHeight,!n.style||this.setCanvasStyle(n,this._x,this._y,this._displayWidth,this._displayHeight),this._container&&this._container.appendChild(n),this.visiable||this.hide()}hide(){this._nativeCanvas&&(this._nativeCanvas.style.display="none")}show(){this._nativeCanvas&&(this._nativeCanvas.style.display="block")}applyPosition(){const n=this._nativeCanvas;n.style.position="absolute",n.style.top=`${this._y}px`,n.style.left=`${this._x}px`}resetStyle(n){if(!this.controled)return;const{width:t=this._displayWidth,height:e=this._displayHeight,dpr:r=this._dpr,x:i=this._x,y:s=this._y}=n,{nativeCanvas:o}=this;o.width=t*r,o.height=e*r,!o.style||this.setCanvasStyle(o,i,s,t,e),n.id&&(o.id=n.id),this.visiable||this.hide()}setCanvasStyle(n,t,e,r,i){this.controled&&(n.style.width=`${r}px`,n.style.height=`${i}px`)}toDataURL(n,t){return n==="image/jpeg"?this._nativeCanvas.toDataURL(n,t):n==="image/png"?this._nativeCanvas.toDataURL(n):this._nativeCanvas.toDataURL(n,t)}resize(n,t){this.controled&&(this._pixelWidth=n*this._dpr,this._pixelHeight=t*this._dpr,this._displayWidth=n,this._displayHeight=t,this._nativeCanvas.style&&(this._nativeCanvas.style.width=`${n}px`,this._nativeCanvas.style.height=`${t}px`),this._nativeCanvas.width=this._pixelWidth,this._nativeCanvas.height=this._pixelHeight,this._context.dpr=this._dpr)}};Ao.env="browser",Ao=vz([St(),yz("design:paramtypes",[Object])],Ao);function nk(n,t){return new en(e=>{e(dO).toDynamicValue(()=>r=>new n(r)).whenTargetNamed(n.env),e(zN).toDynamicValue(()=>(r,i)=>new t(r,i)).whenTargetNamed(t.env)})}const _z=nk(Ao,To),cw=Symbol.for("CanvasGroupPicker"),Lm=Symbol.for("CanvasPickerContribution");var bz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},wz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Ia=function(n,t){return function(e,r){t(e,r,n)}};let go=class extends Im{constructor(n,t,e){super(e),this.contributions=n,this.drawContribution=t,this.pickItemInterceptorContributions=e,this.global.hooks.onSetEnv.tap("canvas-picker-service",(r,i,s)=>{this.configure(s,i)}),this.configure(this.global,this.global.env),this.pickerMap=new Map,this.init()}init(){this.contributions.getContributions().forEach(n=>{this.pickerMap.set(n.numberType,n)}),super._init()}configure(n,t){this.pickCanvas=Ko.shareCanvas(),this.pickContext=this.pickCanvas.getContext("2d")}pickItem(n,t,e,r){if(n.attribute.pickable===!1)return null;if(this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const l=this.InterceptorContributions[a];if(l.beforePickItem){const u=l.beforePickItem(n,this,t,r,{parentMatrix:e});if(u)return u}}const i=this.pickerMap.get(n.numberType);if(!i)return null;const s=i.contains(n,t,r)?n:null,o={graphic:s};if(s)return o;if(this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const l=this.InterceptorContributions[a];if(l.afterPickItem){const u=l.afterPickItem(n,this,t,r,{parentMatrix:e});if(u)return u}}return o}};go=bz([St(),Ia(0,Ne(Bn)),Ia(0,fr(Lm)),Ia(1,Ne(jy)),Ia(2,Ne(Bn)),Ia(2,fr(fo)),wz("design:paramtypes",[Object,Object,Object])],go);var xz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let jm=class{constructor(){this.type="group",this.numberType=Iy}contains(n,t,e){return!1}};jm=xz([St()],jm);const Dh=new en((n,t,e,r)=>{Dh.__vloaded||(Dh.__vloaded=!0,n(cw).to(jm).inSingletonScope(),n(Lm).toService(cw),yi(n,Lm))});Dh.__vloaded=!1;const Cz=new en((n,t,e,r)=>{e(go)||n(go).toSelf().inSingletonScope(),e(ko)?r(ko).toService(go):n(ko).toService(go)});function Sz(n){n.load(Dh),n.load(Cz)}var Ua,Ez=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Oz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let fi=Ua=class extends Ph{get container(){return this.canvas.nativeCanvas.parentElement}static GenerateCanvasId(){return`${Ua.idprefix}_${Ua.prefix_count++}`}constructor(){super(),this.type="browser",this._canvasIsIntersecting=!0,this.global=Y.global,this.viewBox=new je,this.modelMatrix=new fe(1,0,0,1,0,0)}getTitle(){return this.canvas.id&&this.canvas.id.toString()}getWH(){return{width:this.canvas.width/(this.canvas.dpr||1),height:this.canvas.height/(this.canvas.dpr||1)}}getXY(){return this.canvas.nativeCanvas.getBoundingClientRect()}createWindow(n){n.canvas?this.createWindowByCanvas(n):this.createWindowByConfig(n),this.postInit()}postInit(){if(this.global.optimizeVisible)try{this.observerCanvas()}catch{console.error("IntersectionObserver")}}isElementVisible(n){const t=n.getBoundingClientRect(),e=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return!(t.right<0||t.bottom<0||t.left>e||t.top>r)}observerCanvas(){this._canvasIsIntersecting=this.isElementVisible(this.canvas.nativeCanvas);const n=new IntersectionObserver((t,e)=>{t.forEach(r=>{this._canvasIsIntersecting!==r.isIntersecting?(this._canvasIsIntersecting=r.isIntersecting,this._onVisibleChangeCb&&this._onVisibleChangeCb(r.isIntersecting)):this._canvasIsIntersecting=r.isIntersecting})});n&&n.observe(this.canvas.nativeCanvas)}createWindowByConfig(n){const t=this.global.createCanvas({width:n.width,height:n.height});let e;if(e=typeof n.container=="string"?this.global.getElementById(n.container):n.container?n.container:this.global.getRootElement(),!e)throw new Error("containerId");n.offscreen?e=null:e.appendChild(t);const r={width:n.width,height:n.height,dpr:n.dpr,nativeCanvas:t,container:e,id:Ua.GenerateCanvasId(),canvasControled:!0};this.canvas=new Ao(r)}createWindowByCanvas(n){var t;let e;if(typeof n.canvas=="string"){if(e=this.global.getElementById(n.canvas),!e)throw new Error("canvasId canvasdom")}else e=n.canvas;if(!e)throw new Error("canvas");let r=n.width,i=n.height;if(r==null||i==null||!n.canvasControled){const o=e.getBoundingClientRect();r=o.width,i=o.height}let s=n.dpr;s==null&&(s=(t=e.getContext("2d").pixelRatio)!==null&&t!==void 0?t:e.width/r),this.canvas=new Ao({width:r,height:i,dpr:s,nativeCanvas:e,canvasControled:n.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(n,t){this.canvas.resize(n,t)}setDpr(n){this.canvas.dpr=n}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}addEventListener(n,t,e){return this.canvas.nativeCanvas.addEventListener(n,t,e)}removeEventListener(n,t,e){return this.canvas.nativeCanvas.removeEventListener(n,t,e)}dispatchEvent(n){return this.canvas.nativeCanvas.dispatchEvent(n)}getStyle(){var n;return(n=this.canvas.nativeCanvas.style)!==null&&n!==void 0?n:{}}setStyle(n){this.canvas.nativeCanvas.style=n}getBoundingClientRect(){const n=this.canvas.nativeCanvas,t=this.getWH();return n.parentElement?this.canvas.nativeCanvas.getBoundingClientRect():{x:0,y:0,width:t.width,height:t.height,left:0,top:0,right:0,bottom:0}}clearViewBox(n){const t=this.viewBox,e=this.getContext(),r=this.getDpr();e.nativeContext.save(),e.nativeContext.setTransform(r,0,0,r,0,0),e.clearRect(t.x1,t.y1,t.x2-t.x1,t.y2-t.y1),n&&(e.fillStyle=n,e.fillRect(t.x1,t.y1,t.x2-t.x1,t.y2-t.y1)),e.nativeContext.restore()}isVisible(n){return this._canvasIsIntersecting}onVisibleChange(n){this._onVisibleChangeCb=n}getTopLeft(n){return this.global.getElementTopLeft(this.canvas.nativeCanvas,n)}};fi.env="browser",fi.idprefix="visactor_window",fi.prefix_count=0,fi=Ua=Ez([St(),Oz("design:paramtypes",[])],fi);const kz=new en(n=>{n(fi).toSelf(),n(Ty).toDynamicValue(t=>t.container.get(fi)).whenTargetNamed(fi.env)});var Tz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Az=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};class Mz{get x1(){return this.dom.getBoundingClientRect().left}get x2(){return this.dom.getBoundingClientRect().right}get y1(){return this.dom.getBoundingClientRect().top}get y2(){return this.dom.getBoundingClientRect().bottom}get width(){return this.dom.getBoundingClientRect().width}get height(){return this.dom.getBoundingClientRect().height}constructor(t){this.dom=t}}function hw(n,t=!1){const e=document.createElement("img");if(e.crossOrigin="anonymous",t){const r=new Blob([n],{type:"image/svg+xml"});n=window.URL.createObjectURL(r)}return e.src=n,e.complete?Promise.resolve(e):new Promise((r,i)=>{e.onload=()=>{r(e)},e.onerror=()=>{i(new Error(""))}})}let Bh=class extends Mh{constructor(){super(),this.type="browser",this.supportEvent=!0;try{this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.supportsMouseEvents=!!globalThis.MouseEvent}catch{this.supportsTouchEvents=!1,this.supportsPointerEvents=!1,this.supportsPointerEvents=!1}this.applyStyles=!0}mapToCanvasPoint(n,t){var e,r;let i=0,s=0,o=0,a=0;if(n.changedTouches){const l=(e=n.changedTouches[0])!==null&&e!==void 0?e:{};i=l.clientX||0,s=l.clientY||0,o=i,a=s}else i=n.clientX||0,s=n.clientY||0,o=n.offsetX||0,a=n.offsetY||0;if(t){const l=i,u=s,c=t.getBoundingClientRect(),h=(r=t.getNativeHandler)===null||r===void 0?void 0:r.call(t).nativeCanvas;let d,f;return h&&(d=c.width/h.offsetWidth,f=c.height/h.offsetHeight),{x:(l-c.left)/(mt(d)?d:1),y:(u-c.top)/(mt(f)?f:1)}}return{x:o,y:a}}getNativeAABBBounds(n){let t=n;if(typeof n=="string"&&(t=new DOMParser().parseFromString(n,"text/html").firstChild,t.lastChild&&(t=t.lastChild.firstChild)),t.getBoundingClientRect){const e=t.getBoundingClientRect();return new Mz(e)}return new je}removeDom(n){return n.parentElement.removeChild(n),!0}updateDom(n,t){const{width:e,height:r,style:i}=t;return i&&(dt(i)?n.setAttribute("style",i):Object.keys(i).forEach(s=>{n.style[s]=i[s]})),e!=null&&(n.style.width=`${e}px`),r!=null&&(n.style.height=`${r}px`),!0}createDom(n){const{tagName:t="div",parent:e}=n,r=document.createElement(t);if(this.updateDom(r,n),e){const i=dt(e)?this.getElementById(e):e;i&&i.appendChild&&i.appendChild(r)}return r}loadImage(n){return hw(n,!1).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadSvg(n){return hw(n,!0).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}createCanvas(n){var t,e;const r=document.createElement("canvas");n.id&&(r.id=(t=n.id)!==null&&t!==void 0?t:me.GenAutoIncrementId().toString());const i=(e=n.dpr)!==null&&e!==void 0?e:window.devicePixelRatio;return n.width&&n.height&&(r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,r.width=n.width*i,r.height=n.height*i),r}createOffscreenCanvas(n){var t;const e=(t=n.dpr)!==null&&t!==void 0?t:window.devicePixelRatio;return new OffscreenCanvas(n.width*e,n.height*e)}releaseCanvas(n){let t;t=typeof n=="string"?document.getElementById(n):n,t&&t.parentElement&&t.parentElement.removeChild(t)}getDevicePixelRatio(){return window.devicePixelRatio}getRequestAnimationFrame(){return window.requestAnimationFrame}getCancelAnimationFrame(){return window.cancelAnimationFrame}addEventListener(n,t,e){return document.addEventListener(n,t,e)}removeEventListener(n,t,e){return document.removeEventListener(n,t,e)}dispatchEvent(n){return document.dispatchEvent(n)}getElementById(n){return document.getElementById(n)}getRootElement(){return document.body}getDocument(){return document}release(...n){}getElementTop(n,t){let e=n.offsetTop,r=n.offsetParent;for(;r!==null;)e+=r.offsetTop,r=r.offsetParent;return e}getElementLeft(n,t){let e=n.offsetLeft,r=n.offsetParent;for(;r!==null;)e+=r.offsetLeft,r=r.offsetParent;return e}getElementTopLeft(n,t){let e=n.offsetTop,r=n.offsetLeft,i=n.offsetParent;for(;i!==null;)e+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent;return{top:e,left:r}}};Bh=Tz([St(),Az("design:paramtypes",[])],Bh);const Lh=new en(n=>{Lh.isBrowserBound||(Lh.isBrowserBound=!0,n(Bh).toSelf().inSingletonScope(),n(Kd).toService(Bh))});Lh.isBrowserBound=!1;function jh(n,t=!0){jh.__loaded||(jh.__loaded=!0,n.load(Lh),n.load(_z),n.load(kz),t&&Sz(n))}jh.__loaded=!1;var Pz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Iz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let pl=class extends To{constructor(n,t){super(n,t);const e=n.nativeCanvas.getContext("2d");if(!e)throw new Error("2d");this.nativeContext=e,this.canvas=n,this.matrix=new fe(1,0,0,1,0,0),this.stack=[],this.dpr=t??1}release(...n){}};pl.env="node",pl=Pz([St(),Iz("design:paramtypes",[Object,Number])],pl);var Rz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Dz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};let Mo=class extends dl{constructor(n){super(n)}init(){this._context=new pl(this,this._dpr),this.nativeCanvas.width=this._pixelWidth,this.nativeCanvas.height=this._pixelHeight}release(...n){this._nativeCanvas.release&&bt(this._nativeCanvas.release)&&this._nativeCanvas.release()}};Mo.env="node",Mo=Rz([St(),Dz("design:paramtypes",[Object])],Mo);const Bz=nk(Mo,pl);var Lz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},jz=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)},Nz=function(n,t){return function(e,r){t(e,r,n)}};let Po=class extends Ph{get container(){return null}constructor(n){super(),this.global=n,this.type="node"}getTitle(){return""}getWH(){return{width:this.canvas.displayWidth,height:this.canvas.displayHeight}}getXY(){return{x:0,y:0}}createWindow(n){n.canvas?this.createWindowByCanvas(n):this.createWindowByConfig(n)}createWindowByConfig(n){const t=this.global.createCanvas({width:n.width,height:n.height}),e={width:n.width,height:n.height,dpr:n.dpr,nativeCanvas:t,id:me.GenAutoIncrementId().toString(),canvasControled:!0};this.canvas=new Mo(e)}createWindowByCanvas(n){const t=n.canvas;let e=n.width,r=n.height;e!=null&&r!=null&&n.canvasControled||(e=t.width,r=t.height),this.canvas=new Mo({width:e,height:r,dpr:1,nativeCanvas:t,canvasControled:n.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(n,t){this.canvas.resize(n,t)}setDpr(n){this.canvas.dpr=n}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}getImageBuffer(n="image/png"){return this.canvas.nativeCanvas.toBuffer(n)}addEventListener(n,t,e){}dispatchEvent(n){return!0}removeEventListener(n,t,e){}getStyle(){}setStyle(n){}getBoundingClientRect(){return null}clearViewBox(n){}};Po.env="node",Po=Lz([St(),Nz(0,Ne(Ey)),jz("design:paramtypes",[Object])],Po);const Fz=new en(n=>{n(Po).toSelf(),n(Ty).toDynamicValue(t=>t.container.get(Po)).whenTargetNamed(Po.env)});var zz=function(n,t,e,r){var i,s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(i=n[a])&&(o=(s<3?i(o):s>3?i(t,e,o):i(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o};let Nh=class extends Mh{constructor(){super(...arguments),this.type="node",this._lastTime=0,this.supportEvent=!1}configure(n,t){n.env===this.type&&(n.setActiveEnvContribution(this),this.pkg=t)}getDynamicCanvasCount(){return 0}getStaticCanvasCount(){return 999}loadJson(n){const t=fetch(n).then(e=>e.json());return t.then(e=>({data:e,state:"success"})).catch(()=>({data:null,state:"fail"})),t}loadArrayBuffer(n){return fetch(n).then(t=>t.arrayBuffer()).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadImage(n){const{loadImage:t}=this.pkg;return t?t(n).then(e=>({loadState:e?"success":"fail",data:e})).catch(()=>({loadState:"fail",data:null})):Promise.reject(new Error("node-canvas loadImage could not be found!"))}loadSvg(n){const t=this.pkg.Resvg;if(!t)return Promise.reject(new Error("@resvg/resvg-js svgParser could not be found!"));const e=new t(n).render().asPng();return this.loadImage(e)}createCanvas(n){return this.pkg.createCanvas(n.width,n.height)}releaseCanvas(n){}getDevicePixelRatio(){return 1}getRequestAnimationFrame(){return function(n){return Eb.call(n)}}getCancelAnimationFrame(){return n=>{Eb.clear(n)}}addEventListener(n,t,e){}removeEventListener(n,t,e){}getElementById(n){return null}getRootElement(){return null}dispatchEvent(n){}release(...n){}createOffscreenCanvas(n){}};Nh=zz([St()],Nh);const Fh=new en(n=>{Fh.isNodeBound||(Fh.isNodeBound=!0,n(Nh).toSelf().inSingletonScope(),n(Kd).toService(Nh))});Fh.isNodeBound=!1;function zh(n,t=!0){zh.__loaded||(zh.__loaded=!0,n.load(Fh),n.load(Bz),n.load(Fz))}zh.__loaded=!1;function $h(){$h.__loaded||($h.__loaded=!0,F5())}$h.__loaded=!1;const $z=$h;function Gh(){Gh.__loaded||(Gh.__loaded=!0,z5())}Gh.__loaded=!1;const Gz=Gh,rk={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},Hz={poptip:Mr({},rk)};function Vz(n){Mr(Hz.poptip,rk,n)}const Uz=(n,t,e)=>{if(!z(t))return _s(n,t,e)};function ik(n,t,e=!1){if(t){if(n===t)return;if(q(t)&&typeof t=="object"){const r=Object(t),i=[];for(const a in r)i.push(a);let{length:s}=i,o=-1;for(;s--;){const a=i[++o];q(r[a])&&typeof r[a]=="object"&&!ft(n[a])?Wz(n,t,a,e):sk(n,a,r[a])}}}}function Wz(n,t,e,r=!1){const i=n[e],s=t[e];let o=t[e],a=!0;if(ft(s)){if(r)o=[];else if(ft(i))o=i;else if(Wd(i)){o=new Array(i.length);let l=-1;const u=i.length;for(;++l<u;)o[l]=i[l]}}else da(s)?(o=i??{},typeof i!="function"&&typeof i=="object"||(o={})):a=!1;a&&ik(o,s,r),sk(n,e,o)}function sk(n,t,e){(e!==void 0&&!Yz(n[t],e)||e===void 0&&!(t in n))&&(n[t]=e)}function Yz(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function Er(n,...t){let e=-1;const r=t.length;for(;++e<r;)ik(n,t[e],!0);return n}function dw(n,t,e,r){Object.keys(n).forEach(i=>{if(zt(t))t.type===i&&(ft(n[i])?n[i].length>=t.index&&(n[i][t.index]=r?Er({},n[i][t.index],e):e):n[i]=r?Er({},n[i],e):e);else if(ft(n[i])){const s=n[i].findIndex(o=>o.id===t);s>=0&&(n[i][s]=r?Er({},n[i][s],e):e)}else n.id===t&&(n[i]=r?Er({},n[i],e):e)})}function fw(n,t){const e=Hh(n),r=Hh(t),i=Math.asin((n.x*t.y-t.x*n.y)/e/r),s=Math.acos((n.x*t.x+n.y*t.y)/e/r);return i<0?-s:s}function Hh(n,t={x:0,y:0}){return Tn.distancePP(n,t)}const ok=(n,t)=>{for(let e=0;e<n.length;e++){const r=n[e].getSeries();for(let i=0;i<r.length;i++){const s=r[i];if(t&&s&&s.coordinate===t||!t&&s)return s}}return null};var Ot;(function(n){n.area="area",n.line="line",n.bar="bar",n.bar3d="bar3d",n.rangeColumn="rangeColumn",n.rangeColumn3d="rangeColumn3d",n.rangeArea="rangeArea",n.dot="dot",n.geo="geo",n.link="link",n.map="map",n.pie="pie",n.pie3d="pie3d",n.radar="radar",n.rose="rose",n.scatter="scatter",n.circularProgress="circularProgress",n.wordCloud="wordCloud",n.wordCloud3d="wordCloud3d",n.funnel="funnel",n.funnel3d="funnel3d",n.linearProgress="linearProgress",n.boxPlot="boxPlot",n.sankey="sankey",n.gaugePointer="gaugePointer",n.gauge="gauge",n.treemap="treemap",n.sunburst="sunburst",n.circlePacking="circlePacking",n.waterfall="waterfall",n.heatmap="heatmap",n.correlation="correlation",n.liquid="liquid",n.venn="venn"})(Ot||(Ot={}));var pw;(function(n){n.label="label",n.point="point",n.line="line",n.area="area",n.bar="bar",n.bar3d="bar3d",n.boxPlot="boxPlot",n.outlier="outlier",n.circlePacking="circlePacking",n.group="group",n.gridBackground="gridBackground",n.grid="grid",n.dot="dot",n.title="title",n.subTitle="subTitle",n.symbol="symbol",n.funnel="funnel",n.funnel3d="funnel3d",n.transform="transform",n.transform3d="transform3d",n.transformLabel="transformLabel",n.outerLabel="outerLabel",n.outerLabelLine="outerLabelLine",n.pin="pin",n.pinBackground="pinBackground",n.pointer="pointer",n.segment="segment",n.track="track",n.cell="cell",n.cellBackground="cellBackground",n.link="link",n.arrow="arrow",n.pie="pie",n.pie3d="pie3d",n.labelLine="labelLine",n.progress="progress",n.minLabel="minLabel",n.maxLabel="maxLabel",n.rose="rose",n.node="node",n.sunburst="sunburst",n.nonLeaf="nonLeaf",n.leaf="leaf",n.nonLeafLabel="nonLeafLabel",n.leaderLine="leaderLine",n.stackLabel="stackLabel",n.word="word",n.fillingWord="fillingWord",n.nodePoint="nodePoint",n.ripplePoint="ripplePoint",n.centerPoint="centerPoint",n.centerLabel="centerLabel",n.barBackground="barBackground",n.lineLabel="lineLabel",n.areaLabel="areaLabel",n.liquid="liquid",n.liquidBackground="liquidBackground",n.liquidOutline="liquidOutline",n.circle="circle",n.overlap="overlap",n.overlapLabel="overlapLabel"})(pw||(pw={}));const Jo="__VCHART",Xz=500,Kz=500,qz=-90,Zz=270,Ls=9,yr=0;var _i;(function(n){n.enter="enter",n.update="update",n.exit="exit",n.group="group",n.connectNulls="connectNulls"})(_i||(_i={}));var kt;(function(n){n.enter="enter",n.update="update",n.exit="exit",n.unChange="unChange"})(kt||(kt={}));var nt;(function(n){n.arc="arc",n.arc3d="arc3d",n.area="area",n.image="image",n.line="line",n.path="path",n.rect="rect",n.rect3d="rect3d",n.rule="rule",n.shape="shape",n.symbol="symbol",n.text="text",n.richtext="richtext",n.polygon="polygon",n.pyramid3d="pyramid3d",n.circle="circle",n.cell="cell",n.interval="interval",n.group="group",n.glyph="glyph",n.component="component",n.largeRects="largeRects",n.largeSymbols="largeSymbols"})(nt||(nt={}));var qe;(function(n){n.axis="axis",n.grid="grid",n.legend="legend",n.slider="slider",n.label="label",n.datazoom="datazoom",n.player="player",n.title="title",n.scrollbar="scrollbar"})(qe||(qe={}));var gw;(function(n){n[n.player=1]="player",n[n.rollUp=2]="rollUp",n[n.drillDown=3]="drillDown",n[n.slider=4]="slider",n[n.datazoom=5]="datazoom",n[n.legend=6]="legend",n[n.scrollbar=7]="scrollbar",n[n.brush=8]="brush",n[n.normal=9]="normal"})(gw||(gw={}));var mw;(function(n){n.lineAxis="lineAxis",n.circleAxis="circleAxis"})(mw||(mw={}));var vw;(function(n){n.lineAxisGrid="lineAxisGrid",n.circleAxisGrid="circleAxisGrid"})(vw||(vw={}));var yw;(function(n){n.discreteLegend="discreteLegend",n.colorLegend="colorLegend",n.sizeLegend="sizeLegend"})(yw||(yw={}));var _w;(function(n){n.lineCrosshair="lineCrosshair",n.rectCrosshair="rectCrosshair",n.sectorCrosshair="sectorCrosshair",n.circleCrosshair="circleCrosshair",n.polygonCrosshair="polygonCrosshair",n.ringCrosshair="ringCrosshair"})(_w||(_w={}));var bw;(function(n){n.symbolLabel="symbolLabel",n.rectLabel="rectLabel",n.lineLabel="lineLabel",n.dataLabel="dataLabel"})(bw||(bw={}));var ww;(function(n){n.continuousPlayer="continuousPlayer",n.discretePlayer="discretePlayer"})(ww||(ww={}));var zr;(function(n){n.before="before",n.layouting="layouting",n.reevaluate="reevaluate",n.after="after"})(zr||(zr={}));var it;(function(n){n.BEFORE_EVALUATE_DATA="beforeEvaluateData",n.AFTER_EVALUATE_DATA="afterEvaluateData",n.BEFORE_EVALUATE_SCALE="beforeEvaluateScale",n.AFTER_EVALUATE_SCALE="afterEvaluateScale",n.BEFORE_PARSE_VIEW="beforeParseView",n.AFTER_PARSE_VIEW="afterParseView",n.BEFORE_TRANSFORM="beforeTransform",n.AFTER_TRANSFORM="afterTransform",n.BEFORE_CREATE_VRENDER_STAGE="beforeCreateVRenderStage",n.AFTER_CREATE_VRENDER_STAGE="afterCreateVRenderStage",n.BEFORE_CREATE_VRENDER_LAYER="beforeCreateVRenderLayer",n.AFTER_CREATE_VRENDER_LAYER="afterCreateVRenderLayer",n.BEFORE_STAGE_RESIZE="beforeStageResize",n.AFTER_STAGE_RESIZE="afterStageResize",n.BEFORE_VRENDER_DRAW="beforeVRenderDraw",n.AFTER_VRENDER_DRAW="afterVRenderDraw",n.BEFORE_MARK_JOIN="beforeMarkJoin",n.AFTER_MARK_JOIN="afterMarkJoin",n.BEFORE_MARK_UPDATE="beforeMarkUpdate",n.AFTER_MARK_UPDATE="afterMarkUpdate",n.BEFORE_MARK_STATE="beforeMarkState",n.AFTER_MARK_STATE="afterMarkState",n.BEFORE_MARK_ENCODE="beforeMarkEncode",n.AFTER_MARK_ENCODE="afterMarkEncode",n.BEFORE_DO_LAYOUT="beforeDoLayout",n.AFTER_DO_LAYOUT="afterDoLayout",n.BEFORE_MARK_LAYOUT_END="beforeMarkLayoutEnd",n.AFTER_MARK_LAYOUT_END="afterMarkLayoutEnd",n.BEFORE_DO_RENDER="beforeDoRender",n.AFTER_DO_RENDER="afterDoRender",n.BEFORE_MARK_RENDER_END="beforeMarkRenderEnd",n.AFTER_MARK_RENDER_END="afterMarkRenderEnd",n.BEFORE_CREATE_VRENDER_MARK="beforeCreateVRenderMark",n.AFTER_CREATE_VRENDER_MARK="afterCreateVRenderMark",n.BEFORE_ADD_VRENDER_MARK="beforeAddVRenderMark",n.AFTER_ADD_VRENDER_MARK="afterAddVRenderMark",n.AFTER_VRENDER_NEXT_RENDER="afterVRenderNextRender",n.BEFORE_ELEMENT_UPDATE_DATA="beforeElementUpdateData",n.AFTER_ELEMENT_UPDATE_DATA="afterElementUpdateData",n.BEFORE_ELEMENT_STATE="beforeElementState",n.AFTER_ELEMENT_STATE="afterElementState",n.BEFORE_ELEMENT_ENCODE="beforeElementEncode",n.AFTER_ELEMENT_ENCODE="afterElementEncode",n.ANIMATION_START="animationStart",n.ANIMATION_END="animationEnd",n.ELEMENT_ANIMATION_START="elementAnimationStart",n.ELEMENT_ANIMATION_END="elementAnimationEnd",n.ALL_ANIMATION_START="allAnimationStart",n.ALL_ANIMATION_END="allAnimationEnd"})(it||(it={}));var Nm;(function(n){n.signal="signal",n.data="data",n.scale="scale",n.coordinate="coordinate",n.mark="mark"})(Nm||(Nm={}));var Wl;(function(n){n.active="active",n.selected="selected",n.highlight="highlight",n.blur="blur"})(Wl||(Wl={}));const Cs="__vgrammar_scene_item__",ak=[nt.line,nt.area],Qz=[nt.arc3d,nt.rect3d,nt.pyramid3d],hn="key",Cc=[{}],Jz=["key"],t8=!0,e8=!0,n8=!1,r8=null,i8=!0,xw="VGRAMMAR_IMMEDIATE_ANIMATION",Cw=0,lk=1e3,Fm=0,Sw=0,Ew=!1,zm=!1,$m="quintInOut",Ow={stopWhenStateChange:!1,immediatelyApply:!0},s8="VGRAMMAR_ANIMATION_PARAMETERS";function Uy(n,t){return Ct(n).reduce((e,r)=>{const i=dt(r)?t.getGrammarById(r):r;return i&&e.push(i),e},[])}function o8(n){return!bt(n)&&!!(n!=null&&n.signal)}function a8(n){return!bt(n)&&!!(n!=null&&n.callback)}function hs(n,t){if(z(n))return[];if(o8(n)){const e=n.signal;if(dt(e))return Ct(t.getGrammarById(e));if((e==null?void 0:e.grammarType)==="signal")return[e]}else if(a8(n))return Uy(n.dependency,t);return[]}function mo(n){return bt(n)||(n==null?void 0:n.signal)||!!(n!=null&&n.callback)}function ur(n,t,e,r){if(z(n))return n;if(bt(n))return r?n.call(null,e,r,t):n.call(null,e,t);if(n.signal){const i=n.signal;return dt(i)?t==null?void 0:t[i]:i.output()}return n.callback?r?n.callback.call(null,e,r,t):n.callback.call(null,e,t):n}function l8(n,t){if(z(n))return n;if(bt(n))return n.call(null,t);if(n.signal){const e=n.signal;return dt(e)?t==null?void 0:t[e]:e.output()}return n.callback?n.callback.call(null,t):n}function Vh(n,t){return gu(n)?n.output():t[n]}function u8(n){return n&&(n.signal||n.callback)}const gu=n=>n&&!z(n.grammarType),Io=n=>bt(n)?n:t=>t[n];function Wy(n){return!!(n!=null&&n.scale)}function Yy(n){return!!(n!=null&&n.field)}function Yi(n,t){if(!n)return[];let e=[];return n.scale&&(e=gu(n.scale)?[n.scale]:Ct(t.getScaleById(n.scale))),e.concat(hs(n,t))}function Uh(n,t){switch(t){case"line":return n.some(e=>["x","y","defined"].includes(e));case"area":return n.some(e=>["x","y","x1","y1","defined"].includes(e));case"largeRects":return n.some(e=>["x","y","width","y1"].includes(e));case"largeSymbols":return n.some(e=>["x","y"].includes(e))}return!1}function c8(n){const{x:t,y:e,x1:r,y1:i}=n;return mt(t)&&mt(e)&&mt(r)&&mt(i)?[{x:t,y:e},{x:r,y:i}]:[]}function h8(n,t,e,r){return!n||!n.length||n.length===1&&!t?[]:n.some(i=>Uh(Object.keys(i.nextAttrs),"line"))?n.map((i,s)=>{var o;const a=i.nextAttrs,{x:l,y:u,x1:c,y1:h,defined:d}=(o=e==null?void 0:e[s])!==null&&o!==void 0?o:{};return z(a.x)&&(a.x=l),z(a.y)&&(a.y=u),z(a.defined)&&d===!1&&(a.defined=!1),a.context=i.key,r&&(z(a.x1)&&(a.x1=c),z(a.y1)&&(a.y1=h)),a}):e??[]}function d8(n,t,e=[]){if(!n||!n.length||n.length===1&&!t)return[];const r=new Float32Array(4*n.length);return n.forEach((i,s)=>{var o,a,l,u;const c=i.nextAttrs,h=(o=c.x)!==null&&o!==void 0?o:e[4*s],d=(a=c.y)!==null&&a!==void 0?a:e[4*s+1],f=(l=c.width)!==null&&l!==void 0?l:e[4*s+2],p=(u=c.y1)!==null&&u!==void 0?u:e[4*s+3];r[4*s]=h,r[4*s+1]=d,r[4*s+2]=f,r[4*s+3]=p-d}),r}function f8(n,t,e=[]){if(!n||!n.length||n.length===1&&!t)return[];const r=new Float32Array(2*n.length);return n.forEach((i,s)=>{var o,a;const l=i.nextAttrs,u=(o=l.x)!==null&&o!==void 0?o:e[2*s],c=(a=l.y)!==null&&a!==void 0?a:e[2*s+1];r[2*s]=u,r[2*s+1]=c}),r}function p8(n,t){if(["x","y","dx","dy"].includes(t))return!0;switch(n){case nt.arc:return["innerRadius","outerRadius","startAngle","endAngle"].includes(t);case nt.group:case nt.rect:case nt.image:return["width","height","y1"].includes(t);case nt.path:case nt.shape:return["path","customPath"].includes(t);case nt.line:return t==="defined";case nt.area:return["x1","y1","defined"].includes(t);case nt.rule:return["x1","y1"].includes(t);case nt.symbol:return t==="size";case nt.polygon:return t==="points";case nt.text:return t==="text"}return!1}function g8(n){return[nt.line,nt.area,nt.largeRects,nt.largeSymbols].includes(n)}function Nr(n,t,e,r,i){e&&(mo(e)?t.forEach(s=>{const o=ur(e,r,s.datum,n);Object.assign(s.nextAttrs,o)}):Object.keys(e).forEach(s=>{var o,a;const l=e[s],u=i&&!p8(n.mark.markType,s)?[t[0]]:t;if(Wy(l)){const c=Vh(l.scale,r),h=(o=l==null?void 0:l.offset)!==null&&o!==void 0?o:0,d=!z(l.band)&&c.bandwidth?c.bandwidth()*l.band:null,f=dt(l==null?void 0:l.field),p=f?Ul(l.field):null;let g=f?null:z(l==null?void 0:l.value)?0:(a=c.scale)===null||a===void 0?void 0:a.call(c,l.value);u.forEach(_=>{var m;f&&(g=(m=c.scale)===null||m===void 0?void 0:m.call(c,p(_.datum))),_.nextAttrs[s]=Tt(g)||Tt(d)?g+h+d:g})}else if(Yy(l)){const c=Ul(l.field);u.forEach(h=>{h.nextAttrs[s]=c(h.datum)})}else u.forEach(c=>{c.nextAttrs[s]=ur(l,r,c.datum,n)})}))}function uk(n,t,e,r){if(!n)return null;if(mo(n))return ur(n,r,t,e);const i={};return Object.keys(n).forEach(s=>{var o,a,l;const u=n[s];if(Wy(u)){const c=Vh(u.scale,r),h=(o=u==null?void 0:u.offset)!==null&&o!==void 0?o:0,d=!z(u.band)&&c.bandwidth?c.bandwidth()*u.band:null,f=dt(u==null?void 0:u.field),p=f?Ul(u.field):null,g=f?(a=c.scale)===null||a===void 0?void 0:a.call(c,p(t)):z(u==null?void 0:u.value)?0:(l=c.scale)===null||l===void 0?void 0:l.call(c,u.value);i[s]=Tt(g)||Tt(d)?g+h+d:g}else if(Yy(u)){const c=Ul(u.field);i[s]=c(t)}else i[s]=ur(u,r,t,e)}),i}class m8{constructor(t,e,r,i){this.channelEncoder={},this.marks=t,e&&this.registerChannelEncoder(e),r&&this.registerDefaultEncoder(r),this.progressiveChannels&&this.registerProgressiveChannels(i)}getMarks(){return this.marks}registerChannelEncoder(t,e){return dt(t)?this.channelEncoder[t]=e:Object.assign(this.channelEncoder,t),this}registerFunctionEncoder(t){return this.functionEncoder=t,this}registerDefaultEncoder(t){return this.defaultEncoder=t,this}registerProgressiveChannels(t){return this.progressiveChannels=Ct(t),this}getChannelEncoder(){return this.channelEncoder}getFunctionEncoder(){return this.functionEncoder}getDefaultEncoder(){return this.defaultEncoder}getProgressiveChannels(){return this.progressiveChannels}}let ht=class qt{static registerPlotMarks(t,e){qt._plotMarks[t]=e}static createPlotMark(t,e){return qt._plotMarks[t]?new qt._plotMarks[t](e):null}static registerMark(t,e){qt._marks[t]=e}static createMark(t,e,r){return qt._marks[t]?new qt._marks[t](e,t,r):null}static hasMark(t){return!!qt._marks[t]}static registerComponent(t,e){qt._components[t]=e}static createComponent(t,e,r,i){const s=qt._components[t];return s?new s(e,r,i):null}static hasComponent(t){return!!qt._components[t]}static registerGraphicComponent(t,e){qt._graphicComponents[t]=e}static createGraphicComponent(t,e,r){const i=qt._graphicComponents[t];return i?i(e,r):null}static registerTransform(t,e,r){qt._transforms[t]=Object.assign(e,{type:t,isBuiltIn:!!r})}static getTransform(t){return qt._transforms[t]}static unregisterRuntimeTransforms(){Object.keys(qt._transforms).forEach(t=>{qt._transforms[t]&&!qt._transforms[t].isBuiltIn&&(qt._transforms[t]=null)})}static registerGrammar(t,e,r){qt._grammars[t]={grammarClass:e,specKey:r??t}}static createGrammar(t,e,r){var i;const s=(i=qt._grammars[t])===null||i===void 0?void 0:i.grammarClass;return s?new s(e,r):null}static getGrammars(){return this._grammars}static getGlyph(t){return qt._glyphs[t]}static createInteraction(t,e,r){const i=qt._interactions[t];return i?new i(e,r):null}static hasInteraction(t){return!!qt._interactions[t]}};ht._plotMarks={},ht._marks={},ht._components={},ht._graphicComponents={},ht._transforms={},ht._grammars={},ht._glyphs={},ht._animations={},ht._interactions={},ht._graphics={},ht.registerGlyph=(n,t,e,r,i)=>(ht._glyphs[n]=new m8(t,e,r,i),ht._glyphs[n]),ht.registerAnimationType=(n,t)=>{ht._animations[n]=t},ht.getAnimationType=n=>ht._animations[n],ht.registerInteraction=(n,t)=>{ht._interactions[n]=t},ht.registerGraphic=(n,t)=>{ht._graphics[n]=t},ht.getGraphicType=n=>ht._graphics[n],ht.createGraphic=(n,t)=>{const e=ht._graphics[n];return e?e(t):null};const ck=n=>!!nt[n];function gl(n,t,e={}){var r;const i=ht.getGraphicType(t)?ht.createGraphic(t,e):ht.createGraphicComponent(t,e,{skipDefault:(r=n==null?void 0:n.spec)===null||r===void 0?void 0:r.skipTheme});return i||xt.getInstance().error(`create ${t} graphic failed!`),i}function v8(n,t,e={}){if(!ht.getGraphicType(nt.glyph))return;const r=ht.createGraphic(nt.glyph,e),i=t.getMarks(),s=Object.keys(i).map(o=>{if(ht.getGraphicType(i[o])){const a=ht.createGraphic(i[o]);if(a)return a.name=o,a}});return r.setSubGraphic(s),r}const Wh=n=>{n&&(n[Cs]=null,n.release(),n.parent&&n.parent.removeChild(n))},kw=["fillOpacity"],Tw=(n,t,e)=>{var r;return t==="fillOpacity"?(n.fillOpacity=(r=e.fillOpacity)!==null&&r!==void 0?r:1,["fillOpacity"]):[]};function y8(n,t,e,r,i,s){const o=i.getGraphicAttribute(n,!1,s);if(o)return t.forEach(l=>{l in r&&(o[l]=r[l])}),o;const a={};return t.forEach(l=>{a[l]=r[l]}),e[n]=a,a}const rf={rect3d:[{channels:["x","y","z","x1","y1","width","height","length"],transform:(n,t,e)=>{var r,i,s,o,a,l,u,c,h,d,f,p;mt(t.width)||!mt(t.x1)&&mt(e.width)?(n.x=Math.min((r=e.x)!==null&&r!==void 0?r:0,(i=e.x1)!==null&&i!==void 0?i:1/0),n.width=e.width):mt(t.x1)||!mt(t.width)&&mt(e.x1)?(n.x=Math.min(e.x,e.x1),n.width=Math.abs(e.x1-e.x)):(n.x=Math.min((s=e.x)!==null&&s!==void 0?s:0,(o=e.x1)!==null&&o!==void 0?o:1/0),n.width=e.width),mt(t.height)||!mt(t.y1)&&mt(e.height)?(n.y=Math.min((a=e.y)!==null&&a!==void 0?a:0,(l=e.y1)!==null&&l!==void 0?l:1/0),n.height=e.height):mt(t.y1)||!mt(t.height)&&mt(e.y1)?(n.y=Math.min(e.y,e.y1),n.height=Math.abs(e.y1-e.y)):(n.y=Math.min((u=e.y)!==null&&u!==void 0?u:0,(c=e.y1)!==null&&c!==void 0?c:1/0),n.height=e.height),mt(t.length)||!mt(t.z1)&&mt(e.length)?(n.z=Math.min((h=e.z)!==null&&h!==void 0?h:0,(d=e.z1)!==null&&d!==void 0?d:1/0),n.length=e.length):mt(t.z1)||!mt(t.length)&&mt(e.z1)?(n.z=Math.min(e.z,e.z1),n.length=Math.abs(e.z1-e.z)):(n.z=Math.min((f=e.z)!==null&&f!==void 0?f:0,(p=e.z1)!==null&&p!==void 0?p:1/0),n.length=e.length)},storedAttrs:"sizeAttrs"}],[nt.text]:[{channels:["text","limit","autoLimit","maxLineWidth","textType"],transform:(n,t,e)=>{var r,i;const s=(r=e.limit)!==null&&r!==void 0?r:1/0,o=(i=e.autoLimit)!==null&&i!==void 0?i:1/0,a=Math.min(s,o),l=da(e.text)&&!z(e.text.text),u=l?e.text.text:e.text;n.maxLineWidth=a===1/0?e.maxLineWidth:a,(l||e.textType)&&(e.text.type==="rich"||e.textType==="rich")?n.textConfig=u:n.text=u},storedAttrs:"limitAttrs"}],[nt.rule]:[{channels:["x","y","x1","y1"],transform:(n,t,e)=>{const r=c8(e);n.points=r,n.x=0,n.y=0},storedAttrs:"pointAttrs"}],[nt.symbol]:[{channels:["shape","symbolType"],transform:(n,t,e)=>{var r;n.symbolType=(r=t.shape)!==null&&r!==void 0?r:t.symbolType}},{channels:["image","fill","background"],transform:(n,t,e)=>{t.image?(n.background=t.image,n.fill=!1):e.image?(n.background=e.image,n.fill=!1):(n.fill=e.fill,n.background=e.background)},storedAttrs:"imageAttrs"}]};function _8(n,t){var e;return((e=rf[n])!==null&&e!==void 0?e:[]).reduce((r,i)=>(i.channels.forEach(s=>{lr(t,s)&&(r[s]=t[s])}),r),{})}const Yh=(n,t,e,r)=>{const i={},s=t?Object.keys(t):[],o=dt(n)?rf[n]:n;if(o&&o.length){const a=[];s.forEach(l=>{let u=!1;o.forEach((c,h)=>{if(c.channels.includes(l)){if(!a[h])if(c.storedAttrs){const d=y8(c.storedAttrs,c.channels,i,t,e,r);c.transform(i,t,d)}else c.transform(i,t,null);a[h]=!0,u=!0}}),u||(kw.includes(l)?Tw(i,l,t):i[l]=t[l])})}else s.forEach(a=>{kw.includes(a)?Tw(i,a,t):i[a]=t[a]});return i},b8=(n,t)=>{var e,r;if(n===t)return!0;const i=(e=n&&n.length)!==null&&e!==void 0?e:0;return i===((r=t&&t.length)!==null&&r!==void 0?r:0)&&i!==0&&n.every((s,o)=>!s&&!t[o]||s&&t[o]&&s.color===t[o].color&&s.offset===t[o].offset)},w8=(n,t)=>{if(n===t)return!0;if(typeof n!=typeof t||dt(n)||n.gradient!==t.gradient)return!1;const e=Object.keys(n),r=Object.keys(t);return e.length===r.length&&e.every(i=>i==="stops"?b8(n[i],t[i]):n[i]===t[i])},x8=(n,t)=>n.length===t.length&&n.join("-")===t.join("-"),C8=(n,t,e)=>!(!z(n)||!z(t))||!z(n)&&!z(t)&&(e==="lineDash"?x8(n,t):e==="stroke"||e==="fill"?w8(n,t):n===t),S8=["fill","fillOpacity","background","texture","texturePadding","textureSize","textureColor"],hk=["stroke","strokeOpacity","lineDash","lineDashOffset","lineCap","lineJoin","lineWidth","miterLimit"],E8=S8.concat(hk);function Gm(n,t,e){var r;if(!n||n.length<=1)return null;const i=((r=e==null?void 0:e.mark)===null||r===void 0?void 0:r.markType)==="area"?E8:hk,s=[];let o=null;return n.forEach((a,l)=>{o&&i.every(u=>C8(o[u],a[u],u))||(s.length&&(s[s.length-1].endIndex=l),o=a,s.push({attrs:o,startIndex:l}))}),s.length>=2?s.map(a=>{const l=Xy(a.attrs);return l.points=t.slice(a.startIndex,z(a.endIndex)?t.length:a.endIndex),l}):null}function O8(n,t,e){if(!n||n.length<=1)return null;const r=!!e&&e.mark.getSpec().enableSegments;let i,s,o=[],a=null;if(n.forEach((l,u)=>{a=t[u],a&&a.defined!==!1?(i||(s={items:[],points:[]},o.push(s)),s.points.push(a),s.items.push(l),i===!1&&(s.isConnect=!0,s={items:[],points:[]},o.push(s)),i=!0):i=!1}),o=o.filter(l=>l.points.length>0),o.length>=2){const l=[];return o.forEach(u=>{if(u.isConnect)return void l.push({points:u.points,isConnect:!0});if(r){const h=Gm(u.items,u.points,e);if(h)return void h.forEach(d=>{l.push(d)})}const c=Xy(u.items[0]);c.points=u.points,l.push(c)}),l}return r?Gm(n,t,e):null}function k8(n){return n?n.reduce((t,e)=>t.concat(e.points),[]):null}function Xy(n){const t={};return n&&Object.keys(n).forEach(e=>{e!=="x"&&e!=="y"&&e!=="x1"&&e!=="y1"&&e!=="defined"&&e!=="size"&&e!=="width"&&e!=="height"&&e!=="context"&&(t[e]=n[e])}),t}let dk=class{constructor(t){this.data=null,this.states=[],this.diffState=kt.enter,this.isReserved=!1,this.runtimeStatesEncoder=null,this.items=[],this.getStateAttrs=(e,r)=>{var i,s,o;const a=!z((i=this.runtimeStatesEncoder)===null||i===void 0?void 0:i[e]),l=a?this.runtimeStatesEncoder[e]:(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[e];if(!l)return{};if(bt(l))return l(this.getDatum(),this,e,r);if(!a&&(!((o=this.graphicItem.states)===null||o===void 0)&&o[e]))return this.graphicItem.states[e];const u=this.items.map(h=>Object.assign({},h,{nextAttrs:{}}));Nr(this,u,l,this.mark.parameters());const c=this.transformElementItems(u,this.mark.markType);return this.graphicItem.states?this.graphicItem.states[e]||(this.graphicItem.states[e]=c):this.graphicItem.states={[e]:c},c},this.mark=t}initGraphicItem(t={}){if(this.graphicItem)return;const e=this.mark.getAttributeTransforms();this.graphicItem=this.mark.addGraphicItem(e?Yh(e,t,this):t,this.groupKey),this.graphicItem&&(this.graphicItem[Cs]=this,e&&(this.graphicItem.onBeforeAttributeUpdate=r=>this.mark?Yh(e,r,this):r),this.clearGraphicAttributes(),this.mark.needAnimate()&&(this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(t),this.setFinalGraphicAttributes(t)))}updateGraphicItem(){if(!this.graphicItem)return;this.diffState===kt.exit?this.graphicItem.releaseStatus="willRelease":this.graphicItem.releaseStatus=void 0;const t=this.mark.animate.getAnimationConfigs("state");t.length!==0&&(this.graphicItem.stateAnimateConfig=t[0].originConfig)}getGraphicItem(){return this.graphicItem}removeGraphicItem(){var t,e;this.graphicItem&&((e=(t=this.graphicItem.animates)===null||t===void 0?void 0:t.forEach)===null||e===void 0||e.call(t,r=>r.stop())),this.graphicItem&&(Wh(this.graphicItem),this.graphicItem[Cs]=null,this.graphicItem=null)}resetGraphicItem(){this.graphicItem&&(this.graphicItem=null)}getBounds(){var t;return(t=this.graphicItem)===null||t===void 0?void 0:t.AABBBounds}getStates(){return this.states}updateData(t,e,r){var i;this.mark.emit(it.BEFORE_ELEMENT_UPDATE_DATA,{groupKey:t,data:e,key:r},this),this.data=e;const s=Io(r);return this.items=e.map(o=>({datum:o,key:s(o),view:this.mark.view,nextAttrs:{}})),this.groupKey=t,this.key=this.mark.isCollectionMark()?t:(i=this.items)===null||i===void 0?void 0:i[0].key,this.mark.emit(it.AFTER_ELEMENT_UPDATE_DATA,{groupKey:t,data:e,key:r},this),this.items}state(t,e){var r;const i=this.mark.isCollectionMark(),s=this.states,o=Ct(ur(t,e,this.getDatum(),this)),a=(r=this.mark.getSpec())===null||r===void 0?void 0:r.stateSort;a&&o.length&&o.sort(a);const l=o.length!==s.length||o.some((u,c)=>u!==s[c]);this.states=o,!i&&l&&this.diffState===kt.unChange&&(this.diffState=kt.update)}encodeGraphic(t){this.coordinateTransformEncode(this.items);const e=this.transformElementItems(this.items,this.mark.markType);t&&(this.mark.isCollectionMark()&&delete t.defined,Object.assign(e,t)),this.graphicItem?(this.graphicItem.clearStates(),this.graphicItem.states={},this.graphicItem.stateProxy=null,this.applyGraphicAttributes(e)):this.initGraphicItem(e),this.diffState!==kt.enter&&this.diffState!==kt.update||!this.states.length||this.useStates(this.states),this.mark.markType===nt.shape&&(this.graphicItem.datum=this.items[0].datum),this.items.forEach(r=>{r.nextAttrs={}}),this._setCustomizedShape()}_setCustomizedShape(){var t;if(!this.graphicItem)return;const e=(t=this.mark.getSpec())===null||t===void 0?void 0:t.setCustomizedShape;e&&(this.graphicItem.pathProxy=r=>e(this.data,r,new Xo))}encodeItems(t,e,r=!1,i){const s=this.mark.isCollectionMark(),o=e[_i.update],a=e[_i.enter],l=e[_i.exit],u=this.mark.isLargeMode()||s&&!this.mark.getSpec().enableSegments;this.diffState===kt.enter?(a&&Nr(this,t,a,i,u),o&&Nr(this,t,o,i,u)):this.diffState===kt.update?((s&&a||r)&&Nr(this,t,a,i,u),o&&Nr(this,t,o,i,u)):this.diffState===kt.exit&&l&&(r&&Nr(this,t,a,i,u),Nr(this,t,l,i,u))}coordinateTransformEncode(t){if(!this.mark.coord||this.mark.markType==="arc"||this.mark.disableCoordinateTransform===!0)return;const e=this.mark.coord.output();t.forEach(r=>{const i=r.nextAttrs,s=e.convert(i);Object.assign(i,s)})}clearStates(t){const e=Ar(t)?t:this.mark.animate.getAnimationConfigs("state").length!==0;this.states=[],this.graphicItem&&this.graphicItem.clearStates(e),this.runtimeStatesEncoder&&(this.runtimeStatesEncoder={})}_updateRuntimeStates(t,e){this.runtimeStatesEncoder||(this.runtimeStatesEncoder={}),this.runtimeStatesEncoder[t]=e}hasState(t){return this.states&&t&&this.states.includes(t)}addState(t,e){var r;if(!this.graphicItem)return!1;if(e&&dt(t)&&!bs(e,(r=this.runtimeStatesEncoder)===null||r===void 0?void 0:r[t])){const o=this.states.slice();return o.includes(t)?this.graphicItem.clearStates():o.push(t),this._updateRuntimeStates(t,e),this.useStates(o),!0}const i=this.mark.getSpec().encode,s=Ct(t).reduce((o,a)=>(a&&!o.includes(a)&&(i!=null&&i[a])&&o.push(a),o),this.states.slice());return s.length!==this.states.length&&(this.useStates(s),!0)}removeState(t){if(!this.graphicItem)return!1;const e=Ct(t);if(!e.length)return!1;const r=this.states.filter(i=>!e.includes(i));return r.length!==this.states.length&&(this.runtimeStatesEncoder&&e.forEach(i=>{this.runtimeStatesEncoder[i]=null}),this.useStates(r),!0)}useStates(t,e){var r;if(!this.graphicItem)return!1;this.mark.emit(it.BEFORE_ELEMENT_STATE,{states:t},this);const i=(r=this.mark.getSpec())===null||r===void 0?void 0:r.stateSort;i&&t.sort(i),this.states=t;const s=Ar(e)?e:this.mark.animate.getAnimationConfigs("state").length!==0;return this.graphicItem.stateProxy=this.getStateAttrs,this.graphicItem.useStates(this.states,s),this.mark.emit(it.AFTER_ELEMENT_STATE,{states:t},this),!0}diffAttributes(t){const e={},r=this.getFinalGraphicAttributes();for(const i in t)ef(i,r,t)&&lr(r,i)||(e[i]=t[i]);return e}transformElementItems(t,e,r){var i,s,o,a,l;const u=t[0];if(!u.nextAttrs||Object.keys(u.nextAttrs).length===0)return{};let c=u.nextAttrs;if(g8(e)&&t&&t.length&&z((i=u.nextAttrs)===null||i===void 0?void 0:i.points)&&(r===!0||Uh(Object.keys(u.nextAttrs),this.mark.markType))){const h=this.mark.getSpec(),d=this.getGraphicAttribute("points",!1),f=this.getGraphicAttribute("segments",!1),p=h.enableSegments,g=(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[_i.connectNulls],_=t.map(y=>y.nextAttrs),m=this.mark.isProgressive();if(c=Xy(c),e===nt.line||e===nt.area){const y=h8(t,!0,d,e===nt.area);if(m)c.segments=((l=(a=(o=this.graphicItem)===null||o===void 0?void 0:o.attribute)===null||a===void 0?void 0:a.segments)!==null&&l!==void 0?l:[]).concat([{points:y}]);else if(g){if(c.segments=O8(_,y,this),c.segments&&c.segments.some(v=>v.isConnect)){const v=uk(g,this.getDatum(),this,this.mark.parameters());v&&c.segments.forEach(b=>{b.isConnect&&Object.assign(b,v)})}c.points=y}else if(p){const v=y&&y.length!==0?y:k8(f),b=Gm(_,v,this);b?(c.segments=b,c.points=null):(c.segments=null,c.points=v)}else c.points=y,c.segments=null}else e===nt.largeRects?c.points=d8(t,!0,d):e===nt.largeSymbols&&(c.points=f8(t,!0,d))}return c}applyGraphicAttributes(t){var e,r;if(!Cr(t))if(this.mark.needAnimate()){const i=this.diffAttributes(t),s=(e=this.getPrevGraphicAttributes())!==null&&e!==void 0?e:{},o=(r=this.getFinalGraphicAttributes())!==null&&r!==void 0?r:{};Object.keys(i).forEach(u=>{s[u]=this.getGraphicAttribute(u),o[u]=i[u]}),this.setNextGraphicAttributes(i),this.setPrevGraphicAttributes(s),this.setFinalGraphicAttributes(o);const a=this.mark.animate.getElementAnimators(this).reduce((u,c)=>Object.assign(u,c.getEndAttributes()),{}),l=Object.assign({},a,o);this.graphicItem.setAttributes(l)}else this.graphicItem.setAttributes(t)}getGraphicAttribute(t,e=!1){var r;if(!this.graphicItem)return;if(e){let o;const a=this.getPrevGraphicAttributes();if(!z(o=_s(a,t)))return o}const i=this.mark.getAttributeTransforms();let s=[t];if(i&&i.length){const o=i.find(a=>a.storedAttrs&&a.channels.includes(t));o&&(s=[o.storedAttrs,t])}return _s((r=this.graphicItem)===null||r===void 0?void 0:r.attribute,s)}setGraphicAttribute(t,e,r=!0){if(!this.graphicItem)return;const i=this.getFinalGraphicAttributes(),s=this.getPrevGraphicAttributes();r&&i&&(i[t]=e),s&&!lr(s,t)&&(s[t]=this.graphicItem.attribute[t]),this.graphicItem.setAttribute(t,e)}setGraphicAttributes(t,e=!0){if(!this.graphicItem)return;const r=this.getFinalGraphicAttributes(),i=this.getPrevGraphicAttributes();Object.keys(t).forEach(s=>{r&&e&&(r[s]=t[s]),i&&!lr(i,s)&&(i[s]=this.graphicItem.attribute[s])}),this.graphicItem.setAttributes(t)}getFinalGraphicAttributes(){return this.graphicItem.finalAttrs}setFinalGraphicAttributes(t){this.graphicItem.finalAttrs=t}getPrevGraphicAttributes(){return this.graphicItem.prevAttrs}setPrevGraphicAttributes(t){this.graphicItem.prevAttrs=t}getNextGraphicAttributes(){return this.graphicItem.nextAttrs}setNextGraphicAttributes(t){this.graphicItem.nextAttrs=t}clearChangedGraphicAttributes(){this.graphicItem&&(this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null))}clearGraphicAttributes(){this.graphicItem&&(this.graphicItem.prevAttrs&&this.setPrevGraphicAttributes(null),this.graphicItem.nextAttrs&&this.setNextGraphicAttributes(null),this.graphicItem.finalAttrs&&this.setFinalGraphicAttributes(null))}remove(){this.graphicItem&&(Wh(this.graphicItem),this.graphicItem=null)}release(){this.removeGraphicItem(),this.mark=null,this.data=null,this.items=null}getItemAttribute(t){var e,r;if(!((e=this.items)===null||e===void 0)&&e.length)return this.mark.isCollectionMark()?z(t)?this.items.map(i=>i.nextAttrs):this.items.map(i=>{var s;return(s=i.nextAttrs)===null||s===void 0?void 0:s[t]}):z(t)?this.items[0].nextAttrs:(r=this.items[0].nextAttrs)===null||r===void 0?void 0:r[t]}setItemAttributes(t){var e;!((e=this.items)===null||e===void 0)&&e.length&&(this.mark.isCollectionMark()?ft(t)&&this.items.forEach((r,i)=>{Object.assign(r.nextAttrs,t[i])}):Object.assign(this.items[0].nextAttrs,t))}getItem(){var t,e;return this.mark&&this.mark.isCollectionMark()?(t=this.items)!==null&&t!==void 0?t:[]:(e=this.items)===null||e===void 0?void 0:e[0]}getDatum(){var t,e;return this.mark&&this.mark.isCollectionMark()?(t=this.data)!==null&&t!==void 0?t:[]:(e=this.data)===null||e===void 0?void 0:e[0]}};class fk{constructor(t,e){this.references=new Map,this.view=t,this.depend(e==null?void 0:e.dependency)}getStartState(){return null}depend(t){this.references.clear(),Ct(t).map(e=>dt(e)?this.view.getGrammarById(e):e).filter(e=>!z(e)).forEach(e=>{var r;this.references.set(e,((r=this.references.get(e))!==null&&r!==void 0?r:0)+1)})}parameters(){const t={};return this.references.forEach((e,r)=>{q(r.id())&&(t[r.id()]=r.output())}),t}bind(){const t=this.getEvents();(t??[]).forEach(e=>{e.type&&e.handler&&(ft(e.type)?e.type.forEach(r=>{r&&r!=="none"&&this.view.addEventListener(r,e.handler)}):e.type!=="none"&&this.view.addEventListener(e.type,e.handler))})}unbind(){const t=this.getEvents();(t??[]).forEach(e=>{e.type&&e.handler&&(ft(e.type)?e.type.forEach(r=>{r&&r!=="none"&&this.view.removeEventListener(r,e.handler)}):e.type!=="none"&&this.view.removeEventListener(e.type,e.handler))})}start(t){}reset(t){}dispatchEvent(t,e){this.view.emit(`${this.type}:${t}`,e),t==="start"&&this.options.onStart?this.options.onStart(e):t==="reset"&&this.options.onReset?this.options.onReset(e):t==="update"&&this.options.onUpdate?this.options.onUpdate(e):t==="end"&&this.options.onEnd&&this.options.onEnd(e)}}const pk=(n,t)=>{if(!t||!n)return null;const e={};return n.forEach(r=>{const i=r&&r.getSpec(),s=i&&i.encode;s&&t.forEach(o=>{o&&s[o]&&(e[o]||(e[o]=[]),e[o].push(r))})}),e},T8=n=>{const t=Ct(n),e=[],r=[];return t.forEach(i=>{i==="empty"?e.push("view"):dt(i)&&i!=="none"?i.includes("view:")?(r.push(i.replace("view:","")),e.push("view")):(r.push(i),e.push("self")):Tt(i)&&e.push("timeout")}),{eventNames:r,resetType:e}};class Ii extends fk{constructor(t,e){super(t,e),this.type=Ii.type,this._resetType=[],this.clearPrevElements=()=>{const{state:r,reverseState:i}=this.options;this._statedElements&&this._statedElements.length&&(this.clearAllStates(r,i),this.dispatchEvent("reset",{elements:this._statedElements,options:this.options}),this._statedElements=[])},this.handleStart=r=>{this.start(r.element)},this.handleReset=r=>{this.reset(r.element)},this.options=Object.assign({},Ii.defaultOptions,e),this._marks=t.getMarksBySelector(this.options.selector),this._stateMarks=pk(this._marks,[this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getEvents(){const t=this.options.triggerOff,e=this.options.trigger,r=[{type:e,handler:this.handleStart}],{eventNames:i,resetType:s}=T8(t);return i.forEach(o=>{o&&(ft(e)?!e.includes(o):o!==e)&&r.push({type:o,handler:this.handleReset})}),this._resetType=s,r}start(t){const{state:e,reverseState:r,isMultiple:i}=this.options;if(t&&this._marks&&this._marks.includes(t.mark))if(t.hasState(e)){if(this._resetType.includes("self")){const s=this._statedElements&&this._statedElements.filter(o=>o!==t);s&&s.length?this._statedElements=this.updateStates(s,this._statedElements,e,r):this.clearPrevElements()}}else this._timer&&clearTimeout(this._timer),t.addState(e),this._statedElements=this.updateStates(i&&this._statedElements?[...this._statedElements,t]:[t],this._statedElements,e,r),this.dispatchEvent("start",{elements:this._statedElements,options:this.options}),this._resetType.includes("timeout")&&(this._timer=setTimeout(()=>{this.clearPrevElements()},this.options.triggerOff));else this._resetType.includes("view")&&this._statedElements&&this._statedElements.length&&this.clearPrevElements()}reset(t){if(!this._statedElements||!this._statedElements.length)return;const e=t&&this._marks&&this._marks.includes(t.mark);(this._resetType.includes("view")&&!e||this._resetType.includes("self")&&e)&&this.clearPrevElements()}}Ii.type="element-select",Ii.defaultOptions={state:Wl.selected,trigger:"click"};class Ri extends fk{constructor(t,e){super(t,e),this.type=Ri.type,this.handleStart=r=>{this.start(r.element)},this.handleReset=r=>{this.reset(r.element)},this.options=Object.assign({},Ri.defaultOptions,e),this._marks=t.getMarksBySelector(this.options.selector),this._stateMarks=pk(this._marks,[this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getEvents(){const t=this.options.triggerOff,e=[{type:this.options.trigger,handler:this.handleStart}];let r=t;return dt(t)&&t.includes("view:")?(r=t.replace("view:",""),this._resetType="view"):this._resetType="self",e.push({type:r,handler:this.handleReset}),e}clearPrevElements(){const{highlightState:t,blurState:e}=this.options;this._lastElement&&(this.clearAllStates(t,e),this.dispatchEvent("reset",{elements:[this._lastElement],options:this.options}),this._lastElement=null,this._statedElements=null)}start(t){if(t&&this._marks&&this._marks.includes(t.mark)){const{highlightState:e,blurState:r}=this.options;if(this._lastElement===t)return;this._statedElements=this.updateStates([t],this._statedElements,e,r),this._lastElement=t,this.dispatchEvent("start",{elements:[t],options:this.options})}else this._lastElement&&this._resetType==="view"&&this.clearPrevElements()}reset(t){if(!this._statedElements||!this._statedElements.length)return;const e=t&&this._marks&&this._marks.includes(t.mark);this._resetType!=="view"||e?this._resetType==="self"&&e&&this.clearPrevElements():this.clearPrevElements()}}Ri.type="element-highlight",Ri.defaultOptions={highlightState:Wl.highlight,blurState:Wl.blur,trigger:"pointerover",triggerOff:"pointerout"};class gk{updateStates(t,e,r,i){return t&&t.length?(r&&i?e&&e.length?(this.toggleReverseStateOfElements(t,e,i),this.toggleStateOfElements(t,e,r)):this.addBothStateOfElements(t,r,i):r&&(e&&e.length?this.toggleStateOfElements(t,e,r):this.addStateOfElements(t,r)),t):null}toggleReverseStateOfElements(t,e,r){e.forEach(i=>{r&&this._stateMarks[r]&&this._stateMarks[r].includes(i.mark)&&i.addState(r)}),t.forEach(i=>{r&&this._stateMarks[r]&&this._stateMarks[r].includes(i.mark)&&i.removeState(r)})}toggleStateOfElements(t,e,r){e.forEach(i=>{r&&this._stateMarks[r]&&this._stateMarks[r].includes(i.mark)&&i.removeState(r)}),t.forEach(i=>{r&&this._stateMarks[r]&&this._stateMarks[r].includes(i.mark)&&i.addState(r)})}addBothStateOfElements(t,e,r){this._marks.forEach(i=>{const s=r&&this._stateMarks[r]&&this._stateMarks[r].includes(i),o=e&&this._stateMarks[e]&&this._stateMarks[e].includes(i);(s||o)&&i.elements.forEach(a=>{t&&t.includes(a)?o&&a.addState(e):s&&a.addState(r)})})}addStateOfElements(t,e){this._marks.forEach(r=>{const i=e&&this._stateMarks[e]&&this._stateMarks[e].includes(r);i&&r.elements.forEach(s=>{t&&t.includes(s)&&i&&s.addState(e)})})}clearAllStates(t,e){this._statedElements&&this._statedElements.length&&this._marks.forEach(r=>{e&&this._stateMarks[e]&&this._stateMarks[e].includes(r)&&r.elements.forEach(i=>{i.removeState(e)}),t&&this._stateMarks[t]&&this._stateMarks[t].includes(r)&&r.elements.forEach(i=>{this._statedElements.includes(i)&&i.removeState(t)})})}}const A8=()=>{ME(Ii,gk),ht.registerInteraction(Ii.type,Ii)},M8=()=>{ME(Ri,gk),ht.registerInteraction(Ri.type,Ri)},Aw=(n,t)=>gu(n)?n.output():n&&zt(n)?bt(n.callback)?e=>n.callback(e,t):bt(n.value)?n.value(t):n:n,P8=(n,t)=>n&&(zt(n)?Object.keys(n).reduce((e,r)=>{const i=n[r];return e[r]=Aw(i,t),e},{}):n.map(e=>Aw(e,t)));let I8=-1;class Ky extends Ts{constructor(t){super(),this.spec={},this.references=new Map,this.targets=[],this.transforms=[],this.view=t,this.uid=++I8}parse(t){return this.id(t.id),this.name(t.name),this.depend(t.dependency),this}depend(t){var e;if(!((e=this.spec)===null||e===void 0)&&e.dependency){const i=Ct(this.spec.dependency).map(s=>dt(s)?this.view.getGrammarById(s):s);this.detach(i)}this.spec.dependency=t;const r=Ct(t).map(i=>dt(i)?this.view.getGrammarById(i):i);return this.attach(r),this.commit(),this}addEventListener(t,e,r){let i=e;return r&&r.trap===!1||(i=e,i.raw=e),r&&r.target&&(i.target=r.target),this.on(t,i),this}removeEventListener(t,e){return e?this.off(t,e):this.off(t),this}emit(t,...e){var r,i;return(i=(r=this.view)===null||r===void 0?void 0:r.emit)===null||i===void 0||i.call(r,t,...e),super.emit(t,...e)}emitGrammarEvent(t,...e){return super.emit(t,...e)}evaluateTransform(t,e,r){if(!t||!t.length)return e;let i=e,s=0;const o=t.length;for(;s<o;){const a=t[s];this.emit(it.BEFORE_TRANSFORM,a.type),i=a.transform(a.isRawOptions?a.options:P8(a.options,r),i,r,this.view),s++,this.emit(it.AFTER_TRANSFORM,a.type)}return i}set(t){return!1}id(t){return arguments.length?(this.view.grammars.unrecord(this),this._id=t,this.view.grammars.record(this),this):this._id}name(t){return arguments.length?(this._name=t,this):this._name}attach(t,e=1){return Ct(t).filter(r=>!z(r)).forEach(r=>{var i;z(t)||(r.targets.includes(this)||r.targets.push(this),this.references.set(r,((i=this.references.get(r))!==null&&i!==void 0?i:0)+e))}),this}detach(t,e=1){return Ct(t).filter(r=>!z(r)).forEach(r=>{const i=this.references.get(r)-e;i>0?this.references.set(r,i-1):(this.references.delete(r),r.targets.includes(this)&&(r.targets=r.targets.filter(s=>s!==this)))}),this}detachAll(){this.references.forEach((t,e)=>{this.detach(e,t)})}link(t){this.grammarSource=t}run(){var t;const e=(t=this.grammarSource)===null||t===void 0?void 0:t.output(),r=this.parameters();return this.evaluate(e,r)}commit(){this.view.commit(this)}parameters(){const t={};return this.references.forEach((e,r)=>{q(r.id())&&(t[r.id()]=r.output())}),t}getSpec(){return this.spec}reuse(t){return this}clear(){this.spec=null,this.view=null}release(){this.clear()}setFunctionSpec(t,e){return z(this.spec[e])||this.detach(hs(this.spec[e],this.view)),this.spec[e]=t,this.attach(hs(t,this.view)),this.commit(),this}}const Mw=(n,t,e)=>{var r;if(n==="callback"&&bt(t))return{references:[],value:{callback:t,dependency:[]}};if(!z(t.data)){const i=e.getDataById(t.data);return{references:[i],value:i}}if(!z(t.customized)){const i=e.getCustomizedById(t.customized);return{references:[i],value:i}}if(!z(t.scale)){const i=e.getScaleById(t.scale);return{references:[i],value:i}}if(u8(t)){const i=hs(t,e);return{references:i,value:t.callback?{value:t.callback,dependency:i}:(r=i==null?void 0:i[0])!==null&&r!==void 0?r:t}}return{value:t}},R8=(n,t,e)=>{if(z(t))return{value:t};if(ft(t)){const r=t.map(i=>Mw(n,i,e));return{references:r.reduce((i,s)=>(s.references&&i.concat(s.references),i),[]),value:r.map(i=>i.value)}}return Mw(n,t,e)},D8=(n,t)=>{const e=ht.getTransform(n.type);if(!e)return;const r={};let i=[];return Object.keys(n).forEach(s=>{var o;if(s==="type")return;const a=n[s];if(s==="dependency")return void((a==null?void 0:a.length)&&(i=i.concat(Uy(a,t))));const l=R8(s,a,t);l&&(!((o=l.references)===null||o===void 0)&&o.length&&(i=i.concat(l.references)),r[s]=l.value)}),{markPhase:e.markPhase,transform:e.transform,canProgressive:e.canProgressive,type:e.type,options:r,references:i}},Xh=(n,t)=>{if(n!=null&&n.length){const e=[];let r=[];return n.forEach(i=>{var s;const o=D8(i,t);o&&(!((s=o.references)===null||s===void 0)&&s.length&&(r=r.concat(o.references)),e.push(o))}),{transforms:e,refs:r}}return null},B8=(n,t={},e)=>{if(!dt(n))return Ct(n);try{return Ct(JSON.parse(n))}catch{return[]}},Pw={csv:$E,dsv:zE,tsv:GE,json:B8},L8=(n,t)=>{if(!t||!Pw[t.type])return Ct(n);const e=t.type==="dsv"?{delimiter:t.delimiter}:{};return Pw[t.type](n,e,new Yo(new sm))};class j8 extends Ky{constructor(t,e,r){super(t),this.grammarType="data",this.spec={},this._dataIDKey=`VGRAMMAR_DATA_ID_KEY_${this.uid}`,this._loadTasks=[],this._postFilters=[],this.ingest=i=>{const s=l8(i.format,this.parameters());return this._input=L8(i.values,s),this._input},this.load=i=>{if(i.values)return this.ingest(i)},this.relay=i=>i[0],this._loadTasks=[],z(e)||this.values(e,r)}parse(t){return super.parse(t),this._isLoaded=!1,this.source(t.source,t.format,!1),this.url(t.url,t.format,!1),this.values(t.values,t.format,!1),this.transform(t.transform),this.parseLoad(t),this.commit(),this}parseDataSource(t){const e=[],r=[],i=t.format?hs(t.format,this.view)[0]:null;if(i&&e.push(i),t.values){const s=hs(t.values,this.view)[0];s&&e.push(s),r.push({type:"ingest",transform:this.ingest,isRawOptions:!0,options:{values:t.values,format:t.format}})}else if(t.url){const s=hs(t.url,this.view)[0];s&&e.push(s),r.push({type:"load",transform:this.load,options:{url:s??t.url,format:i??t.format}})}else if(t.source){const s=[];Ct(t.source).forEach(o=>{const a=gu(o)?o:this.view.getDataById(o);a&&(e.push(a),s.push(a))}),s.length&&(r.push({type:"relay",transform:this.relay,options:s}),this.grammarSource=s[0])}return{transforms:r,refs:e}}evaluate(t,e){this.view.emit(it.BEFORE_EVALUATE_DATA);const r=this._isLoaded?this.transforms:this._loadTasks.concat(this.transforms);this.grammarSource&&(this._input=t);const i=this.evaluateTransform(r,this._input,e),s=this._evaluateFilter(i,e);return this.setValues(s),this._isLoaded=!0,this.view.emit(it.AFTER_EVALUATE_DATA),this}output(){return this._values}getDataIDKey(){return this._dataIDKey}values(t,e,r=!0){const i=Object.assign({},this.spec,{values:t,format:e});return z(t)||(i.url=void 0,i.source=void 0),r?this.parseLoad(i):this}url(t,e,r=!0){const i=Object.assign({},this.spec,{url:t,format:e});return z(t)||(i.values=void 0,i.source=void 0),r?this.parseLoad(i):this}source(t,e,r=!0){const i=Object.assign({},this.spec,{source:t,format:e});return z(t)||(i.values=void 0,i.url=void 0),r?this.parseLoad(i):this}parseLoad(t){this.detach(this.parseDataSource(this.spec).refs),this.spec=t;const e=this.parseDataSource(this.spec);return this.attach(e.refs),this._loadTasks=e.transforms,this._isLoaded=!1,this.commit(),this}setValues(t){this._values=Ct(t).map((e,r)=>{const i=e===Object(e)?e:{data:e};return i[this._dataIDKey]=r,i})}field(t){return this._values.map(e=>e[t])}transform(t){const e=Xh(this.spec.transform,this.view);e&&(this.detach(e.refs),this.transforms=[]),this.spec.transform=t;const r=Xh(this.spec.transform,this.view);return r&&(this.attach(r.refs),this.transforms=r.transforms),this.commit(),this}getValue(){return this._values}getInput(){return this._input}addDataFilter(t){return this._postFilters=this._postFilters.concat(Ct(t)),this._postFilters.sort((e,r)=>{var i,s;return((i=e.rank)!==null&&i!==void 0?i:0)-((s=r.rank)!==null&&s!==void 0?s:0)}),this}removeDataFilter(t){const e=Ct(t);return this._postFilters=this._postFilters.filter(r=>!e.includes(r)),this}_evaluateFilter(t,e){return this._postFilters.reduce((r,i)=>i.filter(r,e),t)}reuse(t){return t.grammarType!==this.grammarType||(this._isLoaded=!1,this._values=t.output()),this}clear(){super.clear(),this._input=null,this._values=null}}const ds="window",os="view",N8="browser",F8={trap:!1},bi="width",wi="height",Ro="viewWidth",Do="viewHeight",$n="padding",qy="viewBox",ml="autoFit";function z8(n){const t=Object.assign({defaults:{}},n),e=(r,i)=>{i.forEach(s=>{ft(r[s])&&(r[s]=r[s].reduce((o,a)=>(o[a]=!0,o),{}))})};return e(t.defaults,["prevent","allow"]),e(t,[os,ds]),t}function $8(n,t){const e=n.defaults,r=e.prevent,i=e.allow;return r!==!1&&i!==!0&&(r===!0||i===!1||(r?r[t]:!!i&&!i[t]))}function G8(n,t,e){const r=n==null?void 0:n[t];return!(r===!1||zt(r)&&!r[e])}function Sc(n,t,e,r){let i,s;const o=n[t];for(;t>e&&(s=Math.floor((t-1)/2),i=n[s],o&&i&&r(o,i)<0);)n[t]=i,t=s;return n[t]=o}function Op(n,t,e,r){const i=t,s=n.length,o=n[t];let a,l=2*t+1;for(;l<s;)a=l+1,a<s&&r(n[l],n[a])>=0&&(l=a),n[t]=n[l],l=2*(t=l)+1;return n[t]=o,Sc(n,t,i,r)}class H8{constructor(t){this.compare=t,this.nodes=[]}size(){return this.nodes.length}last(){return this.nodes[0]}validate(){for(let t=this.nodes.length-1;t>0;t-=1){const e=Math.floor((t-1)/2);if(this.compare(this.nodes[e],this.nodes[t])>0)return!1}return!0}push(t){if(this.nodes.includes(t)){const e=this.nodes.indexOf(t);return Sc(this.nodes,e,0,this.compare),Op(this.nodes,e,null,this.compare)}return this.nodes.push(t),Sc(this.nodes,this.nodes.length-1,0,this.compare)}remove(t){if(this.nodes.includes(t)){const e=this.nodes.indexOf(t);this.nodes=this.nodes.slice(0,e).concat(this.nodes.slice(e+1)),Sc(this.nodes,e,0,this.compare),Op(this.nodes,e,null,this.compare)}}pop(){const t=this.nodes.pop();let e;return this.nodes.length?(e=this.nodes[0],this.nodes[0]=t,Op(this.nodes,0,null,this.compare)):e=t,e}clear(){this.nodes=[]}}class Iw{constructor(t){this.list=[],this.ids={},this.idFunc=t||U5}add(t){const e=this.idFunc(t);return this.ids[e]||(this.ids[e]=1,this.list.push(t)),this}remove(t){const e=this.idFunc(t);return this.ids[e]&&(this.ids[e]=0,this.list=this.list.filter(r=>r!==t)),this}forEach(t,e){e?this.list.slice().reverse().forEach(t):this.list.forEach(t)}filter(t){return this.list.filter(t)}get length(){return this.list.length}getElementByIndex(t){return this.list[t]}}class V8{constructor(){this.grammars=[],this.logger=xt.getInstance(),this._curRank=0,this._committed=new Iw(t=>t.uid),this._heap=new H8((t,e)=>(t==null?void 0:t.qrank)-(e==null?void 0:e.qrank)),this._beforeRunner=null,this._afterRunner=null,this._updateCounter=0,this._finishFirstRender=!1}add(t){if(t)return this._setRankOfGrammar(t),this.commit(t),!this.grammars.includes(t)&&(this.grammars.push(t),!0)}remove(t){t&&(this._committed.remove(t),this._heap.remove(t),this.grammars=this.grammars.filter(e=>e!==t))}_setRankOfGrammar(t){t&&(t.rank=++this._curRank)}_reRank(t){const e=[t];for(;e.length;){const r=e.pop();this._setRankOfGrammar(r);const i=r.targets;i&&i.forEach(s=>{e.push(s),s===t&&this.logger.error("Cycle detected in dataflow graph.")})}}_enqueue(t){t&&(t.qrank=t.rank,this._heap.push(t))}_logGrammarRunInfo(t){if(this.logger.canLogError()){const e=[{key:"id",value:t.id()},{key:"name",value:t.name()}].reduce((r,i,s)=>z(i.value)?r:`${r}${s?" , ":""}${i.key}: ${i.value}`,"");this.logger.debug("Run Operator: ",t,e)}}hasCommitted(){return!!this._committed.length}commit(t){return this._committed.add(t),this}_beforeEvaluate(){this.grammars.forEach(t=>{t.targets.some(e=>(e==null?void 0:e.rank)<(t==null?void 0:t.rank))&&this._reRank(t)}),this._committed.forEach(t=>this._enqueue(t)),this._committed=new Iw(t=>t.uid)}_enqueueTargets(t){t.targets&&t.targets.length&&this._finishFirstRender&&t.targets.forEach(e=>this._enqueue(e))}evaluate(){if(this._beforeRunner&&this._beforeRunner(this),!this._committed.length)return this.logger.info("Dataflow invoked, but nothing to do."),!1;this._updateCounter+=1;let t,e,r=0;for(this.logger.canLogInfo()&&(e=Date.now(),this.logger.debug(`-- START PROPAGATION (${this._updateCounter}) -----`)),this._beforeEvaluate();this._heap.size()>0;)t=this._heap.pop(),t&&(t.rank===t.qrank?(t.run(),this._logGrammarRunInfo(t),this._enqueueTargets(t),r+=1):this._enqueue(t));return this.logger.canLogInfo()&&(e=Date.now()-e,this.logger.info(`> ${r} grammars updated; ${e} ms`)),this._afterRunner&&this._afterRunner(this),this._finishFirstRender=!0,!0}runBefore(t){this._beforeRunner=t}runAfter(t){this._afterRunner=t}release(){this._heap&&(this._heap.clear(),this._heap=null),this.logger=null,this._committed=null}}const kp=(n,t,e,r,i)=>{const s=o=>{if(i||!o||r&&!r(o)||e.call(null,o),o.markType===nt.group){const a=o[t];a&&a.forEach(l=>{s(l)})}i&&(!o||r&&!r(o)||e.call(null,o))};s(n)};class U8{constructor(t){this.handleAfterNextRender=()=>{this._stage&&!this._viewOptions.disableDirtyBounds&&this._stage.enableDirtyBounds(),this._view.emit(it.AFTER_VRENDER_DRAW),this._view.emit(it.AFTER_VRENDER_NEXT_RENDER)},this._view=t}initialize(t,e,r,i){return this._width=t,this._height=e,this._viewOptions=r,this._eventConfig=i,this.initStage(),this}stage(){var t;return(t=this._stage)!==null&&t!==void 0?t:null}gestureController(){var t;return(t=this._gestureController)!==null&&t!==void 0?t:null}canvas(){return this._stage?this._stage.window.getNativeHandler().nativeCanvas:null}context(){return this._stage?this._stage.window.getContext().nativeContext:null}combineIncrementalLayers(){return this._stage&&PF(this._stage).then(()=>{this._stage&&this._stage.defaultLayer.combineSubLayer()}),this}background(t){if(this._stage)return this._stage.background=t,this}setDpr(t,e){var r,i;return(i=(r=this._stage)===null||r===void 0?void 0:r.setDpr)===null||i===void 0||i.call(r,t),e&&this.renderNextFrame(),this}shouldResize(t,e){return t!==this._width||e!==this._height}resize(t,e){return this._view.emit(it.BEFORE_STAGE_RESIZE),this.shouldResize(t,e)&&(this._width=t,this._height=e,this._stage&&this._stage.resize(t,e)),this._view.emit(it.AFTER_STAGE_RESIZE),this}setViewBox(t,e=!0){return this._stage?(!t||this._viewBox&&t.x1===this._viewBox.x1&&t.x2===this._viewBox.x2&&t.y1===this._viewBox.y1&&t.y2===this._viewBox.y2||(this._viewBox=t,this._stage.setViewBox(t.x1,t.y1,t.x2-t.x1,t.y2-t.y1,e)),this):this}render(t=!1){return this._view.emit(it.BEFORE_VRENDER_DRAW),this.initStage(),this._stage.disableDirtyBounds(),this._stage.afterNextRender(this.handleAfterNextRender),t&&(this._stage.render(),this._view.emit(it.AFTER_VRENDER_DRAW)),this}renderNextFrame(){return this.initStage(),this._stage.renderNextFrame(),this}toCanvas(){return this._stage?this._stage.toCanvas():null}preventRender(t){this._stage&&this._stage.preventRender(t)}release(){var t;this._view.traverseMarkTree(e=>{e.release()}),this._dragController&&this._dragController.release(),this._gestureController&&this._gestureController.release(),this._stage!==((t=this._viewOptions)===null||t===void 0?void 0:t.stage)&&this._stage.release(),this._stage=null,this._layer=null,this._dragController=null,this._gestureController=null}createStage(){var t,e,r,i,s;this._view.emit(it.BEFORE_CREATE_VRENDER_STAGE);const o=this._viewOptions,a=(t=o.stage)!==null&&t!==void 0?t:P5({width:this._width,height:this._height,renderStyle:o.renderStyle,viewBox:o.viewBox,dpr:o.dpr,canvas:o.renderCanvas,canvasControled:o.canvasControled,container:o.container,title:o.rendererTitle,beforeRender:o.beforeRender,afterRender:o.afterRender,disableDirtyBounds:!0,autoRender:!0,pluginList:o.pluginList,enableHtmlAttribute:o.enableHtmlAttribute,optimize:o.optimize,ticker:o.ticker,supportsTouchEvents:o.supportsTouchEvents,supportsPointerEvents:o.supportsPointerEvents,ReactDOM:o.ReactDOM});!((e=o.options3d)===null||e===void 0)&&e.enable&&a.set3dOptions(o.options3d),a.enableIncrementalAutoRender(),this._viewBox=o.viewBox,this._view.emit(it.AFTER_CREATE_VRENDER_STAGE),this._view.emit(it.BEFORE_CREATE_VRENDER_LAYER);const l=(r=o.layer)!==null&&r!==void 0?r:a.defaultLayer;if(this._view.emit(it.AFTER_CREATE_VRENDER_LAYER),!((i=this._eventConfig)===null||i===void 0)&&i.drag&&(this._dragController=new hz(a)),(s=this._eventConfig)===null||s===void 0?void 0:s.gesture){const u=zt(this._eventConfig.gesture)?this._eventConfig.gesture:{};this._gestureController=new fz(a,u)}return{stage:a,layer:l}}initStage(){if(!this._stage){const{stage:t,layer:e}=this.createStage();this._stage=t,this._layer=e;const r=this._view.background();this.background(r)}}}function W8(n){["touches","changedTouches","targetTouches"].forEach(e=>{n[e]&&n[e].length&&Array.from(n[e]).forEach(r=>{Dw(r,Rw(r),!1)})});const t=Rw(n);return Dw(n,t)}function Rw(n){return z(n.offsetX)?z(n.x)?n.changedTouches&&n.changedTouches.length?K8(n):{canvasX:0,canvasY:0}:X8(n):Y8(n)}function Y8(n){return{canvasX:n.offsetX,canvasY:n.offsetY}}function X8(n){return{canvasX:n.x,canvasY:n.y}}function K8(n){return{canvasX:n.changedTouches[0].x,canvasY:n.changedTouches[0].y}}function Dw(n,t,e=!0){return mt(t.canvasX)&&Object.defineProperty(n,"canvasX",{value:t.canvasX,writable:!0}),mt(t.canvasY)&&Object.defineProperty(n,"canvasY",{value:t.canvasY,writable:!0}),e&&mt(t.clientX)&&Object.defineProperty(n,"clientX",{value:t.clientX,writable:!0}),e&&mt(t.clientY)&&Object.defineProperty(n,"clientY",{value:t.clientY,writable:!0}),[t.canvasX,t.canvasY]}function Hm(n,t,e,r,i){if(i===ds){const s=t.changedTouches?t.changedTouches[0]:t;W8(s)}return t.element=e,t}class q8 extends Ky{constructor(){super(...arguments),this.grammarType="signal",this.spec={value:null,update:null}}parse(t){return super.parse(t),this.value(t.value),this.update(t.update),this.commit(),this}evaluate(t,e){return this._signal=this.spec.update?ur(this.spec.update,e,this._signal):this.spec.value,this.spec.value=this._signal,this}output(){return this._signal}getValue(){return this.output()}set(t){if(ft(t)&&ft(this.value)&&t.length===this.value.length){for(let e=0;e<t.length;e++)if(this.value[e]!==t[e])return this._signal=t,this.spec.value=t,!0;return!1}return this._signal!==t&&(this._signal=t,this.spec.value=t,!0)}update(t){return z(t)||this.value(void 0),this.setFunctionSpec(t,"update")}value(t){return z(t)||this.update(void 0),this.spec.value=t,this.commit(),this}reuse(t){return t.grammarType!==this.grammarType||(this._signal=t.output()),this}clear(){super.clear(),this._signal=null}}let Z8=-1;const Bw=[bi,wi,$n,Ro,Do,qy,ml],Q8=(n,t,e)=>{var r,i,s,o,a;return[{id:bi,value:(r=n[bi])!==null&&r!==void 0?r:0},{id:wi,value:(i=n[wi])!==null&&i!==void 0?i:0},{id:$n,value:xi((o=(s=n[$n])!==null&&s!==void 0?s:t[$n])!==null&&o!==void 0?o:e==null?void 0:e.padding)},{id:Ro,update:{callback:(l,u)=>{const c=xi(u[$n]);return u[bi]-c.left-c.right},dependency:[bi,$n]}},{id:Do,update:{callback:(l,u)=>{const c=xi(u[$n]);return u[wi]-c.top-c.bottom},dependency:[wi,$n]}},{id:qy,update:{callback:(l,u)=>{const c=xi(u[$n]);return(l||new Mn).setValue(c.left,c.top,c.left+u[Ro],c.top+u[Do])},dependency:[Ro,Do,$n]}},{id:ml,value:(a=n[ml])!==null&&a!==void 0?a:t[ml]}]},xi=n=>{var t,e,r,i;return Tt(n)?{top:n,bottom:n,left:n,right:n}:{top:(t=n==null?void 0:n.top)!==null&&t!==void 0?t:0,bottom:(e=n==null?void 0:n.bottom)!==null&&e!==void 0?e:0,left:(r=n==null?void 0:n.left)!==null&&r!==void 0?r:0,right:(i=n==null?void 0:n.right)!==null&&i!==void 0?i:0}},J8=n=>{var t;const e=(r,i)=>{var s,o;r.group=i;const a=(s=r.id)!==null&&s!==void 0?s:"VGRAMMAR_MARK_"+ ++Z8;r.id=a,((o=r.marks)!==null&&o!==void 0?o:[]).forEach(l=>e(l,a))};return((t=n.marks)!==null&&t!==void 0?t:[]).forEach(r=>e(r,"root")),n},t$=n=>{var t,e,r,i,s;const{reuse:o=t8,morph:a=e8,morphAll:l=n8,animation:u={},enableExitAnimation:c=i8}=n??{};return{reuse:o,morph:a,morphAll:l,animation:{easing:(t=u.easing)!==null&&t!==void 0?t:$m,delay:(e=u.delay)!==null&&e!==void 0?e:Fm,duration:(r=u.duration)!==null&&r!==void 0?r:lk,oneByOne:(i=u.oneByOne)!==null&&i!==void 0?i:zm,splitPath:(s=u.splitPath)!==null&&s!==void 0?s:r8},enableExitAnimation:c}},e$=n=>z(n.markId)?t=>t&&t.mark.id()===n.markId:z(n.markName)?t=>t&&t.mark.name()===n.markName:z(n.type)?t=>t&&t.mark.markType===n.type:()=>!0,n$=(n,t)=>t&&t.debounce?su(n,t.debounce):t&&t.throttle?DE(n,t.throttle):n,r$="@",i$="#",s$=(n,t=os)=>{const e={},r=n.split(":");if(r.length===2){const[i,s]=r;i[0]==="#"?(e.markId=i.slice(1),e.source=t):i[0]==="@"?(e.markName=i.slice(1),e.source=t):ck(i)?(e.markType=i,e.source=t):e.source=i===ds?ds:t,e.type=s}else r.length===1&&(e.type=n,e.source=t);return e};function o$(n){n.mode&&Wn.setEnv(n.mode,n.modeParams||{})}class a$ extends dk{constructor(t){super(t),this.getStateAttrs=(e,r)=>{var i,s,o;const a=!z((i=this.runtimeStatesEncoder)===null||i===void 0?void 0:i[e]),l=a?this.runtimeStatesEncoder[e]:(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[e],u={};if(!l)return u;if(bt(l))return u.attributes=l(this.getDatum(),this,e,r),u;if(!a&&(!((o=this.graphicItem.glyphStates)===null||o===void 0)&&o[e]))return this.graphicItem.glyphStates[e];if(l){const c=this.items[0],h=[Object.assign({},c,{nextAttrs:{}})];return Nr(this,h,l,this.mark.parameters()),this.coordinateTransformEncode(h),u.attributes=h[0].nextAttrs,this.graphicItem.glyphStates?this.graphicItem.glyphStates[e]||(this.graphicItem.glyphStates[e]=u):this.graphicItem.glyphStates={[e]:u},u}return u},this.glyphMeta=this.mark.getGlyphMeta()}getGlyphGraphicItems(){return this.glyphGraphicItems}initGraphicItem(t={}){if(this.graphicItem)return;this.graphicItem=this.mark.addGraphicItem(t,this.groupKey),this.graphicItem[Cs]=this,this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!1);const e=this.glyphMeta.getMarks();this.glyphGraphicItems={},this.graphicItem.getSubGraphic().forEach(r=>{const i=e[r.name];this.glyphGraphicItems[r.name]=r,r.onBeforeAttributeUpdate=s=>this.mark?Yh(i,s,this,r.name):s}),this.clearGraphicAttributes()}useStates(t,e){if(!this.graphicItem)return!1;this.mark.emit(it.BEFORE_ELEMENT_STATE,{states:t},this),this.states=t.slice();const r=Ar(e)?e:this.mark.animate.getAnimationConfigs("state").length!==0;return this.graphicItem.glyphStateProxy=this.getStateAttrs,this.graphicItem.useStates(this.states,r),this.mark.emit(it.AFTER_ELEMENT_STATE,{states:t},this),!0}encodeGraphic(){this.coordinateTransformEncode(this.items);const t=this.transformElementItems(this.items,this.mark.markType);this.graphicItem||this.initGraphicItem(),this.diffState===kt.enter?(this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!0),this.applyGraphicAttributes(t),this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!1)):this.applyGraphicAttributes(t),this.diffState!==kt.enter&&this.diffState!==kt.update||!this.states.length||(Object.values(this.glyphGraphicItems).forEach(e=>{e.states={}}),this.useStates(this.states)),this.items.map(e=>{e.nextAttrs={}})}encodeCustom(t){var e;let r={};const i=this.glyphMeta.getChannelEncoder(),s=this.glyphMeta.getFunctionEncoder();if(s&&(r=s.call(null,Object.assign({},(e=this.graphicItem)===null||e===void 0?void 0:e.attribute,t),this.getDatum(),this,this.mark.getGlyphConfig())),i){let o;Object.keys(i).forEach(a=>{var l;if(!z(t[a])){o||(o=Object.assign({},(l=this.graphicItem)===null||l===void 0?void 0:l.attribute,t));const u=i[a].call(null,a,t[a],o,this.getDatum(),this,this.mark.getGlyphConfig());Object.keys(u??{}).forEach(c=>{var h;r[c]=Object.assign((h=r[c])!==null&&h!==void 0?h:{},u[c])})}})}return r}encodeDefault(){const t={};if(this.diffState===kt.enter&&this.glyphMeta.getDefaultEncoder()){const e=this.glyphMeta.getDefaultEncoder().call(null,this.getDatum(),this,this.mark.getGlyphConfig());Object.assign(t,e)}return t}_onGlyphAttributeUpdate(t=!1){return e=>{if(!this.mark)return e;const r=this.glyphMeta.getMarks(),i=Yh(this.mark.getAttributeTransforms(),e,this),s=t?this.encodeDefault():null,o=this.encodeCustom(e);return Object.keys(r).forEach(a=>{const l=r[a],u=this.glyphGraphicItems[a],c=o==null?void 0:o[a],h=Object.assign({},c);if(t){const g=s==null?void 0:s[a];Object.keys(g??{}).forEach(_=>{lr(this.items[0].nextAttrs,_)||lr(h,_)||(h[_]=g[_])})}const d=Object.assign({},_8(l,e),h),f=this._generateGlyphItems(l,this.items,d);this.coordinateTransformEncode(f);const p=this.transformElementItems(f,l);this.applyGlyphGraphicAttributes(p,a,u),l===nt.shape&&(u.datum=f[0].datum)}),i}}_generateGlyphItems(t,e,r){const i=e.map(s=>Object.assign({},s,{nextAttrs:r}));return ak.includes(t)&&this.mark.getSpec().enableSegments&&i.forEach((s,o)=>{s.nextAttrs=Object.assign({},e[o].nextAttrs,r)}),i}getGraphicAttribute(t,e=!1,r){if(!this.graphicItem)return;const i=this.getPrevGraphicAttributes(r);return e&&lr(i,t)?i[t]:(r?this.glyphGraphicItems[r]:this.graphicItem).attribute[t]}setGraphicAttribute(t,e,r=!0,i){if(!this.graphicItem)return;const s=i?this.glyphGraphicItems[i]:this.graphicItem,o=this.getFinalGraphicAttributes(i),a=this.getPrevGraphicAttributes(i);r&&(o[t]=e),lr(a,t)||(a[t]=s.attribute[t]),s.setAttribute(t,e)}setGraphicAttributes(t,e=!0,r){if(!this.graphicItem)return;const i=r?this.glyphGraphicItems[r]:this.graphicItem,s=this.getFinalGraphicAttributes(r),o=this.getPrevGraphicAttributes(r);Object.keys(t).forEach(a=>{e&&(s[a]=t[a]),lr(o,a)||(o[a]=i.attribute[a])}),i.setAttributes(t)}diffAttributes(t,e){const r={},i=this.getFinalGraphicAttributes(e);for(const s in t)ef(s,i,t)||(r[s]=t[s]);return r}applyGlyphGraphicAttributes(t,e,r){var i,s;if(this.mark.needAnimate()){const o=this.diffAttributes(t,e),a=(i=this.getPrevGraphicAttributes(e))!==null&&i!==void 0?i:{},l=(s=this.getFinalGraphicAttributes(e))!==null&&s!==void 0?s:{};Object.keys(o).forEach(u=>{a[u]=r.attribute[u],l[u]=o[u]}),this.setNextGraphicAttributes(o,e),this.setPrevGraphicAttributes(a,e),this.setFinalGraphicAttributes(l,e),r.setAttributes(o)}else r.setAttributes(t)}getFinalGraphicAttributes(t){return(t?this.glyphGraphicItems[t]:this.graphicItem).finalAttrs}setFinalGraphicAttributes(t,e){(e?this.glyphGraphicItems[e]:this.graphicItem).finalAttrs=t}getPrevGraphicAttributes(t){return(t?this.glyphGraphicItems[t]:this.graphicItem).prevAttrs}setPrevGraphicAttributes(t,e){(e?this.glyphGraphicItems[e]:this.graphicItem).prevAttrs=t}getNextGraphicAttributes(t){return(t?this.glyphGraphicItems[t]:this.graphicItem).nextAttrs}setNextGraphicAttributes(t,e){(e?this.glyphGraphicItems[e]:this.graphicItem).nextAttrs=t}clearChangedGraphicAttributes(){this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null),Object.keys(this.glyphGraphicItems).forEach(t=>{this.setPrevGraphicAttributes(null,t),this.setNextGraphicAttributes(null,t)})}clearGraphicAttributes(){this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null),this.setFinalGraphicAttributes(null),Object.keys(this.glyphGraphicItems).forEach(t=>{this.setPrevGraphicAttributes(null,t),this.setNextGraphicAttributes(null,t),this.setFinalGraphicAttributes(null,t)})}remove(){this.glyphGraphicItems=null,super.remove()}release(){this.glyphGraphicItems&&(Object.values(this.glyphGraphicItems).forEach(t=>{t[Cs]=null}),this.glyphGraphicItems=null),super.release()}}const Ec=n=>n.markType===nt.glyph?new a$(n):new dk(n);function Vr(n,t,e){const r=new Map;if(!n||n.length===0)return{keys:[],data:r};if(!t)return r.set(hn,e?n.slice().sort(e):n.slice()),{keys:Jz,data:r};const i=Io(t);if(n.length===1){const o=i(n[0]);return r.set(o,[n[0]]),{keys:[o],data:r}}const s=new Set;return n.forEach(o=>{var a;const l=i(o),u=(a=r.get(l))!==null&&a!==void 0?a:[];u.push(o),r.set(l,u),s.add(l)}),e&&s.forEach(o=>{r.get(o).sort(e)}),{keys:Array.from(s),data:r}}class Zy{constructor(t,e,r){this.prevData=t!=null&&t.length?Vr(t,e??null,r):null}setCurrentData(t){this.currentData=t}getCurrentData(){return this.currentData}doDiff(){if(this.callback)if(this.currentData&&this.prevData){const t=new Map(this.prevData.data);this.currentData.keys.forEach(e=>{this.callback(e,this.currentData.data.get(e),t.get(e)),t.delete(e)}),this.prevData.keys.forEach(e=>{t.has(e)&&this.callback(e,null,t.get(e))})}else this.currentData?this.currentData.keys.forEach(t=>{this.callback(t,this.currentData.data.get(t),null)}):this.prevData&&this.prevData.keys.forEach(t=>{this.callback(t,null,this.prevData.data.get(t))})}setCallback(t){this.callback=t}updateToCurrent(){this.prevData=this.currentData,this.currentData=null}reset(){this.prevData=null}}function l$(n,t,e){const r={enter:[],exit:[],update:[]},i=new Zy(n,e);return i.setCallback((s,o,a)=>{z(o)?r.exit.push({prev:a[0]}):z(a)?r.enter.push({next:o[0]}):r.update.push({next:o[0],prev:a[0]})}),i.setCurrentData(Vr(t,e)),i.doDiff(),r}function u$(n,t,e){const r={enter:[],exit:[],update:[]},i=new Zy(n,e);return i.setCallback((s,o,a)=>{z(o)?r.exit.push({prev:a}):z(a)?r.enter.push({next:o}):r.update.push({next:o,prev:a})}),i.setCurrentData(Vr(t,e)),i.doDiff(),r}const mk=(n,t)=>{if(!n)return null;if(n.from){const e=n.from,r=Object.keys(e);r.forEach(s=>{z(e[s])&&delete e[s]});const i=Uh(r,t.mark.markType)&&!q(e.segments);if(i){const s=t.items.map(o=>Object.assign({},o,{nextAttrs:Object.assign({},e)}));n.from=t.transformElementItems(s,t.mark.markType,i)}}if(n.to){const e=n.to,r=Object.keys(e);r.forEach(s=>{z(e[s])&&delete e[s]});const i=Uh(r,t.mark.markType)&&!q(e.segments);if(i){const s=t.items.map(o=>Object.assign({},o,{nextAttrs:Object.assign({},e)}));n.to=t.transformElementItems(s,t.mark.markType,i)}}return n};function c$(n,t,e,r){const i=bt(t.options)?t.options.call(null,n.getDatum(),n,r):t.options;if(!t.type||!ht.getAnimationType(t.type))return null;const s=ht.getAnimationType(t.type)(n,i,e);return mk(s,n)}const Lw=(n,t,e,r,i)=>bt(e)?e(n.getDatum(),n,i):e;function h$(n,t,e,r){const i=t.channel;let s=null;return ft(i)?s=i.reduce((o,a)=>(o.from[a]=n.getGraphicAttribute(a,!0),o.to[a]=n.getGraphicAttribute(a,!1),o),{from:{},to:{}}):zt(i)&&(s=Object.keys(i).reduce((o,a)=>{var l,u;const c=!z((l=i[a])===null||l===void 0?void 0:l.from),h=!z((u=i[a])===null||u===void 0?void 0:u.to);return(c||h)&&(o.from[a]=c?Lw(n,0,i[a].from,0,r):void 0,o.to[a]=h?Lw(n,0,i[a].to,0,r):n.getGraphicAttribute(a,!1)),o},{from:{},to:{}})),mk(s,n)}class d$ extends As{constructor(t,e,r,i,s){super(t,e,r,i,s),this._interpolator=s==null?void 0:s.interpolator,this._element=s==null?void 0:s.element}onBind(){var t,e;this.from=(t=this.from)!==null&&t!==void 0?t:{},this.to=(e=this.to)!==null&&e!==void 0?e:{}}getEndProps(){return this.to}onUpdate(t,e,r){this._interpolator&&this._element&&this._interpolator.call(this,e,this.from,this.to,r,this._element.getDatum(),this._element,this.params.parameters)}}class f$ extends As{getEndProps(){return this.to}onBind(){var t;const e=(t=this.target.constructor.NOWORK_ANIMATE_ATTR)!==null&&t!==void 0?t:AO,r=Object.keys(e).filter(a=>e[a]!==0);this.subAnimate.animate.preventAttrs(r);const i=Object.assign({},this.from),s=Object.assign({},this.to),o=[];Object.keys(s).forEach(a=>{r.includes(a)?(i[a]=s[a],this.from[a]=s[a]):z(i[a])?i[a]=this.target.getComputedAttribute(a):o.push(a)}),this.target.animates.forEach(a=>{a!==this.subAnimate.animate&&a.preventAttrs(o)}),this._fromAttribute=i,this._toAttribute=s}onStart(){if(this._fromAttribute){const t={};Object.keys(this._fromAttribute).forEach(e=>{this.subAnimate.animate.validAttr(e)&&(t[e]=this._fromAttribute[e])}),this.target.setAttributes(t,!1,{type:Oe.ANIMATE_UPDATE,animationState:{ratio:0,end:!1}})}}onEnd(){if(this._toAttribute){const t={};Object.keys(this._toAttribute).forEach(e=>{this.subAnimate.animate.validAttr(e)&&(t[e]=this._toAttribute[e])}),this.target.setAttributes(t,!1,{type:Oe.ANIMATE_END})}}update(t,e,r){this.updateCount===0&&this.onFirstRun(),this.updateCount+=1;const i=this.step.getLastProps();Object.keys(i).forEach(s=>{this.subAnimate.animate.validAttr(s)&&(r[s]=i[s])}),this.onUpdate(t,e,r),t&&this.onEnd()}onUpdate(t,e,r){this.target.stepInterpolate(this.subAnimate,this.subAnimate.animate,r,this.step,e,t,this._toAttribute,this._fromAttribute)}}vh.mode|=Gl.SET_ATTR_IMMEDIATELY;let p$=0;const jw=n=>!z(n)&&n.prototype instanceof As;class g${constructor(t,e,r){this.id=p$++,this.isAnimating=!1,this.runnings=[],this.element=t,this.animationOptions=r,this.unit=e}callback(t){return this.callbackFunction=t,this}animate(t,e){return this.isAnimating=!0,this.animateElement(t,e),this.runnings.length===0&&this.animationEnd(),this}stop(t="end",e=!0){return this.runnings.forEach(r=>r.stop(t)),this.animationEnd(e),this}pause(){return this.runnings.forEach(t=>t.pause()),this}resume(){return this.runnings.forEach(t=>t.resume()),this}startAt(t){return this.runnings.forEach(e=>{const r=this.unit.initialDelay;e.startAt(r+t)}),this}getTotalAnimationTime(){var t;const e=this.unit.initialDelay+this.unit.loopDuration*this.unit.loopCount;return(t=this.unit.totalTime)!==null&&t!==void 0?t:e}getEndAttributes(){return this.runnings.reduce((t,e)=>Object.assign(t,e.getEndProps()),{})}animationEnd(t=!0){var e;this.isAnimating=!1,this.runnings=null,t&&((e=this.callbackFunction)===null||e===void 0||e.call(null))}animateElement(t,e){const r=this.element.getGraphicItem();if(!r)return;const i=r.animate();this.runnings.push(i),i.startAt(this.unit.initialDelay),i.wait(this.unit.loopDelay),this.unit.timeSlices.forEach(s=>{this.animateTimeSlice(i,s,t,e)}),i.wait(this.unit.loopDelayAfter),i.loop(this.unit.loopCount-1),mt(this.unit.totalTime)&&setTimeout(()=>{i&&i.stop("end")},this.unit.totalTime),i.onEnd(()=>{this.runnings=this.runnings.filter(s=>s!==i),this.runnings.length===0&&this.animationEnd()})}animateTimeSlice(t,e,r,i){const s=e.delay,o=e.delayAfter,a=e.duration,l=e.effects;if(s>0&&t.wait(s),l.length<0)t.wait(a);else{const u=l.map((c,h)=>{var d;const f=(d=c.type?c$(this.element,c,r,i):c.channel?h$(this.element,c,r,i):void 0)!==null&&d!==void 0?d:{},p=f.custom||(c==null?void 0:c.custom),g=(f==null?void 0:f.customParameters)||(c==null?void 0:c.customParameters);f.from&&Object.keys(f.from).length&&this.unit&&this.animationOptions.timeline.controlOptions.immediatelyApply&&this.element.mark.markType!=="component"&&this.element.getGraphicItem().setAttributes(f.from);const _=jw(p);return!z(p)&&!jw(p)?new d$(f.from,f.to,a,c.easing,{interpolator:p,element:this.element,parameters:g}):_?new p(f.from,f.to,a,c.easing,g):f.to?new f$(f.from,f.to,a,c.easing):void 0}).filter(c=>!z(c));u.length===1?t.play(u[0]):u.length>1&&t.play(new rF(a,u))}o>0&&t.wait(o)}}function m$(n){var t,e,r,i,s,o,a,l,u,c,h,d;if(z(n.timeSlices)){const p=n;return{startTime:(t=p.startTime)!==null&&t!==void 0?t:Cw,totalTime:p.totalTime,oneByOne:(e=p.oneByOne)!==null&&e!==void 0?e:zm,loop:(r=p.loop)!==null&&r!==void 0?r:Ew,controlOptions:Mr({},Ow,(i=p.controlOptions)!==null&&i!==void 0?i:{}),timeSlices:[{duration:(s=p.duration)!==null&&s!==void 0?s:lk,delay:(o=p.delay)!==null&&o!==void 0?o:Fm,delayAfter:(a=p.delayAfter)!==null&&a!==void 0?a:Sw,effects:[{type:p.type,channel:p.channel,custom:p.custom,easing:(l=p.easing)!==null&&l!==void 0?l:$m,customParameters:p.customParameters,options:p.options}]}]}}const f=Ct(n.timeSlices).filter(p=>p.effects&&Ct(p.effects).filter(g=>g.channel||g.type).length);if(f.length)return{startTime:(u=n.startTime)!==null&&u!==void 0?u:Cw,totalTime:n.totalTime,oneByOne:(c=n.oneByOne)!==null&&c!==void 0?c:zm,loop:(h=n.loop)!==null&&h!==void 0?h:Ew,controlOptions:Mr({},Ow,(d=n.controlOptions)!==null&&d!==void 0?d:{}),timeSlices:f.map(p=>{var g,_;return{duration:p.duration,delay:(g=p.delay)!==null&&g!==void 0?g:Fm,delayAfter:(_=p.delayAfter)!==null&&_!==void 0?_:Sw,effects:Ct(p.effects).filter(m=>m.channel||m.type).map(m=>{var y;return{type:m.type,channel:m.channel,custom:m.custom,easing:(y=m.easing)!==null&&y!==void 0?y:$m,customParameters:m.customParameters,options:m.options}})}}),partitioner:n.partitioner,sort:n.sort}}function Nw(n){let t=[];return Object.keys(n).forEach(e=>{t=t.concat(vk(e,n[e]))}),t}function vk(n,t,e=0){const r=[];let i=e;return Ct(t).forEach(s=>{var o;const a=m$(s);a&&(r.push({state:n,id:(o=a.id)!==null&&o!==void 0?o:`${n}-${i}`,timeline:a,originConfig:s}),i+=1)}),r}function ii(n,t,e){return bt(n)?n.call(null,t.getDatum(),t,e):n}class Fw{constructor(t){this.parallelArrangers=[this],this.totalTime=0,this.startTime=0,this.endTime=0,this.animators=t.filter(e=>!z(e)),this.totalTime=this.animators.reduce((e,r)=>Math.max(e,r.getTotalAnimationTime()),0)}parallel(t){const e=Array.from(new Set(this.parallelArrangers.concat(t.parallelArrangers)));return e.forEach(r=>{r.parallelArrangers=e}),this.arrangeTime(),this}after(t){return this.afterArranger=t,this.arrangeTime(),this}arrangeTime(){const t=this.parallelArrangers.reduce((r,i)=>Math.max(r,i.totalTime),this.totalTime),e=this.parallelArrangers.reduce((r,i)=>{var s,o;return Math.max(r,(o=(s=i.afterArranger)===null||s===void 0?void 0:s.endTime)!==null&&o!==void 0?o:0)},0);this.parallelArrangers.forEach(r=>{r.startTime=e,r.endTime=e+t,r.animators.forEach(i=>{i.startAt(e)})})}}class zw{constructor(t,e){this.state=null,this.immediateConfigs=[],this.isEnabled=!0,this.disabledStates=[],this.animators=new Map,this.elementRecorder=new WeakMap,this.timelineCount={},this.mark=t,this.configs=Nw(e??{})}getAnimationConfigs(t){var e;return this.isEnabled?((e=this.configs)!==null&&e!==void 0?e:[]).filter(r=>r.state===t):[]}updateConfig(t){this.configs=Nw(t??{})}updateState(t){this.state=t}animate(){if(!this.isEnabled||!this.configs||!this.configs.length)return;const t=this.mark.getAllElements(),e=this.mark.parameters();return t.forEach(r=>{var i;r.isReserved&&r.diffState!==kt.exit&&(r.isReserved=!1);const s=(i=this.elementRecorder.get(r))===null||i===void 0?void 0:i.prevState;this.configs.some(o=>s!==r.diffState&&o.state===s&&o.timeline.controlOptions.stopWhenStateChange)&&this.clearElementAnimation(r,!1)}),this.configs.forEach(r=>{this.animateByTimeline(r,t,e)}),this.mark.cleanExitElements(),this}runAnimationByState(t){if(!this.isEnabled)return;const e=this.configs.filter(o=>o.state===t),r=this.mark.getAllElements(),i=this.mark.parameters(),s=e.reduce((o,a)=>o.concat(this.animateByTimeline(a,r,i,!0)),[]);return new Fw(s)}stopAnimationByState(t){const e=this.animators.get(t);return e&&e.forEach(r=>r.stop()),this}pauseAnimationByState(t){const e=this.animators.get(t);return e&&e.forEach(r=>r.pause()),this}resumeAnimationByState(t){const e=this.animators.get(t);return e&&e.forEach(r=>r.resume()),this}run(t){if(!this.isEnabled)return;const e=vk(xw,t,this.immediateConfigs.length);this.immediateConfigs=this.immediateConfigs.concat(e);const r=this.mark.getAllElements(),i=this.mark.parameters(),s=e.reduce((o,a)=>o.concat(this.animateByTimeline(a,r,i,!0)),[]);return new Fw(s)}stop(){return this.animators.forEach(t=>{t.forEach(e=>e.stop())}),this}pause(){return this.animators.forEach(t=>t.forEach(e=>e.pause())),this}resume(){return this.animators.forEach(t=>t.forEach(e=>e.resume())),this}reverse(){return this}restart(){return this}record(){return this}recordEnd(){return this}isAnimating(){let t=!1;return this.animators.forEach(e=>{t=t||e.some(r=>r.isAnimating)}),t}isElementAnimating(t){var e;const r=(e=this.elementRecorder.get(t))===null||e===void 0?void 0:e.count;return z(r)||Object.values(r).every(i=>i===0)}getAnimatorCount(){let t=0;return this.animators.forEach(e=>t+=e.length),t}getAllAnimators(){const t=[];return this.animators.forEach(e=>{t.push(...e)}),t}getElementAnimators(t,e){var r;const i=Ct(t);let s=[];return e?s=(r=this.animators.get(e))!==null&&r!==void 0?r:[]:this.animators.forEach(o=>{s=s.concat(o)}),s.filter(o=>i.includes(o.element))}enable(){return this.isEnabled=!0,this}disable(){return this.isEnabled=!1,this.stop(),this.animators.clear(),this}enableAnimationState(t){const e=Ct(t);return this.disabledStates=this.disabledStates.filter(r=>!e.includes(r)),this}disableAnimationState(t){const e=Ct(t);return this.disabledStates=this.disabledStates.concat(e),this}release(){this.stop(),this.animators.clear(),this.configs=null,this.animators=null,this.elementRecorder=null,this.timelineCount=null}animateByTimeline(t,e,r,i=!1){var s;const o=[],a=e.filter(l=>{const u=!(l.isReserved&&l.diffState===kt.exit),c=this.getAnimationState(l),h=!this.disabledStates.includes(c),d=i||c===t.state,f=!t.timeline.partitioner||t.timeline.partitioner(l.getDatum(),l,r);return u&&h&&d&&f});if(a.length){z(this.timelineCount[t.id])&&(this.timelineCount[t.id]=0),t.timeline.sort&&a.sort((u,c)=>t.timeline.sort(u.getDatum(),c.getDatum(),u,c,r));const l={width:this.mark.view.width(),height:this.mark.view.height(),group:(s=this.mark.group)!==null&&s!==void 0?s:null,mark:this.mark,view:this.mark.view,elementCount:a.length,elementIndex:0};a.forEach((u,c)=>{l.elementIndex=c;const h=Object.assign({[s8]:l},r),d=this.getAnimationUnit(t.timeline,u,c,a.length,h);o.push(this.animateElement(t,d,u,l,h))})}return o}animateElement(t,e,r,i,s){var o,a;const l=new g$(r,e,t);if(l.animate(i,s),!l.isAnimating)return;r.diffState===kt.exit&&(r.isReserved=!0);const u=this.timelineCount[t.id]===0;this.timelineCount[t.id]+=1;const c=(o=this.elementRecorder.get(r))!==null&&o!==void 0?o:{prevState:t.state,count:{}};c.prevState=t.state,c.count[t.state]=((a=c.count[t.state])!==null&&a!==void 0?a:0)+1,this.elementRecorder.set(r,c);const h=this.animators.get(t.state);h?h.push(l):this.animators.set(t.state,[l]),l.callback(()=>{this.handleAnimatorEnd(l)});const d={mark:this.mark,animationState:t.state,animationConfig:t.originConfig};return u&&this.mark.emit(it.ANIMATION_START,d),this.mark.emit(it.ELEMENT_ANIMATION_START,d,r),l}getAnimationState(t){const e=ur(this.state,this.mark.parameters(),t.getDatum(),t);return e??t.diffState}getAnimationUnit(t,e,r,i,s){const o=[],a=ii(t.startTime,e,s),l=ii(t.totalTime,e,s),u=ii(t.oneByOne,e,s),c=ii(t.loop,e,s);let h=0;t.timeSlices.forEach(f=>{var p;const g=ii(f.delay,e,s),_=ii(f.delayAfter,e,s),m=(p=ii(f.duration,e,s))!==null&&p!==void 0?p:l/i,y=Ct(f.effects).map(v=>Object.assign({},v,{customParameters:ii(v.customParameters,e,s)}));o.push({effects:y,duration:m,delay:g,delayAfter:_}),h+=g+m+_});const d=Tt(u)?u:u===!0?h:0;return{initialDelay:a,loopCount:Tt(c)?c:c===!0?1/0:1,loopDelay:d*r,loopDelayAfter:d*(i-r-1),loopAnimateDuration:h,loopDuration:h+d*(i-1),totalTime:l,timeSlices:o}}clearElementAnimation(t,e=!0){this.animators.forEach(r=>{r.forEach(i=>{i.element===t&&(i.animationOptions.state===kt.exit?i.stop("start",!1):i.stop("end",!1),this.handleAnimatorEnd(i,e))})}),this.elementRecorder.delete(t)}clearAllElements(){const t=this.mark.getAllElements();t&&t.forEach((e,r)=>{this.clearElement(e,r===t.length-1)})}clearElement(t,e=!0){this.clearElementAnimation(t),t.getGraphicItem()&&(t.clearGraphicAttributes(),t.diffState===kt.exit&&(t.isReserved=!1),e&&this.mark.cleanExitElements())}handleAnimatorEnd(t,e=!0){const r=t.element,i=t.animationOptions,s=i.state,o=s===xw,a=this.elementRecorder.get(r).count;a[s]-=1,this.animators.set(s,this.animators.get(s).filter(h=>h!==t)),this.animators.get(s).length===0&&this.animators.delete(s),this.timelineCount[i.id]-=1;const l=this.timelineCount[i.id]===0,u=o?this.immediateConfigs.find(h=>h.id===i.id).originConfig:this.configs.find(h=>h.id===i.id).originConfig;l&&(delete this.timelineCount[i.id],o&&(this.immediateConfigs=this.immediateConfigs.filter(h=>h.id!==i.id))),e&&(Object.keys(this.timelineCount).length===0?this.clearAllElements():s===kt.exit&&a[kt.exit]===0&&this.clearElement(r));const c={mark:this.mark,animationState:s,animationConfig:u};l&&this.mark.emit(it.ANIMATION_END,c),this.mark.emit(it.ELEMENT_ANIMATION_END,c,r)}}class mu extends Ky{constructor(t,e,r){super(t),this.grammarType="mark",this.elements=[],this.elementMap=new Map,this.isUpdated=!0,this._isReentered=!1,this.animate=new zw(this,{}),this.differ=new Zy([]),this.markType=e,this.spec.type=e,this.spec.encode={update:{}},this.spec.group=r,r&&(this.group=r,this.attach(r),r.appendChild(this))}parse(t){var e,r,i;if(super.parse(t),this.spec.group){const o=dt(this.spec.group)?this.view.getMarkById(this.spec.group):this.spec.group;this.detach(o)}const s=dt(t.group)?this.view.getMarkById(t.group):t.group;return this.attach(s),this.join((e=t.from)===null||e===void 0?void 0:e.data,t.key,t.sort,t.groupBy,t.groupSort),this.coordinate(t.coordinate),this.state(t.state,this.spec.stateSort),Object.keys((r=this.spec.encode)!==null&&r!==void 0?r:{}).forEach(o=>{this.encodeState(o,{},!0)}),Object.keys((i=t.encode)!==null&&i!==void 0?i:{}).forEach(o=>{this.encodeState(o,t.encode[o])}),this.animation(t.animation),this.animationState(t.animationState),this.morph(t.morph,t.morphKey,t.morphElementKey),this.layout(t.layout),this.configure(t),this.transform(t.transform),this.parseAddition(t),this.spec=t,this.markType=t.type,this.commit(),this}parameters(){var t;return(t=this._finalParameters)!==null&&t!==void 0?t:super.parameters()}parseAddition(t){return this}reuse(t){if(t.grammarType!==this.grammarType)return this;const e=t;return this.markType=e.markType,this.coord=e.coord,this.elementMap=e.elementMap,this.elements=e.elements,this.elementMap.forEach(r=>r.mark=this),this.differ=e.differ,this.animate=e.animate,this.animate.mark=this,this._context=e._context,this.graphicItem=e.graphicItem,this.graphicIndex=e.graphicIndex,this.graphicParent=e.graphicParent,this.needClear=e.needClear,this.isUpdated=e.isUpdated,this}needLayout(){return!z(this.spec.layout)}handleLayoutEnd(){}handleRenderEnd(){this.needClear&&(this.cleanExitElements(),this.elementMap.forEach(t=>{t.diffState===kt.exit?t.clearGraphicAttributes():t.clearChangedGraphicAttributes()}),this.differ.updateToCurrent(),this.needClear=!1)}evaluateMainTasks(t,e){var r;if(this.needSkipBeforeLayout()&&this.view.getLayoutState()===zr.before)return this;const i=(r=this.view.renderer)===null||r===void 0?void 0:r.stage();this.init(i,e);const s=this.evaluateTransform(this._getTransformsBeforeJoin(),t??Cc,e);let o=s!=null&&s.progressive?t:s;return this.evaluateGroup(o),this.renderContext=this.parseRenderContext(o,e),this.renderContext.progressive?(this.differ.reset(),this.elementMap.clear(),this.evaluateProgressive()):(s!=null&&s.progressive&&(this.renderContext.parameters=e,this.renderContext.beforeTransformProgressive=s.progressive,o=s.progressive.output()),this.emit(it.BEFORE_MARK_JOIN),this.evaluateJoin(o),this.emit(it.AFTER_MARK_JOIN),this.emit(it.BEFORE_MARK_STATE),this.evaluateState(this.elements,this.spec.state,e),this.emit(it.AFTER_MARK_STATE),this.emit(it.BEFORE_MARK_ENCODE),this.evaluateEncode(this.elements,this._getEncoders(),e),this.emit(it.AFTER_MARK_ENCODE)),this.emit(it.BEFORE_MARK_UPDATE),this.update(this.spec),this.emit(it.AFTER_MARK_UPDATE),this}evaluateGroup(t){if(this.markType===nt.group)return;const e=Vr(t??Cc,this.spec.groupBy,this.spec.groupSort),r=e.keys;this._groupKeys=r,this._groupEncodeResult=null,this.differ.setCurrentData(e)}_getTransformsAfterEncodeItems(){return this.transforms&&this.transforms.filter(t=>t.markPhase==="afterEncodeItems")}_getTransformsAfterEncode(){return this.transforms&&this.transforms.filter(t=>z(t.markPhase)||t.markPhase==="afterEncode")}_getTransformsBeforeJoin(){return this.transforms?this.transforms.filter(t=>t.markPhase==="beforeJoin"):[]}evaluate(t,e){var r;return this.evaluateMainTasks(t,e),!((r=this.renderContext)===null||r===void 0)&&r.progressive||this.evaluateTransform(this._getTransformsAfterEncode(),this.elements,e),this}output(){return this}join(t,e,r,i,s){return this.grammarSource&&(this.detach(this.grammarSource),this.grammarSource=null),this.spec.from=null,z(t)||(dt(t)?this.grammarSource=this.view.getDataById(t):this.grammarSource=t,this.spec.from={data:t},this.attach(this.grammarSource)),this.spec.key=e,this.spec.sort=r,this.spec.groupBy=i,this.spec.groupSort=s,this.commit(),this}coordinate(t){return dt(t)?this.coord=this.view.getCoordinateById(t):this.coord=t,this.attach(this.coord),this.commit(),this}state(t,e){return this.spec.stateSort=e,this.setFunctionSpec(t,"state")}encode(t,e,r){return this.encodeState(kt.update,t,e,r)}encodeState(t,e,r,i){if(t===kt.enter&&(this._isReentered=!0),this.spec.encode[t]){const s=this.spec.encode[t];if(mo(s))this.detach(Yi(s,this.view));else{const o=dt(e);o&&i||!o&&r?(Object.keys(s).forEach(a=>{this.detach(Yi(s[a],this.view))}),this.spec.encode[t]={}):o?this.detach(Yi(s[e],this.view)):Object.keys(e).forEach(a=>{this.detach(Yi(s[a],this.view))})}}return e&&(this.spec.encode[t]||(this.spec.encode[t]={}),dt(e)?(this.spec.encode[t][e]=r,this.attach(Yi(r,this.view))):mo(e)?(this.spec.encode[t]=e,this.attach(Yi(e,this.view))):e&&(Object.assign(this.spec.encode[t],e),Object.values(e).forEach(s=>{this.attach(Yi(s,this.view))}))),this.commit(),this}_getEncoders(){var t;return(t=this.spec.encode)!==null&&t!==void 0?t:{}}animation(t){return this.spec.animation=t,this}animationState(t){return this.setFunctionSpec(t,"animationState")}layout(t){return this.spec.layout=t,this.commit(),this}morph(t,e,r){return this.spec.morph=t,this.spec.morphKey=e,this.spec.morphElementKey=r,this}transform(t){const e=Xh(this.spec.transform,this.view);e&&(this.detach(e.refs),this.transforms=[]);const r=Xh(t,this.view);return r&&(this.attach(r.refs),this.transforms=r.transforms),this.spec.transform=t,this.commit(),this}configure(t){const e=["clip","clipPath","zIndex","interactive","context","setCustomizedShape","large","largeThreshold","progressiveStep","progressiveThreshold","support3d","morph","morphKey","morphElementKey","attributeTransforms","skipTheme","enableSegments","stateSort"];return t===null?(e.forEach(r=>{z(this.spec[r])||(this.spec[r]=void 0)}),this):(e.forEach(r=>{z(t[r])||(this.spec[r]=t[r])}),this)}context(t){return this.spec.context=t,this._context=t,this}isCollectionMark(){return ak.includes(this.markType)}needAnimate(){var t;return!(!((t=this.renderContext)===null||t===void 0)&&t.progressive)&&!z(this.spec.animation)}getAllElements(){const t=this.elements.slice();return this.elementMap.forEach(e=>{e.diffState!==kt.exit||t.includes(e)||t.push(e)}),this.spec.sort&&t.sort((e,r)=>this.spec.sort(e.getDatum(),r.getDatum())),t}getScales(){const t={};return this.references.forEach((e,r)=>{r.grammarType===Nm.scale&&(t[r.id()]=r.output())}),t}getScalesByChannel(){const t=this.spec.encode;if(!t)return{};const e={},r=this.parameters();return Object.keys(t).forEach(i=>{const s=t[i];s&&!mo(s)&&Object.keys(s).forEach(o=>{Wy(s[o])&&(e[o]=Vh(s[o].scale,r))})}),e}getFieldsByChannel(){const t=this.spec.encode;if(!t)return{};const e={};return Object.keys(t).forEach(r=>{const i=t[r];mo(i)||Object.keys(i).forEach(s=>{Yy(i[s])&&(e[s]=i[s].field)})}),e}init(t,e){var r,i,s,o;if(this._delegateEvent||(this._delegateEvent=(u,c)=>{var h;const d=(h=u.target)===null||h===void 0?void 0:h[Cs];if((d==null?void 0:d.mark)===this){const f=Hm(this.view,u,d,c,os);this.emitGrammarEvent(c,f,d)}},this.initEvent()),this.animate||(this.animate=new zw(this,this.spec.animation),this.needAnimate()&&this.animate.updateState(this.spec.animationState)),!this.group){const u=Vh(this.spec.group,e);this.group=u,u&&u.appendChild(this)}const a=this.group?this.group.getGroupGraphicItem():t.defaultLayer,l=(s=(i=(r=this.group)===null||r===void 0?void 0:r.children)===null||i===void 0?void 0:i.indexOf(this))!==null&&s!==void 0?s:0;if(this.markType!==nt.group){if(!this.graphicItem){const u=gl(this,nt.group,{pickable:!1,zIndex:(o=this.spec.zIndex)!==null&&o!==void 0?o:0});(this.spec.support3d||Qz.includes(this.markType))&&u.setMode("3d"),u.name=`${this.id()||this.markType}`,this.graphicItem=u}this.graphicParent=this.graphicItem,!a||this.graphicIndex===l&&this.graphicItem.parent===a||a.insertIntoKeepIdx(this.graphicItem,l)}else this.graphicParent=a;this.graphicIndex=l}update(t){this._context=this.spec.context,this.isUpdated=!0,this.renderContext.progressive||(t.animation&&this.animate.updateConfig(t.animation),this.animate.updateState(t.animationState)),this.markType!==nt.group?(z(t.zIndex)||this.graphicItem.setAttribute("zIndex",t.zIndex),z(t.clip)||this.graphicItem.setAttribute("clip",t.clip),z(t.clipPath)||this.graphicItem.setAttribute("path",ft(t.clipPath)?t.clipPath:t.clipPath(this.elements)),this.elementMap.forEach(e=>{e.updateGraphicItem()})):this.elementMap.forEach(e=>{e.updateGraphicItem()})}evaluateJoin(t){var e,r,i,s;this.needClear=!0;const o=Io((i=(e=this.spec.key)!==null&&e!==void 0?e:(r=this.grammarSource)===null||r===void 0?void 0:r.getDataIDKey())!==null&&i!==void 0?i:()=>hn),a=Io((s=this.spec.groupBy)!==null&&s!==void 0?s:()=>hn),l=this.spec.sort,u=this.isCollectionMark(),c=new Set(this.elements.filter(f=>f.diffState===kt.enter)),h=[];this.differ.setCallback((f,p,g)=>{const _=f;let m;if(z(p))m=this.elementMap.get(_),m&&(m.diffState=kt.exit);else if(z(g)){m=this.elementMap.has(_)?this.elementMap.get(_):Ec(this),m.diffState===kt.exit&&(m.diffState=kt.enter,this.animate.getElementAnimators(m,kt.exit).forEach(v=>v.stop("start"))),m.diffState=kt.enter;const y=u?f:a(p[0]);m.updateData(y,p,o,this.view),this.elementMap.set(_,m),h.push(m)}else if(m=this.elementMap.get(_),m){m.diffState=kt.update;const y=u?f:a(p[0]);m.updateData(y,p,o,this.view),h.push(m)}c.delete(m)});const d=t??Cc;u||this.differ.setCurrentData(Vr(d,f=>`${a(f)}-${o(f)}`,void 0)),this.differ.doDiff(),c.forEach(f=>{this.elementMap.delete(u?f.groupKey:`${f.groupKey}-${f.key}`),f.remove(),f.release()}),this.elements=h,l&&this.elements.length>=2&&this.elements.sort((f,p)=>l(f.getDatum(),p.getDatum()))}evaluateState(t,e,r){e&&t.forEach(i=>{i.state(e,r)})}evaluateGroupEncode(t,e,r){if(!this._groupKeys||!e)return;const i={};return this._groupKeys.forEach(s=>{const o=t.find(a=>a.groupKey===s);o&&(i[s]=uk(e,o.items&&o.items[0]&&o.items[0].datum,o,r))}),this._groupEncodeResult=i,i}getChannelsFromConfig(t){const e=this.spec;return z(e.interactive)?null:{pickable:e.interactive}}evaluateEncode(t,e,r,i){const s=this.getChannelsFromConfig();if(e){this.emit(it.BEFORE_ELEMENT_ENCODE,{encoders:e,parameters:r},this);const o=i?null:this.evaluateGroupEncode(t,e[_i.group],r);t.forEach(a=>{this.markType===nt.glyph&&this._groupEncodeResult?a.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,this._groupEncodeResult[a.groupKey])}):o!=null&&o[a.groupKey]&&!this.isCollectionMark()?a.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,o[a.groupKey])}):s&&a.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s)}),a.encodeItems(a.items,e,this._isReentered,r)}),this._isReentered=!1,this.evaluateTransform(this._getTransformsAfterEncodeItems(),t,r),t.forEach(a=>{a.encodeGraphic(this.isCollectionMark()?o==null?void 0:o[a.groupKey]:null)}),this.emit(it.AFTER_ELEMENT_ENCODE,{encoders:e,parameters:r},this)}else t.forEach(o=>{o.initGraphicItem(s)})}addGraphicItem(t,e,r){var i;const s=r??gl(this,this.markType,t);if(s){if(!((i=this.renderContext)===null||i===void 0)&&i.progressive){let o;if(this._groupKeys){const a=this._groupKeys.indexOf(e);a>=0&&(o=this.graphicParent.getChildAt(a))}else o=this.graphicParent.at(0);this.isCollectionMark()?(s.incremental=1,o.appendChild(s)):o.incrementalAppendChild(s)}else this.graphicParent.appendChild(s);return s}}parseRenderContext(t,e){const r=this.markType!==nt.group&&this.spec.progressiveStep>0&&this.spec.progressiveThreshold>0&&this.spec.progressiveStep<this.spec.progressiveThreshold,i=this.spec.large&&this.spec.largeThreshold>0&&t.length>=this.spec.largeThreshold;if(r){const s=this.differ.getCurrentData();return s&&s.keys&&s.keys.some(o=>s.data.get(o).length>this.spec.progressiveThreshold)?{large:i,parameters:e,progressive:{data:t,step:this.spec.progressiveStep,currentIndex:0,totalStep:s.keys.reduce((o,a)=>Math.max(Math.ceil(s.data.get(a).length/this.spec.progressiveStep),o),1),groupedData:s.data}}:{large:i}}return{large:i}}isProgressive(){return this.renderContext&&(!!this.renderContext.progressive||!!this.renderContext.beforeTransformProgressive)}isDoingProgressive(){return this.renderContext&&(this.renderContext.progressive&&this.renderContext.progressive.currentIndex<this.renderContext.progressive.totalStep||this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.unfinished())}clearProgressive(){this.renderContext&&this.renderContext.progressive&&(this.elements=[],this.graphicParent.children.forEach(t=>{t.incrementalClearChild()}),this.graphicParent.removeAllChild()),this.renderContext&&this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.release(),this.renderContext=null}restartProgressive(){this.renderContext&&this.renderContext.progressive&&(this.renderContext.progressive.currentIndex=0)}evaluateJoinProgressive(){var t,e,r;const i=this.renderContext.progressive.currentIndex,s=Io((r=(t=this.spec.key)!==null&&t!==void 0?t:(e=this.grammarSource)===null||e===void 0?void 0:e.getDataIDKey())!==null&&r!==void 0?r:()=>hn),o=[];if(this.isCollectionMark())return this._groupKeys.forEach((l,u)=>{const c=this.renderContext.progressive.groupedData.get(l),h=this.renderContext.progressive.step,d=c.slice(i*h,(i+1)*h);if(i===0){const f=Ec(this);f.diffState=kt.enter,f.updateData(l,d,s,this.view),o.push(f)}else{const f=this.elements[u];f.updateData(l,d,s,this.view),o.push(f)}}),o;const a={};return this._groupKeys.forEach(l=>{const u=this.renderContext.progressive.groupedData.get(l),c=this.renderContext.progressive.step,h=u.slice(i*c,(i+1)*c),d=[];h.forEach(f=>{const p=Ec(this);p.diffState=kt.enter,p.updateData(l,[f],s,this.view),d.push(p),o.push(p)}),a[l]=d}),{groupElements:a,elements:o}}evaluateEncodeProgressive(t,e,r){const i=this.renderContext.progressive.currentIndex;if(i===0){if(this.evaluateEncode(t,e,r),i===0&&this._groupEncodeResult&&!this.isCollectionMark()&&this.markType!==nt.glyph){const s=t[0],o=s.getGraphicItem(),a=o==null?void 0:o.parent;a&&this._groupEncodeResult[s.groupKey]&&a.setTheme({common:this._groupEncodeResult[s.groupKey]})}}else this.evaluateEncode(t,e,r,!0)}evaluateProgressive(){var t,e,r;if(!((t=this.renderContext)===null||t===void 0)&&t.beforeTransformProgressive){this.renderContext.beforeTransformProgressive.progressiveRun();const l=this.renderContext.beforeTransformProgressive.output();return this.emit(it.BEFORE_MARK_JOIN),this.evaluateJoin(l),this.emit(it.AFTER_MARK_JOIN),this.emit(it.BEFORE_MARK_STATE),this.evaluateState(this.elements,this.spec.state,this.renderContext.parameters),this.emit(it.AFTER_MARK_STATE),this.emit(it.BEFORE_MARK_ENCODE),this.evaluateEncode(this.elements,this._getEncoders(),this.renderContext.parameters),void this.emit(it.AFTER_MARK_ENCODE)}if(!(!((e=this.renderContext)===null||e===void 0)&&e.progressive))return;const i=this.renderContext.parameters;this.emit(it.BEFORE_MARK_JOIN);const s=this.evaluateJoinProgressive(),o=Array.isArray(s)?s:s.elements;if(this.emit(it.AFTER_MARK_JOIN),this.renderContext.progressive.currentIndex===0?(this.graphicParent.removeAllChild(),this._groupKeys.forEach(l=>{const u=gl(this,nt.group,{pickable:!1,zIndex:this.spec.zIndex});u.incremental=this.renderContext.progressive.step,this.graphicParent.appendChild(u)}),this.elements=o):this.elements=this.elements.concat(o),this.emit(it.BEFORE_MARK_STATE),this.evaluateState(o,this.spec.state,i),this.emit(it.AFTER_MARK_STATE),this.emit(it.BEFORE_MARK_ENCODE),Array.isArray(s))this.evaluateEncodeProgressive(o,this._getEncoders(),i);else{const l=s.groupElements;Object.keys(l).forEach(u=>{this.evaluateEncodeProgressive(l[u],this._getEncoders(),i)})}this.emit(it.AFTER_MARK_ENCODE);const a=(r=this._getTransformsAfterEncode())===null||r===void 0?void 0:r.filter(l=>l.canProgressive===!0);a!=null&&a.length&&this.evaluateTransform(a,this.elements,i),this.renderContext.progressive.currentIndex+=1}isLargeMode(){return this.renderContext&&this.renderContext.large}cleanExitElements(){this.elementMap.forEach((t,e)=>{t.diffState!==kt.exit||t.isReserved||(this.elementMap.delete(e),t.remove(),t.release())})}getGroupGraphicItem(){if(this.elements&&this.elements[0]&&this.elements[0].getGraphicItem)return this.elements[0].getGraphicItem()}getBounds(){var t;return this.graphicItem?this.graphicItem.AABBBounds:(t=this.getGroupGraphicItem())===null||t===void 0?void 0:t.AABBBounds}getMorphConfig(){var t;return{morph:(t=this.spec.morph)!==null&&t!==void 0&&t,morphKey:this.spec.morphKey,morphElementKey:this.spec.morphElementKey}}getAttributeTransforms(){var t;return(t=this.spec.attributeTransforms)!==null&&t!==void 0?t:rf[this.markType]}getContext(){return this._context}needSkipBeforeLayout(){var t,e;if(((t=this.spec.layout)===null||t===void 0?void 0:t.skipBeforeLayouted)===!0)return!0;let r=this.group;for(;r;){if(((e=r.getSpec().layout)===null||e===void 0?void 0:e.skipBeforeLayouted)===!0)return!0;r=r.group}return!1}initEvent(){if(this._delegateEvent){const t=this.view.renderer.stage();t&&t.on("*",this._delegateEvent)}}releaseEvent(){if(this._delegateEvent){const t=this.view.renderer.stage();t&&t.off("*",this._delegateEvent)}}clear(){var t;this.releaseEvent(),this.transforms=null,this.elementMap=null,this.elements=null,this.graphicItem=null,this.animate=null,(t=this.group)===null||t===void 0||t.removeChild(this),this.group=null,super.clear()}prepareRelease(){this.animate.stop(),this.elementMap.forEach(t=>t.diffState=kt.exit),this._finalParameters=this.parameters()}release(){this.releaseEvent(),this.elements.forEach(t=>t.release()),this.elementMap.clear(),this._finalParameters=null,this.animate&&this.animate.release(),this.graphicItem&&Wh(this.graphicItem),this.detachAll(),super.release()}}let v$=class extends mu{constructor(t,e){super(t,nt.group,e),this.children=[]}parseRenderContext(){return{large:!1}}appendChild(t){return this.children.push(t),this}removeChild(t){return this.children=this.children.filter(e=>e!==t),this}includesChild(t,e=!0){return!!this.children.includes(t)||!!e&&this.children.some(r=>r.markType===nt.group&&r.includesChild(t,!0))}updateLayoutChildren(){return this.children.length?(this.layoutChildren||(this.layoutChildren=[]),this.layoutChildren=this.children.filter(t=>t.needLayout()),this):this}getAttributeTransforms(){return rf.rect}evaluateJoin(t){if(!this.elements.length){const e=Ec(this);e.updateData(hn,Cc,()=>"",this.view),this.elements=[e],this.elementMap.set(hn,e)}}getChannelsFromConfig(t){const e=this.spec,r={};return z(e.clip)||(r.clip=e.clip),z(e.zIndex)||(r.zIndex=e.zIndex),z(e.clipPath)||(r.path=bt(e.clipPath)?e.clipPath([t]):e.clipPath),z(e.interactive)||(r.pickable=e.interactive),r}evaluateGroupEncode(t,e,r){var i;const s=this.elements[0],o={},a=[Object.assign({},(i=s.items)===null||i===void 0?void 0:i[0],{nextAttrs:o})];return Nr(s,a,e,r),this._groupEncodeResult=o,o}evaluateEncode(t,e,r,i){const s=this.getChannelsFromConfig();if(e){this.emit(it.BEFORE_ELEMENT_ENCODE,{encoders:e,parameters:r},this);const o=i?null:this.evaluateGroupEncode(t,e[_i.group],r);t.forEach(a=>{a.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,o)}),a.encodeItems(a.items,e,this._isReentered,r)}),this._isReentered=!1,this.evaluateTransform(this._getTransformsAfterEncodeItems(),t,r),t.forEach(a=>{a.encodeGraphic()}),this.emit(it.AFTER_ELEMENT_ENCODE,{encoders:e,parameters:r},this)}else t.forEach(o=>{o.initGraphicItem(s)})}addGraphicItem(t,e,r){const i=r??gl(this,this.markType,t);if(i)return this.emit(it.BEFORE_ADD_VRENDER_MARK,{graphicItem:i}),i.name=`${this.id()||this.markType}`,this.graphicParent.insertIntoKeepIdx(i,this.graphicIndex),this.emit(it.AFTER_ADD_VRENDER_MARK,{graphicItem:i}),i}};function $w(n,t){if(mt(n))return n;const e=n.trim();if(e==="auto")return 0;if(e.endsWith("%")){const r=parseFloat(e.substring(0,e.length-1));return mt(r)?r*t:0}return 0}function y$(n,t,e){var r,i,s,o;const a=(r=n.gridTemplateRows)!==null&&r!==void 0?r:[e],l=(i=n.gridTemplateColumns)!==null&&i!==void 0?i:[t],u=(s=n.gridRowGap)!==null&&s!==void 0?s:0,c=(o=n.gridColumnGap)!==null&&o!==void 0?o:0,h=a.map(v=>$w(v,e)),d=l.map(v=>$w(v,t)),f=Math.max(0,h.reduce((v,b)=>v-b,e)-h.length*u)/a.filter(v=>v==="auto").length,p=Math.max(0,d.reduce((v,b)=>v-b,t)-d.length*c)/l.filter(v=>v==="auto").length;let g=0;const _=h.map((v,b)=>{const x=a[b]==="auto"?f:v,w=g;return g+=x+u,w});_.push(g);let m=0;const y=d.map((v,b)=>{const x=l[b]==="auto"?p:v,w=m;return m+=x+c,w});return y.push(m),{rows:_,columns:y,rowGap:u,columnGap:c}}function ic(n,t){return Math.min(n<0?n+t:n-1,t)}function Gw(n,t,e){let r=ic(n,e),i=ic(t,e);if(mt(n)||mt(t)?mt(n)?mt(t)||(r=ic(Math.max(0,i-1),e)):i=ic(r+1,e):(r=1,i=2),r>i){const s=i;i=r,r=s}return{start:r,end:i}}function _$(n,t,e,r,i){const s=n.rows.length,o=n.columns.length,{start:a,end:l}=Gw(t,e,s),{start:u,end:c}=Gw(r,i,o),h=n.columns[a],d=n.columns[l]-(c===o?0:n.columnGap),f=n.rows[u],p=n.rows[c]-(l===s?0:n.rowGap);return new Mn().set(h,f,d,p)}const b$=(n,t,e,r)=>{const i=y$(n.getSpec().layout,e.width(),e.height());t&&t.forEach(s=>{const o=s.getSpec().layout;s.layoutBounds=_$(i,o.gridRowStart,o.gridRowEnd,o.gridColumnStart,o.gridColumnEnd),s.commit()})},w$={[qe.axis]:0,[qe.legend]:1,[qe.slider]:2,[qe.player]:3,[qe.datazoom]:4},Hw=n=>{var t,e,r;return(e=(t=n.getSpec().layout)===null||t===void 0?void 0:t.order)!==null&&e!==void 0?e:n.markType==="component"&&(r=w$[n.componentType])!==null&&r!==void 0?r:1/0},Vw=(n,t,e,r)=>{const i=e.clone(),s=n.getSpec().layout,o=iw(s.maxChildWidth,i.width()),a=iw(s.maxChildHeight,i.width());let l=0,u=0,c=0,h=0;t.forEach(m=>{const y=m.getSpec().layout,v=xi(y.padding),b=r.parseMarkBounds?r.parseMarkBounds(m.getBounds(),m):m.getBounds();if(y.position==="top"||y.position==="bottom"){const x=Math.min(b.height()+v.top+v.bottom,a);y.position==="top"?i.y1+=x:i.y2-=x,b.x1<e.x1&&(l=Math.max(l,e.x1-b.x1)),b.x2>e.x2&&(u=Math.max(u,b.x2-e.x2))}if(y.position==="left"||y.position==="right"){const x=Math.min(b.width()+v.left+v.right,o);y.position==="left"?i.x1+=x:i.x2-=x,b.y1<e.y1&&(c=Math.max(c,e.y1-b.y1)),b.y2>e.y2&&(h=Math.max(h,b.y2-e.y2))}y.position==="outside"&&(i.x1+=Math.max(e.x1-b.x1,0)+v.left,i.x2-=Math.max(b.x2-e.x2,0)+v.right,i.y1+=Math.max(e.y1-b.y1,0)+v.top,i.y2-=Math.max(b.y2-e.y2)+v.bottom)}),l>i.x1-e.x1&&l<e.width()&&(i.x1=e.x1+l),u>e.x2-i.x2&&u<e.width()&&(i.x2=e.x2-u),c>i.y1-e.y1&&c<e.height()&&(i.y1=e.y1+c),h>e.y2-i.y2&&h<e.height()&&(i.y2=e.y2-h);let d=i.y1,f=i.y2,p=i.x1,g=i.x2;const _=t.slice().sort((m,y)=>Hw(m)-Hw(y));for(let m=0,y=_.length;m<y;m++){const v=_[m],b=v.getSpec().layout,x=xi(b.padding),w=r.parseMarkBounds?r.parseMarkBounds(v.getBounds(),v):v.getBounds();if(b.position==="top"||b.position==="bottom"){const C=Math.min(w.height()+x.top+x.bottom,a);if(b.position==="top"?(v.layoutBounds=new Mn().set(i.x1,d-C,i.x2,d),d-=C):(v.layoutBounds=new Mn().set(i.x1,f,i.x2,f+C),f+=C),v.relativePosition={top:v.layoutBounds.y1-i.y1,bottom:v.layoutBounds.y1-i.y2},b.align){const S=w.width()+x.left+x.right;S<i.width()&&(b.align==="center"?(v.layoutBounds.x1=(i.x1+i.x2)/2-S/2,v.layoutBounds.x2=v.layoutBounds.x1+S,v.relativePosition.left=v.relativePosition.right=(i.width()-S)/2):b.align==="right"?(v.layoutBounds.x1=i.x2-S,v.layoutBounds.x2=i.x2,v.relativePosition.right=0,v.relativePosition.left=i.width()-S):b.align==="left"&&(v.layoutBounds.x1=i.x1,v.layoutBounds.x2=i.x1+S,v.relativePosition.left=0,v.relativePosition.right=i.width()-S))}}else if(b.position==="left"||b.position==="right"){const C=Math.min(w.width()+x.left+x.right,o);if(b.position==="left"?(v.layoutBounds=new Mn().set(p-C,i.y1,p,i.y2),p-=C):(v.layoutBounds=new Mn().set(g,i.y1,g+C,i.y2),g+=C),v.relativePosition={left:v.layoutBounds.x1-i.x1,right:v.layoutBounds.x1-i.x2},b.align){const S=w.height()+x.top+x.bottom;C<i.width()&&(b.align==="middle"?(v.layoutBounds.y1=(i.y1+i.y2)/2-S/2,v.layoutBounds.y2=v.layoutBounds.y1+S,v.relativePosition.top=v.relativePosition.bottom=(i.height()-S)/2):b.align==="bottom"?(v.layoutBounds.y1=i.y2-S,v.layoutBounds.y2=i.y2,v.relativePosition.top=i.height()-S,v.relativePosition.bottom=0):b.align==="top"&&(v.layoutBounds.y1=i.y1,v.layoutBounds.y2=i.y1+S,v.relativePosition.bottom=i.height()-S,v.relativePosition.top=0))}}else b.position==="outside"?(p-=Math.max(e.x1-w.x1,0)+x.left,g-=Math.max(w.x2-e.x2,0)+x.right,d-=Math.max(e.y1-w.y1,0)+x.top,f+=Math.max(w.y2-e.y2)+x.bottom):v.layoutBounds=i}return i},yk=(n,t,e)=>{n==null||n.forEach(r=>{var i;if(r.markType!==nt.group)return;const s=r.layoutChildren,o=r.getSpec().layout,a=(i=r.layoutBounds)!==null&&i!==void 0?i:r.getBounds();if(a){if(bt(o))o.call(null,r,s,a,t);else if(bt(o.callback))o.callback.call(null,r,s,a,t);else if(o.display==="relative")if(o.updateViewSignals){const l=e.getViewBox();l&&a.intersect(l);const u=Vw(r,s,a,t),c=u.width(),h=u.height(),d={top:u.y1,right:e.width()-u.x2,left:u.x1,bottom:e.height()-u.y2};e.updateSignal(Ro,c),e.updateSignal(Do,h),e.updateSignal($n,d)}else Vw(r,s,a,t);else o.display==="grid"&&b$(r,s,a);yk(s,t,e)}})};class x$ extends mu{constructor(t,e,r){super(t,nt.glyph,r),this.glyphType=e,this.glyphMeta=ht.getGlyph(e)}configureGlyph(t){return this.spec.glyphConfig=t,this.commit(),this}getGlyphMeta(){return this.glyphMeta}getGlyphConfig(){return this.spec.glyphConfig}addGraphicItem(t,e){const r=v8(this,this.glyphMeta,t);return super.addGraphicItem(t,e,r)}}const Tp=Symbol.for("key");class C${diffGrammar(t,e){return l$(t,e,r=>{var i;return(i=r.id())!==null&&i!==void 0?i:Symbol()})}diffMark(t,e,r){const i={enter:[],exit:[],update:[]};let s=[],o=[];t.forEach(h=>{h.markType!==nt.group&&(r.morph&&h.getMorphConfig().morph||r.morphAll||r.reuse)?s.push(h):i.exit.push({prev:[h]})}),e.forEach(h=>{h.markType!==nt.group&&(r.morph&&h.getMorphConfig().morph||r.morphAll||r.reuse)?o.push(h):i.enter.push({next:[h]})});const a=this.diffUpdateByGroup(s,o,h=>h.getMorphConfig().morphKey,h=>h.getMorphConfig().morphKey);s=a.prev,o=a.next,i.update=i.update.concat(a.update);const l=this.diffUpdateByGroup(s,o,h=>h.id(),h=>h.id());s=l.prev,o=l.next,i.update=i.update.concat(l.update);const u=Vr(s,h=>{var d,f;return(f=(d=h.group)===null||d===void 0?void 0:d.id)===null||f===void 0?void 0:f.call(d)}),c=Vr(o,h=>{var d,f;return(f=(d=h.group)===null||d===void 0?void 0:d.id)===null||f===void 0?void 0:f.call(d)});return Object.keys(c).forEach(h=>{const d=u.data.get(h),f=c.data.get(h);if(d&&f){for(let p=0;p<Math.max(d.length,f.length);p+=1){const g=d[p],_=f[p];g&&_?i.update.push({prev:[g],next:[_]}):g?i.exit.push({prev:[g]}):_&&i.enter.push({next:[_]})}s=s.filter(p=>!d.includes(p)),o=o.filter(p=>!f.includes(p))}}),s.forEach(h=>i.exit.push({prev:[h]})),o.forEach(h=>i.enter.push({next:[h]})),i}_appendMorphKeyToElements(t){const e=t.getMorphConfig();if(!z(e.morphElementKey)){const r=Io(e.morphElementKey);t.elements&&t.elements.forEach(i=>{i.morphKey=r(i.getDatum())})}}morph(t,e,r){const i=t.reduce((c,h)=>(this._appendMorphKeyToElements(h),c.concat(h.elements)),[]),s=e.reduce((c,h)=>(this._appendMorphKeyToElements(h),c.concat(h.elements)),[]),o=u$(i,s,c=>{var h;return(h=c.morphKey)!==null&&h!==void 0?h:c.key});t.forEach(c=>{var h,d;return(d=(h=c.animate)===null||h===void 0?void 0:h.disable)===null||d===void 0?void 0:d.call(h)}),e.forEach(c=>{var h,d;return(d=(h=c.animate)===null||h===void 0?void 0:h.disable)===null||d===void 0?void 0:d.call(h)});const a=t.concat(e).reduce((c,h)=>(Object.assign(c,h.parameters()),c),{});let l=0;const u=()=>{l-=1,l===0&&e.forEach(c=>{var h,d;(d=(h=c.animate)===null||h===void 0?void 0:h.enable)===null||d===void 0||d.call(h)})};o.enter.forEach(c=>{c.next.forEach(h=>{this.doMorph([],[h],r,u,a)}),l+=1}),o.update.forEach(c=>{const h=Math.min(c.prev.length,c.next.length),d=this.divideElements(c.prev,h),f=this.divideElements(c.next,h);for(let p=0;p<h;p++)this.doMorph(d[p],f[p],r,u,a),l+=1})}diffUpdateByGroup(t,e,r,i){const s=Vr(t,c=>{var h;return(h=r(c))!==null&&h!==void 0?h:Tp}),o=Vr(e,c=>{var h;return(h=i(c))!==null&&h!==void 0?h:Tp});let a=t,l=e;const u=[];return o.keys.forEach(c=>{if(c!==Tp){const h=s.data.get(c),d=o.data.get(c);h&&d&&(u.push({prev:h,next:d}),a=a.filter(f=>!h.includes(f)),l=l.filter(f=>!d.includes(f)))}}),{prev:a,next:l,update:u}}doMorph(t,e,r,i,s){var o,a;const l={prev:t.map(_=>_.getDatum()),next:e.map(_=>_.getDatum())},u={prev:t.slice(),next:e.slice()},c=r.animation.easing,h=ur(r.animation.delay,s,l,u),d=ur(r.animation.duration,s,l,u),f=ur(r.animation.oneByOne,s,l,u),p=ur(r.animation.splitPath,s,l,u),g=mt(f)&&f>0?_=>Tt(f)?_*f:f===!0?_*d:0:void 0;t.length!==1&&t.length!==0||e.length!==1?t.length===1&&e.length>1?EF(t[0].getGraphicItem(),e.map(_=>_.getGraphicItem()),{delay:h,duration:d,easing:c,onEnd:i,individualDelay:g,splitPath:p}):t.length>1&&e.length===1&&kF(t.map(_=>_.getGraphicItem()),e[0].getGraphicItem(),{delay:h,duration:d,easing:c,onEnd:i,individualDelay:g,splitPath:p}):EO((a=(o=t[0])===null||o===void 0?void 0:o.getGraphicItem)===null||a===void 0?void 0:a.call(o),e[0].getGraphicItem(),{delay:h,duration:d,easing:c,onEnd:i})}divideElements(t,e){const r=Math.floor(t.length/e);return new Array(e).fill(0).map((i,s)=>t.slice(r*s,s===e-1?t.length:r*(s+1)))}}class _k{constructor(t,e){this._grammars={signal:[],data:[],scale:[],coordinate:[],mark:[],customized:[]},this._grammarMap={signal:{},data:{},scale:{},coordinate:{},mark:{},customized:{}},this._size=0,this._mapKey=dt(t)?r=>r[t]:t,this._warning=e}record(t){var e,r;const i=t.grammarType,s=this._mapKey(t);return this._grammarMap[i]?(this._grammars[i].push(t),z(s)||(this._grammarMap[i][s]?(e=this._warning)===null||e===void 0||e.call(this,s,t):this._grammarMap[i][s]=t)):(this._grammars.customized.push(t),z(s)||(this._grammarMap.customized[s]?(r=this._warning)===null||r===void 0||r.call(this,s,t):this._grammarMap.customized[s]=t)),this._size+=1,this}unrecord(t){const e=t.grammarType,r=this._mapKey(t);return this._grammarMap[e]?(this._grammars[e]=this._grammars[e].filter(i=>i!==t),z(r)||this._grammarMap[e][r]!==t||delete this._grammarMap[e][r]):(this._grammars.customized=this._grammars.customized.filter(i=>i!==t),z(r)||this._grammarMap.customized[r]!==t||delete this._grammarMap.customized[r]),this._size-=1,this}size(){return this._size}getSignal(t){var e;return(e=this._grammarMap.signal[t])!==null&&e!==void 0?e:null}getData(t){var e;return(e=this._grammarMap.data[t])!==null&&e!==void 0?e:null}getScale(t){var e;return(e=this._grammarMap.scale[t])!==null&&e!==void 0?e:null}getCoordinate(t){var e;return(e=this._grammarMap.coordinate[t])!==null&&e!==void 0?e:null}getMark(t){var e;return(e=this._grammarMap.mark[t])!==null&&e!==void 0?e:null}getCustomized(t){var e;return(e=this._grammarMap.customized[t])!==null&&e!==void 0?e:null}getGrammar(t){return this._grammarMap.data[t]?this._grammarMap.data[t]:this._grammarMap.signal[t]?this._grammarMap.signal[t]:this._grammarMap.scale[t]?this._grammarMap.scale[t]:this._grammarMap.coordinate[t]?this._grammarMap.coordinate[t]:this._grammarMap.mark[t]?this._grammarMap.mark[t]:this._grammarMap.customized[t]?this._grammarMap.customized[t]:null}getAllSignals(){return this._grammars.signal}getAllData(){return this._grammars.data}getAllScales(){return this._grammars.scale}getAllCoordinates(){return this._grammars.coordinate}getAllMarks(){return this._grammars.mark}getAllCustomized(){return this._grammars.customized}traverse(t){var e;Object.values((e=this._grammars)!==null&&e!==void 0?e:{}).forEach(r=>(r??[]).forEach(i=>{t.call(null,i)}))}find(t){let e=null;return this.traverse(r=>t.call(null,r)===!0&&(e=r,!0)),e}filter(t){const e=[];return this.traverse(r=>{t.call(null,r)===!0&&e.push(r)}),e}clear(){this._size=0,this._grammars={signal:[],data:[],scale:[],coordinate:[],mark:[],customized:[]},this._grammarMap={signal:{},data:{},scale:{},coordinate:{},mark:{},customized:{}}}release(){this._size=0,this._grammars=null,this._grammarMap=null}}class S$ extends _k{constructor(){super(...arguments),this._markNodes=[]}record(t){if(super.record(t),t.grammarType==="mark"){const e=t,r={mark:e,parent:null,children:[]};this._markNodes.forEach(i=>{const s=i.mark;s.markType===nt.group&&s.includesChild(e,!1)?(i.children.push(r),r.parent=i):e.markType===nt.group&&e.includesChild(s,!1)&&(r.children.push(i),i.parent=r)}),this._markNodes.push(r)}return this}unrecord(t){if(super.unrecord(t),t.grammarType==="mark"){const e=t,r=this._markNodes.find(i=>i.mark===e);this._markNodes.forEach(i=>{const s=i.mark;s.markType===nt.group&&s.includesChild(e,!1)?(i.children=i.children.filter(o=>o!==r),r.parent=null):e.markType===nt.group&&e.includesChild(s,!1)&&(r.children=r.children.filter(o=>o!==i),i.parent=null)}),this._markNodes=this._markNodes.filter(i=>i!==r)}return this}getAllMarkNodes(){return this._markNodes}clear(){super.clear(),this._markNodes=[]}release(){super.release(),this._markNodes=null}}class E${constructor(t){this._animations=[],this._additionalAnimateMarks=[],this.isEnabled=!0,this._onAnimationStart=e=>{this._additionalAnimateMarks=this._additionalAnimateMarks.filter(r=>{var i;return(i=r==null?void 0:r.animate)===null||i===void 0?void 0:i.isAnimating()}),this._animations.length===0&&this._additionalAnimateMarks.length===0&&this._view.emit(it.ALL_ANIMATION_START,{}),this._animations=this._animations.concat({config:e.animationConfig,mark:e.mark})},this._onAnimationEnd=e=>{this._additionalAnimateMarks=this._additionalAnimateMarks.filter(r=>{var i;return(i=r==null?void 0:r.animate)===null||i===void 0?void 0:i.isAnimating()}),this._animations=this._animations.filter(r=>r.config!==e.animationConfig||r.mark!==e.mark),this._animations.length===0&&this._additionalAnimateMarks.length===0&&this._view.emit(it.ALL_ANIMATION_END,{})},this._view=t,this._view.addEventListener(it.ANIMATION_START,this._onAnimationStart),this._view.addEventListener(it.ANIMATION_END,this._onAnimationEnd)}stop(){return this._view.traverseMarkTree(t=>{var e,r;t.animate&&((r=(e=t.animate).stop)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks.forEach(t=>{var e,r;t.view&&t.animate&&((r=(e=t.animate).stop)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks=[],this}pause(){return this._view.traverseMarkTree(t=>{var e,r;t.animate&&((r=(e=t.animate).pause)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks.forEach(t=>{var e,r;t.view&&t.animate&&((r=(e=t.animate).pause)===null||r===void 0||r.call(e))}),this}resume(){return this._view.traverseMarkTree(t=>{var e,r;t.animate&&((r=(e=t.animate).resume)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks.forEach(t=>{var e,r;t.view&&t.animate&&((r=(e=t.animate).resume)===null||r===void 0||r.call(e))}),this}enable(){return this.isEnabled=!0,this._view.traverseMarkTree(t=>{var e,r;t.animate&&((r=(e=t.animate).enable)===null||r===void 0||r.call(e))}),this}disable(){return this.isEnabled=!1,this._view.traverseMarkTree(t=>{var e,r;t.animate&&((r=(e=t.animate).disable)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks.forEach(t=>{var e,r;t.view&&t.animate&&((r=(e=t.animate).stop)===null||r===void 0||r.call(e))}),this._additionalAnimateMarks=[],this}enableAnimationState(t){return this._view.traverseMarkTree(e=>{var r,i;e.animate&&((i=(r=e.animate).enableAnimationState)===null||i===void 0||i.call(r,t))}),this}disableAnimationState(t){return this._view.traverseMarkTree(e=>{var r,i;e.animate&&((i=(r=e.animate).disableAnimationState)===null||i===void 0||i.call(r,t))}),this}isAnimating(){return this._animations.length!==0||this._additionalAnimateMarks.some(t=>{var e;return((e=t==null?void 0:t.animate)===null||e===void 0?void 0:e.isAnimating())||!1})}animate(){return this.isEnabled?(this._view.traverseMarkTree(t=>{t.isUpdated&&t.animate&&t.animate.animate(),t.cleanExitElements(),t.isUpdated=!1},null,!0),this):this}animateAddition(t){const e=t.animate.animate();return e&&e.isAnimating()&&this._additionalAnimateMarks.push(t),this}release(){this._additionalAnimateMarks=[],this._animations=[],this._view.removeEventListener(it.ALL_ANIMATION_START,this._onAnimationStart),this._view.removeEventListener(it.ALL_ANIMATION_END,this._onAnimationEnd),this._view=null}}class bk extends mu{addGraphicItem(t,e){const r=t&&t.limitAttrs,i=r&&(r.textType==="rich"||r.text&&r.text.type==="rich"),s=gl(this,i?nt.richtext:nt.text,t);return super.addGraphicItem(t,e,s)}release(){super.release()}}bk.markType=nt.text;const O$={label:{visible:!0,inside:!1,space:4,style:{fontSize:12,fill:"#89909d",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},items:[],start:{x:0,y:0},end:{x:100,y:0},x:0,y:0},k$={title:{space:4,padding:[0,0,0,0],textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1},text:"theta"},label:{visible:!0,inside:!1,space:4,style:{fontSize:12,fill:"#6F6F6F",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},items:[],startAngle:0,endAngle:2*Math.PI,radius:100,innerRadius:0,center:{x:0,y:0},x:0,y:0},T$={style:{stroke:"#f1f2f5"}},A$={style:{stroke:"#f1f2f5"}},M$={layout:"vertical",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:10,spaceRow:10,shape:{space:4,style:{size:10,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8",stroke:"#D8D8D8",fillOpacity:.5}}},label:{space:4,style:{fontSize:12,fill:"black",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8",fillOpacity:.5}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"},state:{selectedHover:{fillOpacity:.7,fill:"gray"},unSelectedHover:{fillOpacity:.2,fill:"gray"}}},focus:!1,focusIconStyle:{size:10,fill:"#333",cursor:"pointer"},visible:!0,padding:{top:2,bottom:2,left:2,right:2}},autoPage:!0,pager:{space:12,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!1,items:[{index:0,id:"",label:"",shape:{fill:"#6690F2",stroke:"#6690F2",symbolType:"circle"}}]},P$={title:{visible:!1,text:""},colors:[],layout:"horizontal",railWidth:200,railHeight:8,railStyle:{cornerRadius:5}},I$={title:{visible:!1,text:""},trackStyle:{fill:"#ccc"},layout:"horizontal",align:"bottom",railWidth:200,railHeight:6,min:0,max:1,value:[0,1]},R$={start:{x:0,y:0},end:{x:0,y:0}},D$={start:{x:0,y:0},end:{x:0,y:0},rectStyle:{width:10,height:10}},B$={center:{x:0,y:0},radius:100,startAngle:0,endAngle:Math.PI/6},L$={center:{x:0,y:0},radius:100,startAngle:0,endAngle:2*Math.PI},j$={center:{x:0,y:0},radius:100,startAngle:0,endAngle:2*Math.PI,sides:6},N$={layout:"horizontal",railWidth:200,railHeight:10,railStyle:{cornerRadius:5},range:{draggableTrack:!0},startText:{visible:!0,text:"",space:8},endText:{visible:!0,text:"",space:8},min:0,max:1,value:[0,1]},F$={size:{width:400,height:400},dataLabels:[]},z$={type:"line-data",data:[{text:""}],position:"top",overlap:{avoidBaseMark:!1,clampForce:!1},smartInvert:!1},$$={type:"line",data:[{text:"",data:{}}],position:"start",overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},G$={type:"area",data:[{text:"",data:{}}],position:"end",overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},H$={type:"rect",data:[{text:"",fill:"#606773",data:{}}],position:"top",overlap:{size:{width:1e3,height:1e3},strategy:[{type:"position"}]},smartInvert:!1},V$={type:"symbol",data:[{text:"",fill:"#606773",data:{}}],position:"top",overlap:{avoidBaseMark:!0,size:{width:1e3,height:1e3},strategy:[{type:"position"}]},smartInvert:!1},U$={type:"arc",data:[{text:"",fill:"#606773",data:{}}],width:800,height:600,position:"outside",zIndex:302},W$={data:[{text:"",fill:"#606773",data:{}}],overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},Y$={orient:"bottom",showDetail:"auto",brushSelect:!0,start:0,end:1,position:{x:0,y:0},size:{width:500,height:40},previewData:[]},X$={},K$={},q$={},Z$={textStyle:{fill:"#21252c"},subtextStyle:{fill:"#606773"}},Q$={width:12,height:12,padding:[2,2],railStyle:{fill:"rgba(0, 0, 0, .1)"}},wk={axis:O$,circleAxis:k$,grid:T$,circleGrid:A$,discreteLegend:M$,colorLegend:P$,sizeLegend:I$,lineCrosshair:R$,rectCrosshair:D$,sectorCrosshair:B$,circleCrosshair:L$,polygonCrosshair:j$,slider:N$,dataLabel:F$,pointLabel:W$,lineLabel:$$,areaLabel:G$,rectLabel:H$,symbolLabel:V$,arcLabel:U$,lineDataLabel:z$,datazoom:Y$,continuousPlayer:X$,discretePlayer:K$,tooltip:q$,title:Z$,scrollbar:Q$},xk=5,Ck={symbol:{shape:"circle",size:8},text:{fontSize:14,fill:"#000000"}},Ie=Object.assign({},wk);Ie.axis=Object.assign({},Ie.axis,{label:{style:{fill:"#bbbdc3"}},line:{style:{stroke:"#4b4f54"}},tick:{style:{stroke:"#4b4f54"}},subTick:{style:{stroke:"#4b4f54"}}}),Ie.circleAxis=Object.assign({},Ie.circleAxis,{label:{style:{fill:"#bbbdc3"}},line:{style:{stroke:"#4b4f54"}},tick:{style:{stroke:"#4b4f54"}},subTick:{style:{stroke:"#4b4f54"}}}),Ie.grid=Object.assign({},Ie.grid,{style:{stroke:"#404349"}}),Ie.circleGrid=Object.assign({},Ie.circleGrid,{style:{stroke:"#404349"}}),Ie.rectLabel=Object.assign({},Ie.rectLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Ie.lineLabel=Object.assign({},Ie.lineLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Ie.symbolLabel=Object.assign({},Ie.symbolLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Ie.title=Object.assign({},Ie.title,{textStyle:{fill:"#fdfdfd"},subtextStyle:{fill:"#888c93"}});const J$={name:"dark",padding:xk,background:"#202226",palette:{default:["#5383F4","#7BCF8E","#FF9D2C","#FFDB26","#7568D9","#80D8FB","#1857A3","#CAB0E8","#FF8867","#B9E493","#2CB4A8","#B9E4E3"]},marks:Ck,components:Ie},tG={name:"default",padding:xk,palette:{default:["#6690F2","#70D6A3","#B4E6E2","#63B5FC","#FF8F62","#FFDC83","#BCC5FD","#A29BFE","#63C4C7","#F68484"]},marks:Ck,components:wk};let as=class Wa{static registerTheme(t,e){t&&Wa._themes.set(t,e)}static unregisterTheme(t){Wa._themes.delete(t)}static getTheme(t){return Wa._themes.get(t)}static getDefaultTheme(){return Wa.getTheme("default")}};as._themes=new Map,as.registerTheme("default",tG),as.registerTheme("dark",J$);class eG extends mu{constructor(t,e,r,i){super(t,nt.component,r),this._componentDatum={[hn]:0},this.componentType=e,this.spec.type="component",this.spec.componentType=e,this.mode=i,this._updateComponentEncoders()}configureComponent(t){return this.spec.componentConfig=t,this.commit(),this}addGraphicItem(t,e,r){const i=r??ht.createGraphicComponent(this.componentType,t,{mode:this.mode,skipDefault:this.spec.skipTheme});return i&&(this.emit(it.BEFORE_ADD_VRENDER_MARK,{graphicItem:i}),this.graphicParent.appendChild(i),this.emit(it.AFTER_ADD_VRENDER_MARK,{graphicItem:i})),i}join(t){return super.join(t,hn)}encodeState(t,e,r){return super.encodeState(t,e,r),this._updateComponentEncoders(),this}parseRenderContext(){return{large:!1}}_prepareRejoin(){this._componentDatum[hn]+=1}evaluateJoin(t){return this.spec.key=hn,t?(t[hn]=this._componentDatum[hn],this._componentDatum=t):this._componentDatum={[hn]:this._componentDatum[hn]},super.evaluateJoin([this._componentDatum])}_updateComponentEncoders(){this._encoders=this.spec.encode}_getEncoders(){var t;return(t=this._encoders)!==null&&t!==void 0?t:{}}}class Qy extends Ts{static useRegisters(t){t.forEach(e=>{e()})}constructor(t={},e={}){super(),this._observer=null,this._onResize=su((...r)=>{const i=this._getContainerSize();i&&this.resize(i.width,i.height)},100),this.delegateEvent=(r,i)=>{var s;const o=(s=r.target)===null||s===void 0?void 0:s[Cs],a=Hm(this,r,o,i,os);this.emit(i,a,o)},this.handleProgressiveFrame=()=>{this._progressiveMarks.length&&this._progressiveMarks.forEach(r=>{r.isDoingProgressive()&&r.evaluateProgressive()}),this.doPreProgressive()},this._config=e,this._options=Object.assign({mode:N8},t),this.initialize()}getGrammarById(t){return this.grammars.getGrammar(t)}getSignalById(t){return this.grammars.getSignal(t)}getDataById(t){return this.grammars.getData(t)}getScaleById(t){return this.grammars.getScale(t)}getCoordinateById(t){return this.grammars.getCoordinate(t)}getMarkById(t){return this.grammars.getMark(t)}getCustomizedById(t){return this.grammars.getCustomized(t)}getGrammarsByName(t){return this.grammars.filter(e=>e.name()===t)}getGrammarsByType(t){return this.grammars.filter(e=>e.grammarType===t)}getMarksByType(t){return this.grammars.getAllMarks().filter(e=>e.markType===t)}getMarksByName(t){return this.grammars.getAllMarks().filter(e=>e.name()===t)}getMarksBySelector(t){if(!t)return null;const e=Ct(t),r=[];return e.forEach(i=>{if(gu(i))return void r.push(i);if(i[0]===i$){const o=this.getMarkById(i.slice(1));return void(o&&r.push(o))}const s=i[0]===r$?this.getMarksByName(i.slice(1)):ck(i)?this.getMarksByType(i):null;s&&s.length&&s.forEach(o=>{r.push(o)})}),r}updateSignal(t,e){dt(t)&&(t=this.getSignalById(t)),t.set(e),this.commit(t)}signal(t,e){const r=new q8(this);return arguments.length>=1&&r.value(t),arguments.length>=2&&r.update(e),this.grammars.record(r),this._dataflow.add(r),r}data(t){const e=new j8(this,t);return this.grammars.record(e),this._dataflow.add(e),e}scale(t){const e=ht.createGrammar("scale",this,t);return e&&(this.grammars.record(e),this._dataflow.add(e)),e}coordinate(t){const e=ht.createGrammar("coordinate",this,t);return e&&(this.grammars.record(e),this._dataflow.add(e)),e}mark(t,e,r){const i=dt(e)?this.getMarkById(e):e;let s;switch(t){case nt.group:s=new v$(this,i);break;case nt.glyph:s=new x$(this,r==null?void 0:r.glyphType,i);break;case nt.component:s=ht.hasComponent(r==null?void 0:r.componentType)?ht.createComponent(r==null?void 0:r.componentType,this,i,r==null?void 0:r.mode):new eG(this,r==null?void 0:r.componentType,i,r==null?void 0:r.mode);break;case nt.text:s=new bk(this,t,i);break;default:s=ht.hasMark(t)?ht.createMark(t,this,i):new mu(this,t,i)}return this.grammars.record(s),this._dataflow.add(s),s}group(t){return this.mark(nt.group,t)}glyph(t,e){return this.mark(nt.glyph,e,{glyphType:t})}component(t,e,r="2d"){return this.mark(nt.component,e,{componentType:t,mode:r})}axis(t,e="2d"){return this.mark(nt.component,t,{componentType:qe.axis,mode:e})}grid(t,e="2d"){return this.mark(nt.component,t,{componentType:qe.grid,mode:e})}legend(t){return this.mark(nt.component,t,{componentType:qe.legend})}slider(t){return this.mark(nt.component,t,{componentType:qe.slider})}label(t){return this.mark(nt.component,t,{componentType:qe.label})}datazoom(t){return this.mark(nt.component,t,{componentType:qe.datazoom})}player(t){return this.mark(nt.component,t,{componentType:qe.player})}title(t){return this.mark(nt.component,t,{componentType:qe.title})}scrollbar(t){return this.mark(nt.component,t,{componentType:qe.scrollbar})}customized(t,e){const r=ht.createGrammar(t,this,e==null?void 0:e.type);if(r)return r.parse(e),this.grammars.record(r),this._dataflow.add(r),r}addGrammar(t){return this.grammars.find(e=>e.uid===t.uid)||(this.grammars.record(t),this._dataflow.add(t),t.parse(t.getSpec()),this._needBuildLayoutTree=!0),this}removeGrammar(t){const e=dt(t)?this.getGrammarById(t):t;return e&&this.grammars.find(r=>r.uid===e.uid)?(e.grammarType==="mark"&&e.prepareRelease(),this._cachedGrammars.record(e),this._dataflow.remove(e),this.grammars.unrecord(e),this._needBuildLayoutTree=!0,this):this}removeAllGrammars(){return this.grammars.traverse(t=>{t.grammarType==="signal"&&Bw.includes(t.id())||t.grammarType==="mark"&&t.id()==="root"||this.removeGrammar(t)}),this}removeAllGraphicItems(){return this.traverseMarkTree(t=>{t.graphicItem&&(Wh(t.graphicItem),t.elementMap.forEach(e=>{e.resetGraphicItem()}),t.graphicItem=null)}),this}parseSpec(t){var e,r,i,s,o,a;if(this.emit(it.BEFORE_PARSE_VIEW),this._spec=t,J8(t),t.theme?this.theme(t.theme):this.theme(as.getDefaultTheme()),t.width&&this.width(t.width),t.height&&this.height(t.height),this.padding((r=(e=t.padding)!==null&&e!==void 0?e:this._options.padding)!==null&&r!==void 0?r:this._theme.padding),!this.width()||!this.height()){const u=this._getContainerSize();u&&(this.updateSignal(bi,u.width),this.updateSignal(wi,u.height))}!((i=t.signals)===null||i===void 0)&&i.length&&t.signals.forEach(u=>{this.signal().parse(u)}),!((s=t.data)===null||s===void 0)&&s.length&&t.data.forEach(u=>{this.data(null).parse(u)}),!((o=t.coordinates)===null||o===void 0)&&o.length&&t.coordinates.forEach(u=>{var c;(c=this.coordinate(u.type))===null||c===void 0||c.parse(u)}),!((a=t.scales)===null||a===void 0)&&a.length&&t.scales.forEach(u=>{var c;(c=this.scale(u.type))===null||c===void 0||c.parse(u)});const l=ht.getGrammars();return Object.keys(l).forEach(u=>{const{specKey:c}=l[u];t[c]&&t[c].length&&t[c].forEach(h=>{this.customized(u,h)})}),t.marks&&t.marks.length&&t.marks.forEach(u=>{this.parseMarkSpec(u)}),t.events&&t.events.length&&t.events.forEach(u=>{this.event(u)}),t.interactions&&t.interactions.length&&t.interactions.forEach(u=>{this.interaction(u.type,u)}),t.animation===!1?this.animate.disable():this.animate.enable(),this.emit(it.AFTER_PARSE_VIEW),this._needBuildLayoutTree=!0,this._layoutState=zr.before,this}updateSpec(t){return this.removeAllInteractions(),this.removeAllGrammars(),this.parseSpec(t)}parseBuiltIn(){Q8(this._options,this._config,this.getCurrentTheme()).forEach(t=>{const e=this.signal().parse(t);t.value&&e.set(t.value)}),this.parseMarkSpec({id:"root",type:"group",encode:{enter:{x:0,y:0},update:{width:{signal:"width"},height:{signal:"height"}}}}),this.rootMark=this.getMarkById("root")}parseMarkSpec(t){var e;const r=t.type===nt.glyph?{glyphType:t.glyphType}:t.type===nt.component?{componentType:t.componentType,mode:t.mode}:null;this.mark(t.type,t.group,r).parse(t),(e=t.marks)===null||e===void 0||e.forEach(i=>{this.parseMarkSpec(i)})}theme(t){var e,r,i,s,o,a;dt(t)?this._theme=(e=as.getTheme(t))!==null&&e!==void 0?e:as.getDefaultTheme():this._theme=t;const{background:l,padding:u}=(r=this._spec)!==null&&r!==void 0?r:{};return this._theme?(this.background((i=l??this._options.background)!==null&&i!==void 0?i:this._theme.background),this.padding((s=u??this._options.padding)!==null&&s!==void 0?s:this._theme.padding),(a=(o=this.renderer.stage())===null||o===void 0?void 0:o.setTheme)===null||a===void 0||a.call(o,Object.assign({},this._theme.marks))):(this.background(l??this._options.background),this.padding(u??this._options.padding)),this}getCurrentTheme(){return this._theme}setCurrentTheme(t,e=!0){return this.theme(t),this.grammars.getAllMarks().forEach(r=>{r.commit()}),e?(this.evaluate(),this.renderer.render(!0)):this._dataflow.evaluate(),this}background(t){return arguments.length?(this._background=t,this.renderer.background(t),t):this._background}width(t){const e=this.getSignalById(bi);return arguments.length?(this._options.width=t,this.updateSignal(e,t),t):e.output()}height(t){const e=this.getSignalById(wi);return arguments.length?(this._options.height=t,this.updateSignal(e,t),t):e.output()}viewWidth(t){const e=this.getSignalById(Ro);if(arguments.length){const r=this.padding();return this.width(t+r.left+r.right),t}return e.output()}viewHeight(t){const e=this.getSignalById(Do);if(arguments.length){const r=this.padding();return this.height(t+r.top+r.bottom),t}return e.output()}padding(t){const e=this.getSignalById($n);if(arguments.length){const r=xi(t);return this.updateSignal(e,r),r}return xi(e.output())}autoFit(t){const e=this.getSignalById(ml);return arguments.length?(this.updateSignal(e,t),t):e.output()}getViewBox(){const t=this.getSignalById(qy);return t==null?void 0:t.output()}updateLayoutTag(){return this._layoutState=zr.before,this}getLayoutState(){return this._layoutState}buildLayoutTree(){const t={},e=[];this.traverseMarkTree(r=>{t[r.id()]=!0,r.group&&t[r.group.id()]||e.push(r),r.markType===nt.group&&r.updateLayoutChildren()},r=>r.needLayout()),this._layoutMarks=e}doLayout(){var t;const e=this._options.doLayout||yk;e&&(!((t=this._layoutMarks)===null||t===void 0)&&t.length)&&(this.emit(it.BEFORE_DO_LAYOUT),e(this._layoutMarks,this._options,this),this.emit(it.AFTER_DO_LAYOUT))}handleLayoutEnd(){this.emit(it.BEFORE_MARK_LAYOUT_END),this._layoutMarks.forEach(t=>{kp(t,"layoutChildren",e=>{e.handleLayoutEnd()},e=>e!==t)}),this.emit(it.AFTER_MARK_LAYOUT_END)}handleRenderEnd(){this.emit(it.BEFORE_MARK_RENDER_END),kp(this.rootMark,"children",t=>{t.handleRenderEnd()}),this.emit(it.AFTER_MARK_RENDER_END)}commit(t){return this._dataflow.commit(t),this}run(t){return this.evaluate(t),this}doRender(t){this.emit(it.BEFORE_DO_RENDER),this.renderer&&(this._progressiveMarks||this.animate.animate(),this.renderer.render(t),this.handleRenderEnd()),this.emit(it.AFTER_DO_RENDER)}evaluate(t){var e,r;const i=t$(t),s=this._cachedGrammars.size()>0;s&&(this.reuseCachedGrammars(i),this.detachCachedGrammar());const o=this._resizeRenderer(),a=this._dataflow.hasCommitted();return s||a||this._layoutState||o?(this.clearProgressive(),this._dataflow.evaluate(),this._needBuildLayoutTree&&(this.buildLayoutTree(),this._needBuildLayoutTree=!1),this._layoutState&&(this._layoutState=zr.layouting,this.doLayout(),this._dataflow.hasCommitted()&&(this._layoutState=zr.reevaluate,this._dataflow.evaluate()),this._layoutState=zr.after,!((e=this._layoutMarks)===null||e===void 0)&&e.length&&this.handleLayoutEnd()),this._layoutState=null,this.findProgressiveMarks(),this._resizeRenderer(),(r=this._willMorphMarks)===null||r===void 0||r.forEach(l=>{this._morph.morph(l.prev,l.next,i)}),this._willMorphMarks=null,this.releaseCachedGrammars(i),this.doRender(!0),this.doPreProgressive(),this):this}reuseCachedGrammars(t){if(this._willMorphMarks||(this._willMorphMarks=[]),t.reuse){const e=r=>{r.next.reuse(r.prev),r.prev.detachAll(),r.prev.clear(),this._cachedGrammars.unrecord(r.prev)};this._morph.diffGrammar(this._cachedGrammars.getAllSignals(),this.grammars.getAllSignals().filter(r=>!Bw.includes(r.id()))).update.forEach(e),this._morph.diffGrammar(this._cachedGrammars.getAllData(),this.grammars.getAllData()).update.forEach(e),this._morph.diffGrammar(this._cachedGrammars.getAllScales(),this.grammars.getAllScales()).update.forEach(e),this._morph.diffGrammar(this._cachedGrammars.getAllCoordinates(),this.grammars.getAllCoordinates()).update.forEach(e)}this._morph.diffMark(this._cachedGrammars.getAllMarks(),this.grammars.getAllMarks().filter(e=>e.id()!=="root"),t).update.forEach(e=>{const r=e.prev.length===1&&e.next.length===1&&e.prev[0].markType===e.next[0].markType,i=e.prev.every(s=>s.getMorphConfig().morph)&&e.next.every(s=>s.getMorphConfig().morph);r&&t.reuse?(e.next[0].reuse(e.prev[0]),e.prev[0].detachAll(),e.prev[0].clear(),this._cachedGrammars.unrecord(e.prev[0])):(t.morph&&i||t.morphAll)&&this._willMorphMarks.push({prev:e.prev,next:e.next})})}detachCachedGrammar(){this._cachedGrammars.traverse(t=>{var e,r;if(t.detachAll(),t.grammarType==="mark"){const i=t;(r=(e=i.group)===null||e===void 0?void 0:e.removeChild)===null||r===void 0||r.call(e,i)}})}releaseCachedGrammars(t){this._cachedGrammars.traverse(i=>{i.grammarType!=="mark"&&i.release()});const e=this._cachedGrammars.getAllMarkNodes();e.forEach(i=>{i.mark.animate.stop(),t.enableExitAnimation&&this.animate.animateAddition(i.mark)});const r=i=>{if(i.mark.view&&i.mark.animate.getAnimatorCount()===0&&(!i.children||i.children.length===0)){i.mark.release();const s=i.parent;s&&(i.parent.children=i.parent.children.filter(o=>o!==i),i.parent=null,r(s))}};e.forEach(i=>{const s=i.mark;s.animate.getAnimatorCount()===0?r(i):s.addEventListener("animationEnd",()=>{s.animate.getAnimatorCount()===0&&r(i)})}),this._cachedGrammars.clear()}runAfter(t){return this._dataflow.runAfter(()=>{t.call(null,this)}),this}runBefore(t){return this._dataflow.runBefore(()=>{t.call(null,this)}),this}getImageBuffer(){var t,e;if(this._options.mode!=="node")return void this.logger.error(new TypeError("getImageBuffer() now only support node environment."));const r=(e=(t=this.renderer)===null||t===void 0?void 0:t.stage)===null||e===void 0?void 0:e.call(t);return r?(r.render(),r.window.getImageBuffer()):(this.logger.error(new ReferenceError("render is not defined")),null)}traverseMarkTree(t,e,r){return kp(this.rootMark,"children",t,e,r),this}_bindResizeEvent(){var t,e,r,i,s,o;if(this.autoFit()){const a=(s=(i=(r=(e=(t=this.renderer)===null||t===void 0?void 0:t.stage)===null||e===void 0?void 0:e.call(t))===null||r===void 0?void 0:r.window)===null||i===void 0?void 0:i.getContainer)===null||s===void 0?void 0:s.call(i);if(a){const l=window.ResizeObserver;this._observer=new l(this._onResize),(o=this._observer)===null||o===void 0||o.observe(a)}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this.autoFit()&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}_getContainerSize(){var t,e,r,i,s,o,a,l,u,c,h;const d=(s=(i=(r=(e=(t=this.renderer)===null||t===void 0?void 0:t.stage)===null||e===void 0?void 0:e.call(t))===null||r===void 0?void 0:r.window)===null||i===void 0?void 0:i.getContainer)===null||s===void 0?void 0:s.call(i);if(d){const{width:f,height:p}=im(d);return{width:(l=(a=(o=this._spec)===null||o===void 0?void 0:o.width)!==null&&a!==void 0?a:this._options.width)!==null&&l!==void 0?l:f,height:(h=(c=(u=this._spec)===null||u===void 0?void 0:u.height)!==null&&c!==void 0?c:this._options.height)!==null&&h!==void 0?h:p}}return null}resize(t,e,r=!0){let i=!1;return t!==this.width()&&(i=!0,this.updateSignal(bi,t)),e!==this.height()&&(i=!0,this.updateSignal(wi,e)),i&&(r?this.evaluate():this._dataflow.evaluate()),this}_resizeRenderer(){const t=this.width(),e=this.height();return!!this.renderer.shouldResize(t,e)&&(this.renderer.resize(t,e),this.emit("resize",{},{width:t,height:e}),!0)}bindEvents(t){if(this._eventConfig.disable)return;const{type:e,filter:r,callback:i,throttle:s,debounce:o,consume:a,target:l,dependency:u}=t,c=s$(e);if(!c)return;const{source:h,type:d}=c,f=e$(c),p=(Array.isArray(l)&&l.length?l.map(m=>({signal:this.getSignalById(m.target),callback:m.callback})):[{signal:dt(l)?this.getSignalById(l):null,callback:i}]).filter(m=>m.signal||m.callback),g=Uy(u,this),_=n$((m,y)=>{const v=h===os&&$8(this._eventConfig,d)||a&&(m.cancelable===void 0||m.cancelable);h===ds&&(m=Hm(this,m,y,d,ds));let b=!1;if((!r||r(m))&&(!f||f(y))&&p.length){const x=g.reduce((w,C)=>(w[C.id()]=C.output(),w),{});p.forEach(w=>{w.callback&&w.signal?w.signal.set(w.callback(m,x))&&(this.commit(w.signal),b=!0):w.callback?w.callback(m,x):(this.commit(w.signal),b=!0)})}v&&m.preventDefault(),a&&m.stopPropagation(),b&&this.run()},{throttle:s,debounce:o});if(h===os){if(G8(this._eventConfig,os,d))return this.addEventListener(d,_,F8),()=>{this.removeEventListener(d,_)}}else if(h===ds)return Wn.addEventListener(d,_),this._eventListeners.push({type:d,source:Wn,handler:_}),()=>{Wn.removeEventListener(d,_);const m=this._eventListeners.findIndex(y=>y.type===d&&y.source===Wn&&y.handler===_);m>=0&&this._eventListeners.splice(m,1)}}event(t){if("between"in t){const[e,r]=t.between,i=`${e.type}-${t.type}-${r.type}`;let s;this.bindEvents(Object.assign({},e,{callback:()=>{if(this._eventCache||(this._eventCache={}),!this._eventCache[i]){const o=this.bindEvents(t);this._eventCache[i]=o}s||(s=this.bindEvents(Object.assign({},r,{callback:()=>{this._eventCache[i]&&(this._eventCache[i](),this._eventCache[i]=null)}})))}}))}else"merge"in t?t.merge.forEach(e=>{const r=Object.assign({},t);dt(e)?r.type=e:zt(e)&&Object.assign(r,e),r.debounce=50,this.bindEvents(r)}):this.bindEvents(t)}interaction(t,e){const r=ht.createInteraction(t,this,e);return r&&(r.bind(),this._boundInteractions||(this._boundInteractions=[]),this._boundInteractions.push(r)),r}removeInteraction(t,e){if(this._boundInteractions){const r=this._boundInteractions.filter(i=>{var s;return z(e)?dt(t)?i.type===t:t?i===t:void 0:((s=i.options)===null||s===void 0?void 0:s.id)===e});r.length&&r.forEach(i=>{i.unbind()})}return this}removeAllInteractions(){return this._boundInteractions&&(this._boundInteractions.forEach(t=>{t.unbind()}),this._boundInteractions=null),this}initEvent(){const t=this.renderer.stage();t&&t.on("*",this.delegateEvent)}releaseStageEvent(){const t=this.renderer.stage();t&&t.off("*",this.delegateEvent)}addEventListener(t,e,r){let i=e;return r&&r.trap===!1||(i=e,i.raw=e),r&&r.target&&(i.target=r.target),this.on(t,i),this}removeEventListener(t,e){return e?this.off(t,e):this.off(t),this}initializeRenderer(){const t=this._options.width,e=this._options.height;this.renderer=new U8(this),this.renderer.initialize(t,e,this._options,this._eventConfig).background(this._background)}initialize(){var t;this.grammars=new _k(e=>e.id(),(e,r)=>this.logger.warn(`Grammar id '${e}' has been occupied`,r)),this._cachedGrammars=new S$(e=>e.id()),this._options.logger&&xt.setInstance(this._options.logger),this.logger=xt.getInstance((t=this._options.logLevel)!==null&&t!==void 0?t:0),this._dataflow=new V8,this.animate=new E$(this),this._morph=new C$,this._options.hooks&&(Object.keys(this._options.hooks).forEach(e=>{this.on(e,this._options.hooks[e])}),this.hooks=this._options.hooks),this.container=null,this.renderer=null,this._eventListeners=[],this._eventConfig=z8(this._options.eventConfig),this._theme=this._options.disableTheme?null:as.getDefaultTheme(),this.parseBuiltIn(),o$(this._options),this.initializeRenderer(),this._eventConfig.disable||this.initEvent(),this._bindResizeEvent(),this._needBuildLayoutTree=!0,this._layoutState=zr.before,this.theme(this._theme)}pauseProgressive(){return!1}resumeProgressive(){return!1}restartProgressive(){return!1}findProgressiveMarks(){const t=[];return this.traverseMarkTree(e=>{t.push(e)},e=>e.markType!==nt.group&&e.isProgressive()),t.length?(this._progressiveMarks=t,this.renderer&&this.renderer.combineIncrementalLayers(),t):(this._progressiveMarks=null,null)}doPreProgressive(){if(this._progressiveMarks&&this._progressiveMarks.some(t=>t.isDoingProgressive())){const t=Wn.getRequestAnimationFrame();this._progressiveRafId=t(this.handleProgressiveFrame)}}clearProgressive(){this._progressiveRafId&&Wn.getCancelAnimationFrame()(this._progressiveRafId),this._progressiveMarks&&this._progressiveMarks.length&&(this._progressiveMarks.forEach(t=>{t.clearProgressive()}),this._progressiveMarks=null)}release(){var t,e,r;this.removeAllInteractions(),this.releaseStageEvent(),this._unBindResizeEvent(),this.clearProgressive(),ht.unregisterRuntimeTransforms(),xt.setInstance(null),this.animate.stop(),this.grammars.release(),this._cachedGrammars.release(),this._dataflow.release(),this._dataflow=null,(e=(t=this.renderer)===null||t===void 0?void 0:t.release)===null||e===void 0||e.call(t),this.renderer=null,this._boundInteractions=null,this.removeAllListeners(),(r=this._eventListeners)===null||r===void 0||r.forEach(i=>{i.source.removeEventListener(i.type,i.handler)}),this._eventListeners=null}}const nG=()=>{Gz(),$z(),ht.registerGraphic(nt.group,BO)},rG=(n,t,e)=>t.filter(r=>n.callback(r,e)),iG=(n,t,e)=>{const r=n.callback,i=n.as;if(!n.all)return t.forEach(o=>{const a=r(o,e);if(!z(i)){if(z(o))return;o[i]=a}return a}),t;const s=r(t,e);return z(i)||z(t)?s:(t[i]=s,t)},sG=()=>{ht.registerTransform("filter",{transform:rG,markPhase:"beforeJoin"},!0)},oG=()=>{ht.registerTransform("map",{transform:iG,markPhase:"beforeJoin"},!0)},aG=(n,t,e)=>{var r,i,s;return{from:{opacity:0,fillOpacity:0,strokeOpacity:0},to:{opacity:(r=n.getGraphicAttribute("opacity",!1))!==null&&r!==void 0?r:1,fillOpacity:(i=n.getGraphicAttribute("fillOpacity",!1))!==null&&i!==void 0?i:1,strokeOpacity:(s=n.getGraphicAttribute("strokeOpacity",!1))!==null&&s!==void 0?s:1}}},lG=(n,t,e)=>{var r,i,s;return{from:{opacity:(r=n.getGraphicAttribute("opacity",!0))!==null&&r!==void 0?r:1,fillOpacity:(i=n.getGraphicAttribute("fillOpacity",!0))!==null&&i!==void 0?i:1,strokeOpacity:(s=n.getGraphicAttribute("strokeOpacity",!0))!==null&&s!==void 0?s:1},to:{opacity:0,fillOpacity:0,strokeOpacity:0}}},uG=(n,t,e)=>{var r,i;const{offset:s=0,orient:o,direction:a,point:l}=t??{};let u=0,c=0;o==="negative"&&(e.group?(u=(r=e.groupWidth)!==null&&r!==void 0?r:e.group.getBounds().width(),c=(i=e.groupHeight)!==null&&i!==void 0?i:e.group.getBounds().height(),e.groupWidth=u,e.groupHeight=c):(u=e.width,c=e.height)),u+=s,c+=s;const h=bt(l)?l.call(null,n.getDatum(),n,e):l,d=h&&mt(h.x)?h.x:u,f=h&&mt(h.y)?h.y:c;switch(a){case"x":return{from:{x:d},to:{x:n.getGraphicAttribute("x",!1)}};case"y":return{from:{y:f},to:{y:n.getGraphicAttribute("y",!1)}};default:return{from:{x:d,y:f},to:{x:n.getGraphicAttribute("x",!1),y:n.getGraphicAttribute("y",!1)}}}},cG=(n,t,e)=>{var r,i;const{offset:s=0,orient:o,direction:a,point:l}=t??{},u=e.group?e.group.getBounds():null,c=(r=u==null?void 0:u.width())!==null&&r!==void 0?r:e.width,h=(i=u==null?void 0:u.height())!==null&&i!==void 0?i:e.height,d=(o==="negative"?c:0)+s,f=(o==="negative"?h:0)+s,p=bt(l)?l.call(null,n.getDatum(),n,e):l,g=p&&mt(p.x)?p.x:d,_=p&&mt(p.y)?p.y:f;switch(a){case"x":return{from:{x:n.getGraphicAttribute("x",!0)},to:{x:g}};case"y":return{from:{y:n.getGraphicAttribute("y",!0)},to:{y:_}};default:return{from:{x:n.getGraphicAttribute("x",!0),y:n.getGraphicAttribute("y",!0)},to:{x:g,y:_}}}},hG=(n,t,e)=>{var r,i,s,o;switch(t==null?void 0:t.direction){case"x":return{from:{scaleX:0},to:{scaleX:(r=n.getGraphicAttribute("scaleX",!1))!==null&&r!==void 0?r:1}};case"y":return{from:{scaleY:0},to:{scaleY:(i=n.getGraphicAttribute("scaleY",!1))!==null&&i!==void 0?i:1}};default:return{from:{scaleX:0,scaleY:0},to:{scaleX:(s=n.getGraphicAttribute("scaleX",!1))!==null&&s!==void 0?s:1,scaleY:(o=n.getGraphicAttribute("scaleY",!1))!==null&&o!==void 0?o:1}}}},dG=(n,t,e)=>{var r,i,s,o;switch(t==null?void 0:t.direction){case"x":return{from:{scaleX:(r=n.getGraphicAttribute("scaleX",!0))!==null&&r!==void 0?r:1},to:{scaleX:0}};case"y":return{from:{scaleY:(i=n.getGraphicAttribute("scaleY",!0))!==null&&i!==void 0?i:1},to:{scaleY:0}};default:return{from:{scaleX:(s=n.getGraphicAttribute("scaleX",!0))!==null&&s!==void 0?s:1,scaleY:(o=n.getGraphicAttribute("scaleY",!0))!==null&&o!==void 0?o:1},to:{scaleX:0,scaleY:0}}}},fG={symbol:["_mo_hide_","visible"]},pG=(n,t,e)=>{const r=Object.assign({},n.getPrevGraphicAttributes()),i=Object.assign({},n.getNextGraphicAttributes());let s;t&&Ct(t.excludeChannels).forEach(a=>{delete r[a],delete i[a]}),n.mark&&n.mark.markType&&(s=fG[n.mark.markType])&&s.forEach(a=>{delete r[a],delete i[a]}),Object.keys(i).forEach(a=>{ef(a,r,i)&&(delete r[a],delete i[a])});const o=n.getFinalGraphicAttributes();return Object.keys(r).forEach(a=>{z(i[a])&&(z(o[a])||bs(r[a],o[a])?delete r[a]:i[a]=o[a])}),{from:r,to:i}},gG=(n,t,e)=>{var r;const i=(r=n.getGraphicAttribute("angle",!1))!==null&&r!==void 0?r:0;let s=0;return s=ws(i/(2*Math.PI),0)?Math.round(i/(2*Math.PI))*Math.PI*2:mt(t==null?void 0:t.angle)?t.angle:(t==null?void 0:t.orient)==="anticlockwise"?Math.ceil(i/(2*Math.PI))*Math.PI*2:Math.floor(i/(2*Math.PI))*Math.PI*2,{from:{angle:s},to:{angle:i}}},mG=(n,t,e)=>{var r;const i=(r=n.getGraphicAttribute("angle",!0))!==null&&r!==void 0?r:0;let s=0;return s=ws(i/(2*Math.PI),0)?Math.round(i/(2*Math.PI))*Math.PI*2:mt(t==null?void 0:t.angle)?t.angle:(t==null?void 0:t.orient)==="anticlockwise"?Math.ceil(i/(2*Math.PI))*Math.PI*2:Math.floor(i/(2*Math.PI))*Math.PI*2,{from:{angle:i},to:{angle:s}}},vG=()=>{ht.registerAnimationType("fadeIn",aG)},yG=()=>{ht.registerAnimationType("fadeOut",lG)},_G=()=>{ht.registerAnimationType("moveIn",uG)},bG=()=>{ht.registerAnimationType("moveOut",cG)},wG=()=>{ht.registerAnimationType("scaleIn",hG)},xG=()=>{ht.registerAnimationType("scaleOut",dG)},CG=()=>{ht.registerAnimationType("rotateIn",gG)},SG=()=>{ht.registerAnimationType("rotateOut",mG)},EG=()=>{ht.registerAnimationType("update",pG)},OG=["pointerdown","pointerup","pointerupoutside","pointertap","pointerover","pointermove","pointerenter","pointerleave","pointerout","mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","drag","dragenter","dragleave","dragover","dragend","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe"];var $r;(function(n){n.initialized="initialized",n.rendered="rendered",n.renderFinished="renderFinished",n.animationFinished="animationFinished",n.regionSeriesDataFilterOver="regionSeriesDataFilterOver",n.afterInitData="afterInitData",n.afterInitEvent="afterInitEvent",n.afterInitMark="afterInitMark",n.rawDataUpdate="rawDataUpdate",n.viewDataFilterOver="viewDataFilterOver",n.viewDataUpdate="viewDataUpdate",n.viewDataStatisticsUpdate="viewDataStatisticsUpdate",n.markDeltaYUpdate="markDeltaYUpdate",n.viewDataLabelUpdate="viewDataLabelUpdate",n.scaleDomainUpdate="scaleDomainUpdate",n.scaleUpdate="scaleUpdate",n.dataZoomChange="dataZoomChange",n.drill="drill",n.layoutStart="layoutStart",n.layoutEnd="layoutEnd",n.layoutRectUpdate="layoutRectUpdate",n.playerPlay="playerPlay",n.playerPause="playerPause",n.playerEnd="playerEnd",n.playerChange="playerChange",n.playerForward="playerForward",n.playerBackward="playerBackward",n.scrollBarChange="scrollBarChange",n.brushStart="brushStart",n.brushChange="brushChange",n.brushEnd="brushEnd",n.brushClear="brushClear",n.legendSelectedDataChange="legendSelectedDataChange",n.legendFilter="legendFilter",n.legendItemClick="legendItemClick",n.legendItemHover="legendItemHover",n.legendItemUnHover="legendItemUnHover",n.tooltipShow="tooltipShow",n.tooltipHide="tooltipHide",n.tooltipRelease="tooltipRelease",n.afterResize="afterResize",n.afterRender="afterRender",n.afterLayout="afterLayout"})($r||($r={}));var Nt;(function(n){n.chart="chart",n.window="window",n.canvas="canvas"})(Nt||(Nt={}));var Xe;(function(n){n.vchart="vchart",n.chart="chart",n.model="model",n.mark="mark"})(Xe||(Xe={}));var pn;(function(n){n[n.Default=0]="Default",n[n.Theme=1]="Theme",n[n.Chart=2]="Chart",n[n.Base_Series=3]="Base_Series",n[n.Series=4]="Series",n[n.Mark=5]="Mark",n[n.User_Chart=6]="User_Chart",n[n.User_Series=7]="User_Series",n[n.User_Mark=8]="User_Mark",n[n.Built_In=99]="Built_In"})(pn||(pn={}));var Bo;(function(n){n[n.Axis_Grid=50]="Axis_Grid",n[n.CrossHair_Grid=100]="CrossHair_Grid",n[n.Region=450]="Region",n[n.Mark=300]="Mark",n[n.Node=400]="Node",n[n.Axis=100]="Axis",n[n.MarkLine=500]="MarkLine",n[n.MarkArea=100]="MarkArea",n[n.MarkPoint=500]="MarkPoint",n[n.DataZoom=500]="DataZoom",n[n.ScrollBar=500]="ScrollBar",n[n.Player=500]="Player",n[n.Legend=500]="Legend",n[n.CrossHair=500]="CrossHair",n[n.Indicator=500]="Indicator",n[n.Title=500]="Title",n[n.Label=500]="Label",n[n.Brush=500]="Brush",n[n.CustomMark=500]="CustomMark",n[n.Interaction=700]="Interaction"})(Bo||(Bo={}));var Vm;(function(n){n[n.Indicator=10]="Indicator",n[n.Region=20]="Region",n[n.Axis=30]="Axis",n[n.DataZoom=40]="DataZoom",n[n.Player=40]="Player",n[n.ScrollBar=40]="ScrollBar",n[n.Legend=50]="Legend",n[n.Title=70]="Title",n[n.CustomMark=70]="CustomMark"})(Vm||(Vm={}));const Uw=["linear","radial","conical"],kG={x0:0,y0:0,x1:1,y1:1},TG={x0:0,y0:0,x1:1,y1:1,r0:0,r1:1},AG={x:.5,y:.5,startAngle:0,endAngle:2*Math.PI},MG={linear:kG,radial:TG,conical:AG},Gt={label:{name:"label",type:"text"}},Jy=Object.assign(Object.assign({},Gt),{bar:{name:"bar",type:"rect"},barBackground:{name:"barBackground",type:"rect"}}),Sk=Object.assign(Object.assign({},Gt),{bar3d:{name:"bar3d",type:"rect3d"}}),t0={point:{name:"point",type:"symbol"},line:{name:"line",type:"line"}},PG=Object.assign(Object.assign({},Gt),t0),IG=Object.assign(Object.assign({},Gt),{point:{name:"point",type:"symbol"}}),Ek=Object.assign(Object.assign(Object.assign({},Gt),t0),{area:{name:"area",type:"area"}}),RG=Object.assign(Object.assign(Object.assign({},Gt),t0),{area:{name:"area",type:"area"}}),DG=Object.assign(Object.assign({},Gt),{pie:{name:"pie",type:"arc"},labelLine:{name:"labelLine",type:"path"}}),BG=Object.assign(Object.assign({},Gt),{pie3d:{name:"pie3d",type:"arc3d"},labelLine:{name:"labelLine",type:"path"}}),LG=Object.assign(Object.assign({},Gt),{rose:{name:"rose",type:"arc"}}),jG=Object.assign(Object.assign({},Gt),{area:{name:"area",type:"path"}}),Ok=Object.assign(Object.assign({},Gt),{group:{name:"group",type:"group"}}),NG=Object.assign(Object.assign({},Ok),{track:{name:"track",type:"arc"},progress:{name:"progress",type:"arc"}}),FG=Object.assign(Object.assign({},Gt),{group:{name:"group",type:"group"},link:{name:"link",type:"rule"},arrow:{name:"arrow",type:"symbol"}}),zG=Object.assign(Object.assign({},Gt),{group:{name:"group",type:"group"},grid:{name:"grid",type:"rule"},gridBackground:{name:"gridBackground",type:"rect"},dot:{name:"dot",type:"symbol"},title:{name:"title",type:"text"},subTitle:{name:"subTitle",type:"text"},symbol:{name:"symbol",type:"symbol"}}),Ww=Object.assign(Object.assign({},Gt),{word:{name:"word",type:"text"},fillingWord:{name:"fillingWord",type:"text"}}),$G=Object.assign(Object.assign({},Gt),{funnel:{name:"funnel",type:"polygon"},transform:{name:"transform",type:"polygon"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}}),GG=Object.assign(Object.assign({},Gt),{funnel3d:{name:"funnel3d",type:"pyramid3d"},transform3d:{name:"transform3d",type:"pyramid3d"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}}),HG=Object.assign(Object.assign({},Gt),{track:{name:"track",type:"rect"},progress:{name:"progress",type:"rect"},group:{name:"group",type:"group"}}),VG=Object.assign(Object.assign({},Jy),{leaderLine:{name:"leaderLine",type:"rule"},stackLabel:{name:"stackLabel",type:"text"}}),UG=Object.assign(Object.assign({},Gt),{boxPlot:{name:"boxPlot",type:"boxPlot"},outlier:{name:"outlier",type:"symbol"}}),WG=Object.assign(Object.assign({},Gt),{nonLeaf:{name:"nonLeaf",type:"rect"},leaf:{name:"leaf",type:"rect"},nonLeafLabel:{name:"nonLeafLabel",type:"text"}}),YG=Object.assign(Object.assign({},Gt),{node:{name:"node",type:"rect"},link:{name:"link",type:"linkPath"}}),XG=Object.assign(Object.assign({},Ok),{segment:{name:"segment",type:"arc"},track:{name:"track",type:"arc"}}),KG=Object.assign(Object.assign({},Gt),{pin:{name:"pin",type:"path"},pinBackground:{name:"pinBackground",type:"path"},pointer:{name:"pointer",type:["path","rect"]}}),qG=Object.assign(Object.assign({},Gt),{sunburst:{name:"sunburst",type:"arc"}}),ZG=Object.assign(Object.assign({},Jy),{minLabel:{name:"minLabel",type:"text"},maxLabel:{name:"maxLabel",type:"text"}}),QG=Object.assign(Object.assign({},Sk),{minLabel:{name:"minLabel",type:"text"},maxLabel:{name:"maxLabel",type:"text"}}),JG=Object.assign(Object.assign({},Gt),{circlePacking:{name:"circlePacking",type:"arc"}}),t6=Object.assign(Object.assign({},Gt),{cell:{name:"cell",type:"cell"},cellBackground:{name:"cellBackground",type:"cell"}}),e6=Object.assign(Object.assign({},Gt),{nodePoint:{name:"nodePoint",type:"symbol"},ripplePoint:{name:"ripplePoint",type:"ripple"},centerPoint:{name:"centerPoint",type:"symbol"},centerLabel:{name:"centerLabel",type:"text"}}),n6=Object.assign({},Ek),r6=Object.assign(Object.assign({},Gt),{liquid:{name:"liquid",type:"liquid"},liquidBackground:{name:"liquidBackground",type:"group"},liquidOutline:{name:"liquidOutline",type:"symbol"}}),i6=Object.assign(Object.assign({},Gt),{circle:{name:"circle",type:"arc"},overlap:{name:"overlap",type:"path"},overlapLabel:{name:"overlapLabel",type:"text"}});var Yw;(function(n){n.area_horizontal="area_horizontal",n.area_vertical="area_vertical",n.area_stack="area_stack",n.line_horizontal="line_horizontal",n.line_vertical="line_vertical",n.line_stack="line_stack",n.bar_horizontal="bar_horizontal",n.bar_vertical="bar_vertical",n.bar_stack="bar_stack",n.bar3d_horizontal="bar3d_horizontal",n.bar3d_vertical="bar3d_vertical",n.bar3d_stack="bar3d_stack",n.rangeColumn_horizontal="rangeColumn_horizontal",n.rangeColumn_vertical="rangeColumn_vertical",n.rangeColumn3d_horizontal="rangeColumn3d_horizontal",n.rangeColumn3d_vertical="rangeColumn3d_vertical",n.rangeArea_horizontal="rangeArea_horizontal",n.rangeArea_vertical="rangeArea_vertical",n.linearProgress_horizontal="linearProgress_horizontal",n.linearProgress_vertical="linearProgress_vertical",n.linearProgress_stack="linearProgress_stack",n.boxPlot_horizontal="boxPlot_horizontal",n.boxPlot_vertical="boxPlot_vertical",n.sankey_horizontal="sankey_horizontal",n.sankey_vertical="sankey_vertical",n.waterfall_horizontal="waterfall_horizontal",n.waterfall_vertical="waterfall_vertical",n.circularProgress_stack="circularProgress_stack",n.radar_stack="radar_stack",n.rose_stack="rose_stack"})(Yw||(Yw={}));const Um={[Ot.bar]:Jy,[Ot.bar3d]:Sk,[Ot.line]:PG,[Ot.scatter]:IG,[Ot.area]:Ek,[Ot.radar]:RG,[Ot.pie]:DG,[Ot.pie3d]:BG,[Ot.rose]:LG,[Ot.geo]:Gt,[Ot.map]:jG,[Ot.circularProgress]:NG,[Ot.link]:FG,[Ot.dot]:zG,[Ot.wordCloud]:Ww,[Ot.wordCloud3d]:Ww,[Ot.funnel]:$G,[Ot.funnel3d]:GG,[Ot.linearProgress]:HG,[Ot.waterfall]:VG,[Ot.boxPlot]:UG,[Ot.treemap]:WG,[Ot.sankey]:YG,[Ot.gauge]:XG,[Ot.gaugePointer]:KG,[Ot.sunburst]:qG,[Ot.rangeColumn]:ZG,[Ot.rangeColumn3d]:QG,[Ot.circlePacking]:JG,[Ot.heatmap]:t6,[Ot.correlation]:e6,[Ot.rangeArea]:n6,[Ot.liquid]:r6,[Ot.venn]:i6};function s6(n){var t,e;const{type:r}=n;return r===Ot.sankey?(t=n.direction)!==null&&t!==void 0?t:"horizontal":(e=n.direction)!==null&&e!==void 0?e:"vertical"}const o6={primaryFontColor:"titleFontColor",tertiaryFontColor:"labelFontColor",axisLabelFontColor:"axisFontColor",axisMarkerFontColor:"labelReverseFontColor",dataZoomHandleStrokeColor:"dataZoomHandlerStrokeColor",sliderHandleColor:"dataZoomHandlerFillColor",sliderRailColor:"dataZoomBackgroundColor",sliderTrackColor:"dataZoomSelectedColor",playerControllerColor:"dataZoomSelectedColor",popupBackgroundColor:"tooltipBackgroundColor",hoverBackgroundColor:"axisGridColor"},a6={titleFontColor:"primaryFontColor",labelFontColor:"tertiaryFontColor",axisFontColor:"axisLabelFontColor",labelReverseFontColor:"axisMarkerFontColor",dataZoomHandlerStrokeColor:"dataZoomHandleStrokeColor",dataZoomHandlerFillColor:"sliderHandleColor",dataZoomBackgroundColor:"sliderRailColor",dataZoomSelectedColor:"sliderTrackColor",tooltipBackgroundColor:"popupBackgroundColor"};function l6(n,t){const e=o6[t];if(e&&n[e])return n[e];if(n[t])return n[t];const r=a6[t];return r?n[r]:void 0}function Xw(n,t){var e;if(!n)return[];const r=kk(n,t);if(!r||ft(r))return(e=r)!==null&&e!==void 0?e:[];if(zt(r)){const{dataScheme:i}=r;return i?e0(i)?i.map(s=>Object.assign(Object.assign({},s),{scheme:s.scheme.map(o=>Kh(o)?Ym(n,o,t):o).filter(q)})):i.map(s=>Kh(s)?Ym(n,s,t):s).filter(q):[]}return[]}function Wm(n,t){var e,r;return e0(n)?(r=(e=n.find(i=>q(i.isAvailable)?bt(i.isAvailable)?i.isAvailable(t):!!i.isAvailable:!q(i.maxDomainLength)||(t==null?void 0:t.length)<=i.maxDomainLength))===null||e===void 0?void 0:e.scheme)!==null&&r!==void 0?r:n[n.length-1].scheme:n}function Ym(n,t,e){var r;const i=kk(n,e);if(!i)return;let s;const{palette:o}=i;if(zt(o)&&(s=(r=l6(o,t.key))!==null&&r!==void 0?r:t.default),!s)return;if(z(t.a)&&z(t.l)||!dt(s))return s;let a=new Qe(s);if(q(t.l)){const{r:l,g:u,b:c}=a.color,{h,s:d}=Yd(l,u,c),f=uh(h,d,t.l),p=new Qe(`rgb(${f.r}, ${f.g}, ${f.b})`);p.setOpacity(a.color.opacity),a=p}return q(t.a)&&a.setOpacity(t.a),a.toRGBA()}const u6=(n,t,e)=>{if(t&&Kh(n)){const r=Ym(t,n,e);if(r)return r}return n};function Kh(n){return n&&n.type==="palette"&&!!n.key}function e0(n){return!(!ft(n)||n.length===0)&&n.every(t=>q(t.scheme))}function c6(n){return ft(n)?{dataScheme:n}:n}function kk(n,t){var e,r;const{type:i}=t??{};let s;if(!t||z(i))s=n==null?void 0:n.default;else{const o=s6(t);s=(r=(e=n==null?void 0:n[`${i}_${o}`])!==null&&e!==void 0?e:n==null?void 0:n[i])!==null&&r!==void 0?r:n==null?void 0:n.default}return s}class h6 extends pu{range(t){return t?(this._range=t,this._resetRange(),this):super.range()}domain(t){return t?(super.domain(t),this._resetRange(),this):super.domain()}_resetRange(){if(!e0(this._range))return void super.range(this._range);const t=Wm(this._range,this._domain);super.range(t)}}const d6={linear:Hy,band:nf,point:uz,ordinal:pu,threshold:Vy,colorOrdinal:h6};function f6(n){const t=d6[n];return t?new t:null}function p6(n,t){if("scale"in n&&n.scale)return dt(n.scale)&&(t!=null&&t.globalScale)?t.globalScale.registerMarkAttributeScale(n,t.seriesId):n.scale;const e=f6(n.type);return e&&g6(e,n),e}function g6(n,t){n&&t&&(t.domain&&n.domain(t.domain),t.range&&n.range(t.range),t.specified&&n.specified&&n.specified(t.specified))}function Tk(n){return!!dt(n)&&!!n.endsWith("%")&&G5(n.substring(0,n.length-1))}function m6(n){return!!zt(n)&&("percent"in n||"offset"in n)}function _r(n,t,e){var r,i;return Tt(n)?n:Tk(n)?Number(n.substring(0,n.length-1))*t/100:bt(n)?n(e):zt(n)?t*((r=n.percent)!==null&&r!==void 0?r:0)+((i=n.offset)!==null&&i!==void 0?i:0):0}function v6(n,t,e){var r,i,s,o;const a={top:0,bottom:0,left:0,right:0};return Object.values(n).every(l=>Tt(l))?(a.top=(r=n.top)!==null&&r!==void 0?r:0,a.right=(i=n.right)!==null&&i!==void 0?i:0,a.bottom=(s=n.bottom)!==null&&s!==void 0?s:0,a.left=(o=n.left)!==null&&o!==void 0?o:0,a):([{orients:["left","right"],size:t.width},{orients:["top","bottom"],size:t.height}].forEach(l=>{l.orients.forEach(u=>{a[u]=_r(n[u],l.size,e)})}),a)}function y6(n,t){return n?{width:Math.ceil(Math.min(n.x2-n.x1,t.width)),height:Math.ceil(Math.min(n.y2-n.y1,t.height))}:{width:0,height:0}}function _6(n){let t={};return ft(n)?(z(n[0])||(t.top=t.left=t.bottom=t.right=n[0]),z(n[1])||(t.left=t.right=n[1]),z(n[2])||(t.bottom=n[2]),z(n[3])||(t.left=n[3]),t):Tt(n)||Tk(n)||bt(n)||m6(n)?(t.top=t.left=t.bottom=t.right=n,t):(zt(n)&&(t=Object.assign({},n)),t)}function Kw(n,t,e){return e?{x:n.x+t.x,y:n.y+t.y}:n}const Ak=[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}],b6={default:{dataScheme:Ak,palette:{backgroundColor:"#ffffff",borderColor:"#e3e5e8",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"#f1f2f5",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"#ffffff",primaryFontColor:"#21252c",secondaryFontColor:"#606773",tertiaryFontColor:"#89909d",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"#ffffff",axisGridColor:"#f1f2f5",axisDomainColor:"#d9dde4",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"#606773",dangerColor:"#e33232",warningColor:"#ffc528",successColor:"#07a35a",infoColor:"#3073f2"}}},w6={label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"},x6={label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},C6={bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},S6={outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},E6={dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},O6={transform:{style:{fill:{type:"palette",key:"axisGridColor"}}},label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}}},k6={transform3d:{style:{fill:"#f5f5f5"}},label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:"#707070"},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:"#707070",textBaseline:"middle"}}},T6={outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},A6="M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z",qw="M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",M6={pointer:{type:"path",width:.4,height:.4,style:{path:A6}},pin:{width:.025,height:.025,style:{path:qw,fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:qw,fill:"#ddd"}}},P6={label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},I6={bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},R6={arrow:{style:{size:10}}},D6={defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},B6={outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}}},L6={outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,position:"outside"}},j6={label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},N6={point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},F6={seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},z6={word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},$6={word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},G6={gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},H6={innerRadius:0,outerRadius:1,startAngle:qz,endAngle:Zz,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},V6={label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},U6={layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},W6={cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},Y6={link:{style:{fillOpacity:.15,round:!0}}},X6={rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},K6={boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},q6={centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},Z6={outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},Q6={circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},J6={scatter:N6,line:P6,area:w6,bar:x6,bar3d:C6,pie:B6,pie3d:L6,map:D6,radar:j6,dot:E6,link:R6,wordCloud:z6,wordCloud3d:$6,funnel:O6,funnel3d:k6,linearProgress:I6,circularProgress:S6,waterfall:F6,gauge:T6,gaugePointer:M6,treemap:G6,sunburst:H6,rangeColumn:V6,circlePacking:U6,heatmap:W6,sankey:Y6,rose:X6,boxPlot:K6,correlation:q6,liquid:Z6,venn:Q6},tH={text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},eH={label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},nH={domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},Mk={label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},rH={label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},iH=Object.assign(Object.assign({},Mk),{label:{space:0}}),sH={domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},oH={domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},aH={grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},lH={grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},uH={style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},cH={trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},Zw=`M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3
C-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C0.3-1.4,0.3-1.4,0.3-1.4z;`,hH={padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:Zw,fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:Zw,fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},dH={title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},qh={orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{visible:!0},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6}},Qw={style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},fH={horizontal:Object.assign(Object.assign({},qh),{rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:Qw}),vertical:Object.assign(Object.assign({},qh),{rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:Qw})},pH={orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},Jw={style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},gH={horizontal:Object.assign(Object.assign({},qh),{sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{width:200,height:4,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:Jw}),vertical:Object.assign(Object.assign({},qh),{sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{width:4,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:Jw})},mH={visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},tx={area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},ex={line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},Ap={itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},vH={visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:0,style:{size:25,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:0,style:{size:25,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"end",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},yH={padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},_H={offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textAlign:"left",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textAlign:"left",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}},bH={visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},wH={visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},xH={horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}},CH={discreteLegend:pH,colorLegend:fH,sizeLegend:gH,axis:sH,axisBand:nH,axisLinear:oH,axisX:Mk,axisY:rH,axisZ:iH,axisAngle:lH,axisRadius:aH,markLine:ex,markArea:tx,markPoint:Ap,polarMarkLine:ex,polarMarkArea:tx,polarMarkPoint:Ap,geoMarkPoint:Ap,tooltip:_H,dataZoom:hH,crosshair:cH,player:vH,brush:uH,indicator:dH,title:yH,mapLabel:mH,poptip:bH,totalLabel:wH,scrollBar:xH};function SH(n,t){return n&&t.key in n?n[t.key]:t.default}function EH(n){return n&&n.type==="token"&&!!n.key}const Xm={fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},Km={name:"light",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},colorScheme:b6,token:Xm,mark:tH,markByName:eH,series:J6,component:CH,animationThreshold:2e3},OH={default:{dataScheme:Ak,palette:{backgroundColor:"#202226",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"#888c93",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"#404349",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff"}}},nx={name:"dark",colorScheme:OH,component:{dataZoom:{selectedBackground:{style:{fillOpacity:.4,outerBorder:{strokeOpacity:.4}}}}}};function qm(n,...t){return Er(rx(n),...t.map(rx))}function rx(n){var t;if(!n)return n;const e=kH(n.colorScheme),{series:r}=n,{mark:i,markByName:s}=n;let o;return(i||s)&&(o=Object.keys(Um).reduce((a,l)=>{var u;const c=(u=r==null?void 0:r[l])!==null&&u!==void 0?u:{};return a[l]=TH(c,l,i,s),a},{})),Object.assign({},n,{colorScheme:e,token:(t=n.token)!==null&&t!==void 0?t:{},series:Object.assign({},n.series,o)})}function kH(n){return n&&(n=Object.keys(n).reduce((t,e)=>{const r=n[e];return t[e]=c6(r),t},{})),n}function TH(n,t,e,r){if(!Um[t])return n;const i={};return Object.values(Um[t]).forEach(({type:s,name:o})=>{i[o]=Er({},e==null?void 0:e[Ct(s)[0]],r==null?void 0:r[o],n==null?void 0:n[o])}),Object.assign(Object.assign({},n),i)}const AH=["animationThreshold","colorScheme","name","padding"];function sf(n,t,e,r){if(!n)return n;t||(t=n.colorScheme),e||(e=n.token);const i={};return Object.keys(n).forEach(s=>{const o=n[s];AH.includes(s)?i[s]=o:da(o)?Kh(o)?i[s]=u6(o,t,r):EH(o)?i[s]=SH(e,o):i[s]=sf(o,t,e,r):i[s]=o}),i}const Yl={[Km.name]:Km},vu=Km.name,ta=new Map(Object.keys(Yl).map(n=>[n,Yl[n]])),n0=new Map(Object.keys(Yl).map(n=>[n,sf(Yl[n])])),Zh=new Map(Object.keys(Yl).map(n=>[n,n===vu])),r0=(n,t)=>{if(!n)return;const e=IH(t);ta.set(n,e),n0.set(n,sf(e)),Zh.set(n,!0)},Pk=(n=vu,t=!1)=>(Zh.has(n)&&!Zh.get(n)&&r0(n,ta.get(n)),t?n0.get(n):ta.get(n)),MH=n=>ta.delete(n)&&n0.delete(n)&&Zh.delete(n),PH=n=>!!dt(n)&&ta.has(n),IH=n=>{var t;const e=(t=n.type)!==null&&t!==void 0?t:vu,r=Pk(e);return qm({},r,n)};class Xn{static registerInstance(t){Xn.instances.set(t.id,t)}static unregisterInstance(t){Xn.instances.delete(t.id)}static getInstance(t){return Xn.instances.get(t)}static instanceExist(t){return Xn.instances.has(t)}static forEach(t,e=[],r){const i=Ct(e);return Xn.instances.forEach((s,o,a)=>{i.includes(o)||t(s,o,a)},r)}}Xn.instances=new Map;class on{static registerTheme(t,e){r0(t,e)}static getTheme(t,e=!1){return Pk(t,e)}static removeTheme(t){return MH(t)}static themeExist(t){return PH(t)}static getDefaultTheme(){return on.themes.get(vu)}static setCurrentTheme(t){on.themeExist(t)&&(on._currentThemeName=t,Xn.forEach(e=>e==null?void 0:e.setCurrentTheme(t)))}static getCurrentTheme(t=!1){return on.getTheme(on._currentThemeName,t)}static getCurrentThemeName(){return on._currentThemeName}}on.themes=ta,on._currentThemeName=vu;function si(n,t){return dt(n)?on.themeExist(n)?on.getTheme(n,t):{}:zt(n)?n:{}}function Zm(n,t={data:e=>e}){if(!n)return n;if(n.constructor===Object){const e={};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t[r]){e[r]=t[r](n[r]);continue}e[r]=Zm(n[r],t)}return e}return ft(n)?n.map(e=>Zm(e,t)):n}function Qm(n,t){if(!n)return n;if(da(n)){const e={};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(dt(n[r])&&t.getFunction(n[r])){e[r]=t.getFunction(n[r]);continue}e[r]=Qm(n[r],t)}return e}return ft(n)?n.map(e=>Qm(e,t)):n}const RH=(n,t,e)=>cz(n,t,e,{fontFamily:Xm.fontFamily,fontSize:Xm.fontSize}),DH=(n,t,e,r)=>RH(t,e,r).measure(n);class st{static registerChart(t,e){st._charts[t]=e}static registerSeries(t,e){st._series[t]=e}static registerComponent(t,e,r){st._components[t]={cmp:e,alwaysCheck:r}}static registerMark(t,e){st._marks[t]=e}static registerRegion(t,e){st._regions[t]=e}static registerTransform(t,e){st.transforms[t]=e}static registerLayout(t,e){st._layout[t]=e}static registerAnimation(t,e){st._animations[t]=e}static registerImplement(t,e){st._implements[t]=e}static registerChartPlugin(t,e){st._chartPlugin[t]=e}static registerComponentPlugin(t,e){st._componentPlugin[t]=e}static createChart(t,e,r){return st._charts[t]?new st._charts[t](e,r):null}static createChartSpecTransformer(t,e){if(!st._charts[t])return null;const r=st._charts[t];return new r.transformerConstructor(Object.assign({seriesType:r.seriesType},e))}static createRegion(t,e,r){return st._regions[t]?new st._regions[t](e,r):null}static createRegionSpecTransformer(t,e){return st._regions[t]?new st._regions[t].transformerConstructor(e):null}static createSeries(t,e,r){return st._series[t]?new st._series[t](e,r):null}static createSeriesSpecTransformer(t,e){return st._series[t]?new st._series[t].transformerConstructor(e):null}static createMark(t,e,r){if(!st._marks[t])return null;const i=new st._marks[t](e,r);return i.type==="group"&&i.setInteractive(!1),i}static getComponents(){return Object.values(st._components)}static getComponentInKey(t){return st._components[t].cmp}static getLayout(){return Object.values(st._layout)}static getLayoutInKey(t){return st._layout[t]}static getSeries(){return Object.values(st._series)}static getSeriesInType(t){return st._series[t]}static getRegionInType(t){return st._regions[t]}static getAnimationInKey(t){return st._animations[t]}static getImplementInKey(t){return st._implements[t]}static getSeriesMarkMap(t){return st._series[t]?st._series[t].mark:{}}static getChartPlugins(){return Object.values(st._chartPlugin)}static getComponentPlugins(){return Object.values(st._componentPlugin)}static getComponentPluginInType(t){return st._componentPlugin[t]}static registerFormatter(t){this._formatter=t}static getFormatter(){return this._formatter}}st._charts={},st._series={},st._components={},st._marks={},st._regions={},st._animations={},st._implements={},st._chartPlugin={},st._componentPlugin={},st.transforms={fields:NE,filter:E3,fold:A3},st.dataParser={csv:$E,dsv:zE,tsv:GE},st._layout={};const BH=(n,t,e)=>n.x>=t.x&&n.x<=e.x&&n.y>=t.y&&n.y<=e.y,LH=(n,t,e)=>{const r=n.getRegionsInIds(Ct(t.layout.layoutBindRegionID));return r==null?void 0:r.some(i=>{const s=i.getLayoutRect(),o=i.getLayoutStartPoint();return BH(e,{x:o.x,y:o.y},{x:s.width+o.x,y:s.height+o.y})})},jH=(n,t)=>{var e,r;return n===t||!z(n)&&!z(t)&&n.value===t.value&&((e=n.axis)===null||e===void 0?void 0:e.id)===((r=t.axis)===null||r===void 0?void 0:r.id)},Jm=(n,t,e,r)=>{var i;const s=t.getScale(),o=Qo(s.type),a=[],l=t.getOption().getChart().getSeriesInIndex(t.getSpecInfo().seriesIndexes);for(const u of l)if(u.coordinate===e){const c=Ct(r(u)),h=(i=u.getViewData())===null||i===void 0?void 0:i.latestData;if(c&&h)if(o){const d=[],f=[];h.forEach((p,g)=>{var _;((_=p[c[0]])===null||_===void 0?void 0:_.toString())===(n==null?void 0:n.toString())&&(d.push(p),f.push(g))}),a.push({series:u,datum:d,key:Mp(u,f)})}else if(q(c[1])){const d=[],f=[];h.forEach((p,g)=>{var _;(((_=p[c[0]])===null||_===void 0?void 0:_.toString())===(n==null?void 0:n.toString())||q(p[c[0]])&&q(p[c[1]])&&n>=p[c[0]]&&n<p[c[1]])&&(d.push(p),f.push(g))}),a.push({series:u,datum:d,key:Mp(u,f)})}else{const d=t.getSpec().tooltipFilterRange,f=mt(d)?[-d,d]:d;let p=[],g=[];if(f)h.forEach((_,m)=>{if(q(_[c[0]])){const y=_[c[0]]-n;y>=f[0]&&y<=f[1]&&(p.push(_),g.push(m))}});else{let _=1/0,m=0;h.forEach((y,v)=>{if(q(y[c[0]])){const b=Math.abs(y[c[0]]-n),x=Math.sign(y[c[0]]-n);b<_?(_=b,p=[y],g=[v],m=x):b===_&&x===m&&(p.push(y),g.push(v))}})}a.push({series:u,datum:p,key:Mp(u,g)})}}return a},Mp=(n,t)=>`${n.id}_${t.join("_")}`,Qh=(n,t,e)=>{const r=n.getAllComponents().filter(i=>i.specKey==="axes"&&t(i)&&LH(n,i,e));return r.length?r:null},NH=(n,t)=>{const e=2*Math.PI,r=n3(t),i=e3(t);return n<r?n+=Math.ceil((r-n)/e)*e:n>i&&(n-=Math.ceil((n-i)/e)*e),n},FH=(n,t)=>{if(!n||!ok(n.getRegionsInIndex(),"polar"))return null;const{x:e,y:r}=t,i=Qh(n,l=>l.getOrient()==="angle",t),s=Qh(n,l=>l.getOrient()==="radius",t),o=[],a=l=>l.getDimensionField()[0];return i&&i.forEach(l=>{var u;const c=l.getScale();if(c&&Qo(c.type)){const h=c.domain(),d=c.range(),f=l.getCenter(),p={x:e-l.getLayoutStartPoint().x-f.x,y:r-l.getLayoutStartPoint().y-f.y};let g=fw({x:1,y:0},p);g=NH(g,d);const _=Hh(p),m=(u=s[0])===null||u===void 0?void 0:u.getScale(),y=m==null?void 0:m.range();if((g-(d==null?void 0:d[0]))*(g-(d==null?void 0:d[1]))>0||(_-(y==null?void 0:y[0]))*(_-(y==null?void 0:y[1]))>0)return;const v=l.invert(g);if(z(v))return;let b=h.findIndex(w=>(w==null?void 0:w.toString())===v.toString());b<0&&(b=void 0);const x=Jm(v,l,"polar",a);o.push({index:b,value:v,position:c.scale(v),axis:l,data:x})}}),s&&s.forEach(l=>{var u;const c=l.getScale(),h=c==null?void 0:c.range();if(c&&Qo(c.type)){const d=l.getCenter(),f={x:e-l.getLayoutStartPoint().x-d.x,y:r-l.getLayoutStartPoint().y-d.y};let p=fw({x:1,y:0},f);p<-Math.PI/2&&(p=2*Math.PI+p);const g=Hh(f),_=(u=i[0])===null||u===void 0?void 0:u.getScale(),m=_==null?void 0:_.range();if((p-(m==null?void 0:m[0]))*(p-(m==null?void 0:m[1]))>0||(g-(h==null?void 0:h[0]))*(g-(h==null?void 0:h[1]))>0)return;const y=c.invert(g);if(z(y))return;let v=c.domain().findIndex(x=>(x==null?void 0:x.toString())===y.toString());v<0&&(v=void 0);const b=Jm(y,l,"polar",a);o.push({index:v,value:y,position:c.scale(y),axis:l,data:b})}}),o.length?o:null};function Ik(n){return n==="bottom"||n==="top"}function zH(n){return n==="left"||n==="right"}const Rk=n=>n.fieldX[0],Dk=n=>n.fieldY[0],$H=n=>{var t;return[n.fieldX[0],(t=n.fieldX2)!==null&&t!==void 0?t:n.fieldX[1]]},GH=n=>{var t;return[n.fieldY[0],(t=n.fieldY2)!==null&&t!==void 0?t:n.fieldY[1]]},ix=(n,t)=>n?t?Rk:$H:t?Dk:GH,HH=(n,t,e)=>{var r,i;if(!n||!ok(n.getRegionsInIndex(),"cartesian"))return null;const{x:s,y:o}=t,a=(r=Qh(n,p=>Ik(p.getOrient()),t))!==null&&r!==void 0?r:[],l=(i=Qh(n,p=>zH(p.getOrient()),t))!==null&&i!==void 0?i:[],u=new Set,c=new Set,h=new Set;[a,l].forEach(p=>p.forEach(g=>{Qo(g.getScale().type)?u.add(g):c.add(g)}));const d=[],f=p=>{const g=p==="x",_=g?s:o;(g?a:l).forEach(m=>{if(h.size>0){if(h.has(m)){const y=sx(m,_,p,ix(g,Qo(m.getScale().type)));y&&d.push(y)}}else{const y=u.size>0;if((y?u:c).has(m)){const v=sx(m,_,p,ix(g,y));v&&d.push(v)}}})};return n.getSpec().direction==="horizontal"?(f("y"),d.length===0&&f("x")):(f("x"),d.length===0&&f("y")),d.length?d:null},sx=(n,t,e,r)=>{const i=n.getScale(),s=t-n.getLayoutStartPoint()[e];if((s-i.range()[0])*(s-i.range()[1])>0)return null;const o=i.invert(s);return Bk(n,o,r)},Bk=(n,t,e)=>{const r=n.getScale();if(z(t))return null;let i=r.domain().findIndex(o=>(o==null?void 0:o.toString())===t.toString());i<0&&(i=void 0);const s=Jm(t,n,"cartesian",e??(Ik(n.getOrient())?Rk:Dk));return{index:i,value:t,position:r.scale(t),axis:n,data:s}};class Lk{constructor(t,e){this._eventDispatcher=t,this._mode=e}get chart(){var t,e;return this._chart||(this._chart=(e=(t=this._eventDispatcher.globalInstance).getChart)===null||e===void 0?void 0:e.call(t)),this._chart}register(t,e){var r,i;((i=(r=this.chart)===null||r===void 0?void 0:r.getOption().onError)!==null&&i!==void 0?i:Zo)("Method not implemented.")}unregister(){var t,e;((e=(t=this.chart)===null||t===void 0?void 0:t.getOption().onError)!==null&&e!==void 0?e:Zo)("Method not implemented.")}getTargetDimensionInfo(t,e){var r,i;const s=(r=HH(this.chart,{x:t,y:e}))!==null&&r!==void 0?r:[],o=(i=FH(this.chart,{x:t,y:e}))!==null&&i!==void 0?i:[],a=[].concat(s,o);return a.length===0?null:a}dispatch(t,e){var r;const i=(r=this.chart)===null||r===void 0?void 0:r.getAllComponents().filter(o=>{if(o.specKey!=="axes")return!1;const a=o.getScale();return!!Qo(a.type)&&(!(e!=null&&e.filter)||e.filter(o))}),s=[];return i.forEach(o=>{const a=Bk(o,t);a&&s.push(a)}),this._callback.call(null,{action:"enter",dimensionInfo:s}),s}}class VH extends Lk{constructor(){super(...arguments),this.onClick=t=>{if(!t)return;const e=t.event.viewX,r=t.event.viewY,i=this.getTargetDimensionInfo(e,r);i&&this._callback.call(null,Object.assign(Object.assign({},t),{action:"click",dimensionInfo:i.slice()}))}}register(t,e){this._callback=e.callback,this._eventDispatcher.register("pointertap",{query:Object.assign(Object.assign({},e.query),{source:Nt.chart}),callback:this.onClick})}unregister(){this._eventDispatcher.unregister("pointertap",{query:null,callback:this.onClick})}}class UH extends Lk{constructor(){super(...arguments),this._cacheDimensionInfo=null,this.onMouseMove=t=>{if(!t)return;const e=t.event.viewX,r=t.event.viewY,i=this.getTargetDimensionInfo(e,r);i===null&&this._cacheDimensionInfo!==null?(this._callback.call(null,Object.assign(Object.assign({},t),{action:"leave",dimensionInfo:this._cacheDimensionInfo.slice()})),this._cacheDimensionInfo=i):i===null||this._cacheDimensionInfo!==null&&i.length===this._cacheDimensionInfo.length&&!i.some((s,o)=>!jH(s,this._cacheDimensionInfo[o]))?i!==null&&this._callback.call(null,Object.assign(Object.assign({},t),{action:"move",dimensionInfo:i.slice()})):(this._callback.call(null,Object.assign(Object.assign({},t),{action:"enter",dimensionInfo:i.slice()})),this._cacheDimensionInfo=i)},this.onMouseOut=t=>{t&&(this._callback.call(null,Object.assign(Object.assign({},t),{action:"leave",dimensionInfo:this._cacheDimensionInfo?this._cacheDimensionInfo.slice():[]})),this._cacheDimensionInfo=null)}}register(t,e){this._callback=e.callback,this._eventDispatcher.register("pointermove",{query:Object.assign(Object.assign({},e.query),{source:Nt.chart}),callback:this.onMouseMove}),this._eventDispatcher.register("pointerout",{query:Object.assign(Object.assign({},e.query),{source:Nt.canvas}),callback:this.onMouseOut}),Rm(this._mode)&&this._eventDispatcher.register("pointerdown",{query:Object.assign(Object.assign({},e.query),{source:Nt.chart}),callback:this.onMouseMove})}unregister(){this._eventDispatcher.unregister("pointermove",{query:null,callback:this.onMouseMove}),Rm(this._mode)&&this._eventDispatcher.unregister("pointerdown",{query:null,callback:this.onMouseMove})}}var Xl;(function(n){n.dimensionHover="dimensionHover",n.dimensionClick="dimensionClick"})(Xl||(Xl={}));const Pp={[Xl.dimensionHover]:UH,[Xl.dimensionClick]:VH};let i0=class{getComposedEventMap(){return this._composedEventMap}constructor(t,e){this._composedEventMap=new Map,this._eventDispatcher=t,this._mode=e}on(t,e,r){const i=typeof e=="function"?{query:null,callback:e}:{query:e,callback:r};if(Pp[t]){const s=new Pp[t](this._eventDispatcher,this._mode);s.register(t,i),this._composedEventMap.set(r,{eventType:t,event:s})}else this._eventDispatcher.register(t,i);return this}off(t,e,r){var i,s;const o=r??e;if(Pp[t])if(o)(i=this._composedEventMap.get(o))===null||i===void 0||i.event.unregister(),this._composedEventMap.delete(o);else for(const a of this._composedEventMap.entries())a[1].eventType===t&&((s=this._composedEventMap.get(a[0]))===null||s===void 0||s.event.unregister(),this._composedEventMap.delete(a[0]));else if(o){const a={callback:o,query:null,filter:{nodeName:null,type:t,level:null,source:e.source,markName:null,filter:null,userId:null}};this._eventDispatcher.unregister(t,a)}else this._eventDispatcher.unregister(t);return this}emit(t,e,r){return this._eventDispatcher.dispatch(t,e,r),this}release(){this._eventDispatcher.clear(),this._composedEventMap.clear()}};class WH{constructor(){this._map=new Map,this._levelNodes=new Map,this._levelNodes.set(Xe.vchart,[]),this._levelNodes.set(Xe.chart,[]),this._levelNodes.set(Xe.model,[]),this._levelNodes.set(Xe.mark,[])}addHandler(t,e){var r;const i={level:e,handler:t};return(r=this._levelNodes.get(e))===null||r===void 0||r.push(i),this._map.set(t.callback,i),this}removeHandler(t){const e=this._map.get(t.callback);if(!e)return this;this._map.delete(t.callback);const r=this._levelNodes.get(e.level),i=r==null?void 0:r.findIndex(s=>s.handler.callback===t.callback);return i!==void 0&&i>=0&&(r==null||r.splice(i,1)),this}getHandlers(t){var e;return((e=this._levelNodes.get(t))===null||e===void 0?void 0:e.map(r=>r.handler))||[]}getCount(){return this._map.size}release(){this._map.clear(),this._levelNodes.clear()}}const ox={cartesianAxis:"axis","cartesianAxis-band":"axis","cartesianAxis-linear":"axis","cartesianAxis-time":"axis",polarAxis:"axis","polarAxis-band":"axis","polarAxis-linear":"axis",discreteLegend:"legend",continuousLegend:"legend",colorLegend:"legend",sizeLegend:"legend",label:"label",markLine:"markLine",markArea:"markArea",markPoint:"markPoint",polarMarkLine:"polarMarkLine",polarMarkArea:"polarMarkArea",polarMarkPoint:"polarMarkPoint",geoMarkPoint:"geoMarkPoint"};class YH{constructor(t,e){this._viewBubbles=new Map,this._windowBubbles=new Map,this._canvasBubbles=new Map,this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this._onDelegate=r=>{var i;const s=this.globalInstance.getChart(),o=q(r.modelId)&&(s==null?void 0:s.getModelById(r.modelId))||void 0,a=q(r.markId)&&(s==null?void 0:s.getMarkById(r.markId))||null,l=new Map;let u=(i=r.item)===null||i===void 0?void 0:i.mark;for(u&&q(u.id())&&l.set(u.id(),r.item);u!=null&&u.elements;){const h=u.id();q(h)&&!l.has(h)&&l.set(h,u.elements[0]),u=u.group}const c={event:r.event,item:r.item,datum:r.datum,source:r.source,itemMap:l,chart:s,model:o,mark:a??void 0,node:_s(r.event,"target")};this.dispatch(r.type,c)},this._onDelegateInteractionEvent=r=>{const i=this.globalInstance.getChart(),s=r.event;let o=null;s.elements&&(o=s.elements);const a={event:r.event,chart:i,items:o,datums:o&&o.map(l=>l.getDatum())};this.dispatch(r.type,a)},this.globalInstance=t,this._compiler=e}register(t,e){var r,i,s,o,a;this._parseQuery(e);const l=this.getEventBubble(((r=e.filter)===null||r===void 0?void 0:r.source)||Nt.chart),u=this.getEventListeners(((i=e.filter)===null||i===void 0?void 0:i.source)||Nt.chart);if(l.get(t)||l.set(t,new WH),l.get(t).addHandler(e,(s=e.filter)===null||s===void 0?void 0:s.level),this._isValidEvent(t)&&!u.has(t)){const c=this._onDelegate.bind(this);this._compiler.addEventListener((o=e.filter)===null||o===void 0?void 0:o.source,t,c),u.set(t,c)}else if(this._isInteractionEvent(t)&&!u.has(t)){const c=this._onDelegateInteractionEvent.bind(this);this._compiler.addEventListener((a=e.filter)===null||a===void 0?void 0:a.source,t,c),u.set(t,c)}return this}unregister(t,e){var r,i,s,o;let a=!1;const l=this.getEventBubble(((r=e==null?void 0:e.filter)===null||r===void 0?void 0:r.source)||Nt.chart),u=this.getEventListeners(((i=e==null?void 0:e.filter)===null||i===void 0?void 0:i.source)||Nt.chart);if(e){const c=l.get(t);c==null||c.removeHandler(e),(c==null?void 0:c.getCount())===0&&(c==null||c.release(),l.delete(t),a=!0),!((s=e==null?void 0:e.wrappedCallback)===null||s===void 0)&&s.cancel&&e.wrappedCallback.cancel()}else{const c=l.get(t);c==null||c.release(),l.delete(t),a=!0}if(a&&this._isValidEvent(t)){const c=u.get(t);this._compiler.removeEventListener(((o=e==null?void 0:e.filter)===null||o===void 0?void 0:o.source)||Nt.chart,t,c),u.delete(t)}return this}dispatch(t,e,r){const i=this.getEventBubble(e.source||Nt.chart).get(t);if(!i)return this;let s=!1;if(r){const o=i.getHandlers(r);s=this._invoke(o,t,e)}else{const o=i.getHandlers(Xe.mark);if(s=this._invoke(o,t,e),!s){const a=i.getHandlers(Xe.model);s=this._invoke(a,t,e)}if(!s){const a=i.getHandlers(Xe.chart);s=this._invoke(a,t,e)}if(!s){const a=i.getHandlers(Xe.vchart);s=this._invoke(a,t,e)}}return this}clear(){for(const t of this._viewListeners.entries())this._compiler.removeEventListener(Nt.chart,t[0],t[1]);this._viewListeners.clear();for(const t of this._windowListeners.entries())this._compiler.removeEventListener(Nt.window,t[0],t[1]);this._windowListeners.clear();for(const t of this._canvasListeners.entries())this._compiler.removeEventListener(Nt.canvas,t[0],t[1]);this._canvasListeners.clear();for(const t of this._viewBubbles.values())t.release();this._viewBubbles.clear();for(const t of this._windowBubbles.values())t.release();this._windowBubbles.clear();for(const t of this._canvasBubbles.values())t.release();this._canvasBubbles.clear()}release(){this.clear(),this.globalInstance=null,this._compiler=null}_filter(t,e,r){var i,s,o;if(bt(t.filter)&&!t.filter(r)||t.nodeName&&_s(r,"node.name")!==t.nodeName||t.markName&&((i=r==null?void 0:r.mark)===null||i===void 0?void 0:i.name)!==t.markName)return!1;let a=(s=r.model)===null||s===void 0?void 0:s.type;return ox[a]&&(a=ox[a]),(!t.type||a===t.type)&&!(t.level==="mark"&&!t.type&&!(r!=null&&r.mark))&&!(t.level==="model"&&!t.type&&!(r!=null&&r.model))&&(!q(t.userId)||((o=r.model)===null||o===void 0?void 0:o.userId)===t.userId)}_prepareParams(t,e){if(t.markName&&e.mark&&e.itemMap){const r=e.mark.getProductId(),i=e.itemMap.get(r),s=i==null?void 0:i.getDatum();return Object.assign(Object.assign({},e),{item:i,datum:s})}return Object.assign({},e)}_invoke(t,e,r){return t.map(i=>{var s,o,a;const l=i.filter;if(!i.query||this._filter(l,e,r)){const u=(i.wrappedCallback||i.callback).call(null,this._prepareParams(l,r)),c=u??((s=i.query)===null||s===void 0?void 0:s.consume);return c&&((o=r.event)===null||o===void 0||o.stopPropagation(),(a=r.event)===null||a===void 0||a.preventDefault()),!!c}}).some(i=>i===!0)}_getQueryLevel(t){return t?t.level?t.level:q(t.id)?Xe.model:Xe.vchart:Xe.vchart}_parseQuery(t){var e;const r=t.query;r!=null&&r.throttle?t.wrappedCallback=DE(t.callback,r.throttle):r!=null&&r.debounce&&(t.wrappedCallback=su(t.callback,r.debounce));let i=this._getQueryLevel(r),s=null,o=Nt.chart,a=null,l=null,u=null;return r!=null&&r.nodeName&&(a=r.nodeName),r!=null&&r.markName&&(l=r.markName),!(r!=null&&r.type)||i!==Xe.model&&i!==Xe.mark||(s=r.type),r!=null&&r.source&&(o=r.source),q(r==null?void 0:r.id)&&(u=r==null?void 0:r.id,i=Xe.model),t.filter={level:i,markName:l,type:s,source:o,nodeName:a,userId:u,filter:(e=r==null?void 0:r.filter)!==null&&e!==void 0?e:null},t}getEventBubble(t){switch(t){case Nt.chart:return this._viewBubbles;case Nt.window:return this._windowBubbles;case Nt.canvas:return this._canvasBubbles;default:return this._viewBubbles}}getEventListeners(t){switch(t){case Nt.chart:return this._viewListeners;case Nt.window:return this._windowListeners;case Nt.canvas:return this._canvasListeners;default:return this._viewListeners}}_isValidEvent(t){return OG.includes(t)||Object.values(it).includes(t)}_isInteractionEvent(t){let e;return t&&(e=t.split(":")[0],e)&&ht.hasInteraction(e)}}function Ip(n,t,e){n.getTransform(t)||n.registerTransform(t,e)}function Rp(n,t,e){n.getParser(t)||n.registerParser(t,e)}const XH=new Map;function KH(n){return XH.get(n)}function ax(n,t=!1){let e=t;return n.latestData instanceof Yo&&(e=!1),e?Ni(n.latestData):n.latestData.slice()}const qH=(n,t)=>n.length===0?[]:n.length===1?ax(n[0],t==null?void 0:t.deep):n.map(e=>ax(e,t==null?void 0:t.deep));function ZH(n,t,e=[],r={}){var i,s,o;if(n instanceof Yo)return n;const{id:a,values:l=[],fromDataIndex:u,fromDataId:c,transforms:h=[]}=n,d=n.parser?Ni(n.parser):{clone:!0},f=Ni(n.fields);let p;d.clone=d.clone!==!1;const g=e.find(_=>_.name===a);if(g)p=g;else{const _={name:a};if(f&&(_.fields=f),p=new Yo(t,_),typeof c=="string"){const m=e.find(y=>y.name===c);if(!m)return((i=r.onError)!==null&&i!==void 0?i:Zo)(`no data matches fromDataId ${c}`),null;p.parse([m],{type:"dataview"}),p.transform({type:"copyDataView"})}else if(typeof u=="number"){const m=e[u];if(!m)return((s=r.onError)!==null&&s!==void 0?s:Zo)(`no data matches fromDataIndex ${u}`),null;p.parse([m],{type:"dataview"}),p.transform({type:"copyDataView"})}else Array.isArray(l)?p.parse(l,d):!dt(l)||d&&!["csv","dsv","tsv"].includes(d.type)?(p.parse([]),qo("values should be array")):p.parse(l,(o=d)!==null&&o!==void 0?o:{type:"csv"});h&&h.length&&h.forEach(m=>{t.getTransform(m.type)&&p.transform(m)})}return p}var lx;(function(n){n[n.copyDataView=-10]="copyDataView",n[n.treemapFilter=-8]="treemapFilter",n[n.treemapFlatten=-7]="treemapFlatten",n[n.dotObjFlat=-7]="dotObjFlat",n[n.linkDotInfo=-7]="linkDotInfo",n[n.sankeyLayout=-7]="sankeyLayout",n[n.dataZoomFilter=-6]="dataZoomFilter",n[n.legendFilter=-5]="legendFilter"})(lx||(lx={}));const QH=(n,t)=>{const e={nodes:{}},{fields:r}=t;if(!(r!=null&&r.length))return e;const i=r.length-1;let s,o,a=e;return n.forEach(l=>{l.latestData.forEach(u=>{a=e;for(let c=0;c<r.length;c++){const h=u[r[c]];if(z(h))break;a.nodes[h]||(c===i?a.nodes[h]={values:[]}:(s={nodes:{}},a.nodes[h]=s)),c===i?(o=a.nodes[h],o.values.push(u)):a=a.nodes[h]}})}),e};var Yn;(function(n){n.appear="appear",n.disappear="disappear",n.enter="enter",n.update="update",n.state="state",n.exit="exit",n.normal="normal",n.none="none"})(Yn||(Yn={}));var Di;(function(n){n.data="data",n.signal="signal",n.mark="mark"})(Di||(Di={}));function JH(n){switch(n){case Gn["desktop-browser"]:case Gn["mobile-browser"]:return"browser";case Gn.node:case Gn.worker:return"node";case Gn.miniApp:case Gn["desktop-miniApp"]:return"feishu";case Gn.lynx:return"lynx";case Gn.wx:return"wx"}return"browser"}class tV{getVGrammarView(){return this._view}getModel(){return this._model}constructor(t,e){this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this.isInited=!1,this._isRunning=!1,this._model={[Di.signal]:{},[Di.data]:{},[Di.mark]:{}},this._compileChart=null,this.handleStageRender=()=>{var r,i;(i=(r=this._compileChart)===null||r===void 0?void 0:r.getEvent())===null||i===void 0||i.emit($r.afterRender,{chart:this._compileChart})},this._container=t,this._option=e}getRenderer(){var t;return(t=this._view)===null||t===void 0?void 0:t.renderer}getCanvas(){var t;return(t=this._view)===null||t===void 0?void 0:t.renderer.canvas()}getStage(){var t;return(t=this._view)===null||t===void 0?void 0:t.renderer.stage()}initView(){var t,e,r,i;if(this.isInited=!0,this._view)return;const s=new xt((t=this._option.logLevel)!==null&&t!==void 0?t:Cn.Error);!((e=this._option)===null||e===void 0)&&e.onError&&s.addErrorHandler((...o)=>{var a,l;(l=(a=this._option)===null||a===void 0?void 0:a.onError)===null||l===void 0||l.call(a,...o)}),this._view=new Qy(Object.assign(Object.assign({width:this._width,height:this._height,container:(r=this._container.dom)!==null&&r!==void 0?r:null,renderCanvas:(i=this._container.canvas)!==null&&i!==void 0?i:null,hooks:this._option.performanceHook},this._option),{mode:JH(this._option.mode),autoFit:!1,eventConfig:{gesture:Rm(this._option.mode),disable:this._option.interactive===!1},doLayout:()=>{var o;(o=this._compileChart)===null||o===void 0||o.onLayout(this._view)},logger:s,logLevel:s.level()})),this._setCanvasStyle(),this.getStage().hooks.afterRender.tap("chart-event",this.handleStageRender),this._option.interactive!==!1&&this._viewListeners.forEach(o=>{var a;(a=this._view)===null||a===void 0||a.addEventListener(o.type,o.callback)})}_setCanvasStyle(){if(this._view&&this._container.dom&&!dt(this._container.dom)){this._container.dom.style.display="block",this._container.dom.style.position="relative";const t=this.getCanvas();t&&(t.style.display="block")}}compileInteractions(){var t;if(this._view.removeAllInteractions(),(t=this._interactions)===null||t===void 0?void 0:t.length){const e={};this._interactions.forEach(r=>{var i;if(r.regionId){const s=`${r.regionId}-${r.type}-${(i=r.id)!==null&&i!==void 0?i:""}`,o=e[s];e[s]=o?Object.assign(Object.assign(Object.assign({},o),r),{selector:[...o.selector,...r.selector]}):r}else this._view.interaction(r.type,r)}),Object.keys(e).forEach(r=>{const i=this._view.interaction(e[r].type,e[r]);if(this._compileChart){const s=this._compileChart.getRegionsInIds([e[r].regionId])[0];s&&s.interaction.addVgrammarInteraction(i.getStartState(),i)}})}}compile(t,e){const{chart:r}=t;this._compileChart=r,this.initView(),this._view&&(r.compile(),r.afterCompile(),this.updateDepend(),this.compileInteractions())}clear(t,e=!1){const{chart:r}=t;r.clear(),this.releaseGrammar(e)}renderNextTick(t){this._nextRafId||(this._nextRafId=Wn.getRequestAnimationFrame()(()=>{this._nextRafId=null,this.render(t)}))}render(t){var e,r;this._nextRafId&&(Wn.getCancelAnimationFrame()(this._nextRafId),this._nextRafId=null),this._isRunning||(this.initView(),this._view&&(this._isRunning=!0,(e=this._view)===null||e===void 0||e.run(t),this._isRunning=!1,this._nextRafId&&(Wn.getCancelAnimationFrame()(this._nextRafId),this._nextRafId=null,this._isRunning=!0,(r=this._view)===null||r===void 0||r.run(t),this._isRunning=!1)))}updateViewBox(t,e=!0){this._view&&this._view.renderer.setViewBox(t,e)}resize(t,e,r=!0){this._view&&(this._width=t,this._height=e,this._view.resize(t,e),r&&this.render({morph:!1}))}setBackground(t){var e;(e=this._view)===null||e===void 0||e.background(t)}setSize(t,e){this._width=t,this._height=e,this._view&&(this._view.width(t),this._view.height(e))}setViewBox(t,e=!0){this._view&&this._view.renderer.setViewBox(t,e)}addEventListener(t,e,r){var i,s;if(this._option.interactive!==!1){if(t===Nt.chart){const o=(function(a,l){var u,c,h;const d=(c=(u=l==null?void 0:l.mark)===null||u===void 0?void 0:u.getContext())!==null&&c!==void 0?c:{},f=q(d.modelId)?d.modelId:null,p=q(d.markId)?d.markId:null,g=q(d.modelUserId)?d.modelUserId:null,_=q(d.markUserId)?d.markUserId:null,m={event:a,type:e,source:t,item:l,datum:((h=l==null?void 0:l.getDatum)===null||h===void 0?void 0:h.call(l))||null,markId:p,modelId:f,markUserId:_,modelUserId:g};r.call(null,m)}).bind(this);this._viewListeners.set(r,{type:e,callback:o}),(i=this._view)===null||i===void 0||i.addEventListener(e,o)}else if(t===Nt.window){const o=(function(l){const u={event:l,type:e,source:t,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};r.call(null,u)}).bind(this);this._windowListeners.set(r,{type:e,callback:o});const a=this._getGlobalThis();a==null||a.addEventListener(e,o)}else if(t===Nt.canvas){const o=(function(l){const u={event:l,type:e,source:t,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};r.call(null,u)}).bind(this);this._canvasListeners.set(r,{type:e,callback:o});const a=(s=this.getStage())===null||s===void 0?void 0:s.window;a==null||a.addEventListener(e,o)}}}removeEventListener(t,e,r){var i,s,o,a,l;if(this._option.interactive!==!1){if(t===Nt.chart){const u=(i=this._viewListeners.get(r))===null||i===void 0?void 0:i.callback;u&&((s=this._view)===null||s===void 0||s.removeEventListener(e,u)),this._viewListeners.delete(r)}else if(t===Nt.window){const u=this._getGlobalThis(),c=(o=this._windowListeners.get(r))===null||o===void 0?void 0:o.callback;c&&(u==null||u.removeEventListener(e,c)),this._windowListeners.delete(r)}else if(t===Nt.canvas){const u=(a=this.getStage())===null||a===void 0?void 0:a.window,c=(l=this._canvasListeners.get(r))===null||l===void 0?void 0:l.callback;u&&c&&(u==null||u.removeEventListener(e,c)),this._canvasListeners.delete(r)}}}releaseEvent(){const t=this.getStage();t&&t.hooks.afterRender.unTap("chart-event",this.handleStageRender),this._viewListeners.clear(),this._windowListeners.clear(),this._canvasListeners.clear()}release(){var t;this.releaseEvent(),this._option=this._container=null,this._releaseModel(),(t=this._view)===null||t===void 0||t.release(),this._view=null,this.isInited=!1,this._compileChart=null}releaseGrammar(t=!1){var e,r;this._releaseModel(),t&&((e=this._view)===null||e===void 0||e.removeAllGraphicItems()),(r=this._view)===null||r===void 0||r.removeAllGrammars()}_releaseModel(){Object.keys(this._model).forEach(t=>{Object.values(this._model[t]).forEach(e=>{Object.values(e).forEach(r=>{r.removeProduct(!0)})}),this._model[t]={}})}addGrammarItem(t){const e=t.getProduct();if(z(e))return;const r=e.id(),i=t.grammarType;z(this._model[i][r])&&(this._model[i][r]={}),this._model[i][r][t.id]=t}removeGrammarItem(t,e){var r;const i=t.getProduct();if(z(i))return;const s=i.id(),o=t.grammarType,a=this._model[o][s];q(a)&&(delete a[t.id],Object.keys(a).length===0&&delete this._model[o][s]),e||(r=this._view)===null||r===void 0||r.removeGrammar(i)}addInteraction(t){this._interactions||(this._interactions=[]),this._interactions.push(t)}removeInteraction(t){this._interactions&&(this._interactions=this._interactions.filter(e=>e.seriesId!==t))}updateDepend(t){return q(t)&&t.length>0?t.every(e=>e.updateDepend()):(Object.values(this._model).forEach(e=>{Object.values(e).forEach(r=>{const i=Object.values(r),s=i[0].getProduct(),o=i.reduce((a,l)=>l.getDepend().length>0?a.concat(l.getDepend()):a,[]).filter(a=>!!a).map(a=>a.getProduct());s.depend(o)})}),!0)}_getGlobalThis(){var t;return fl(this._option.mode)?globalThis:(t=this.getStage())===null||t===void 0?void 0:t.window}}var eV=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})};function nV(n="vchart",t){const e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.setAttribute("download",`${n}.png`),e.dispatchEvent(new MouseEvent("click"))}function rV(n){return new Promise(t=>{n.convertToBlob().then(e=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)}})})}function iV(n,t){var e;return eV(this,void 0,void 0,function*(){if(!n)return"";try{if(OffscreenCanvas!==void 0&&n instanceof OffscreenCanvas)return rV(n)}catch(r){((e=t==null?void 0:t.onError)!==null&&e!==void 0?e:Zo)(`getCanvasDataURL error : ${r.toString()}`)}return n.toDataURL()})}function sV(n,t,e){var r;const{width:i,height:s}=n;if(q(i)&&q(s))return{width:i,height:s};let o=e.width,a=e.height;const l=t.container,u=t.canvas;if(l){const{width:c,height:h}=im(l,e.width,e.height);o=c,a=h}else if(u&&fl(t.mode)){let c;c=dt(u)?document==null?void 0:document.getElementById(u):u;const{width:h,height:d}=im(c,e.width,e.height);o=h,a=d}else if(ZO(t.mode)&&(!((r=t.modeParams)===null||r===void 0)&&r.domref)){const c=t.modeParams.domref;o=c.width,a=c.height}return o=i??o,a=s??a,{width:o,height:a}}function oV(n,...t){const e=r=>t.reduce((i,s)=>i||(s==null?void 0:s[r]),n[r]);return Object.assign(n,{change:e("change"),reCompile:e("reCompile"),reMake:e("reMake"),reRender:e("reRender"),reSize:e("reSize"),reTransformSpec:e("reTransformSpec")}),n}var we;(function(n){n.STATE_NORMAL="normal",n.STATE_HOVER="hover",n.STATE_HOVER_REVERSE="hover_reverse",n.STATE_DIMENSION_HOVER="dimension_hover",n.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",n.STATE_SELECTED="selected",n.STATE_SELECTED_REVERSE="selected_reverse",n.STATE_SANKEY_EMPHASIS="selected",n.STATE_SANKEY_EMPHASIS_REVERSE="blur"})(we||(we={}));var vl;(function(n){n.STATE_HOVER_REVERSE="hover_reverse",n.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",n.STATE_SELECTED_REVERSE="selected_reverse"})(vl||(vl={}));class ea{constructor(){this._children=[],this._markNameMap={},this._infoMap=new Map}getMarkNameMap(){return this._markNameMap}addMark(t,e){z(t)||(this._children.push(t),this._markNameMap[t.name]=t,this._infoMap.set(t,Mr({},ea.defaultMarkInfo,e)))}removeMark(t){const e=this._children.findIndex(r=>r.name===t);e>=0&&(this._infoMap.delete(this._children[e]),delete this._markNameMap[t],this._children.splice(e,1))}clear(){this._children=[],this._markNameMap={},this._infoMap.clear()}forEach(t){this._children.forEach(t)}includes(t,e){return this._children.includes(t,e)}get(t){return isNaN(Number(t))?this._markNameMap[t]:this._children[t]}getMarks(){return this._children.slice()}getMarksInType(t){const e=Ct(t);return this._children.filter(r=>e.includes(r.type))}getMarkInId(t){return this._children.find(e=>e.id===t)}getMarkWithInfo(t){return this._children.find(e=>Object.keys(t).every(r=>t[r]===this._infoMap.get(e)[r]))}}ea.defaultMarkInfo={};class aV{get hover(){return this._hover}get select(){return this._select}constructor(t){this._marks=new ea,this._markReverse=new ea,this.onHover=e=>{switch(e.action){case"enter":this.interaction.getEventElement(we.STATE_DIMENSION_HOVER).forEach(r=>this.interaction.addEventElement(we.STATE_DIMENSION_HOVER_REVERSE,r)),this.interaction.clearEventElement(we.STATE_DIMENSION_HOVER,!1),this.getEventElement(e).forEach(r=>this.interaction.addEventElement(we.STATE_DIMENSION_HOVER,r)),this.interaction.reverseEventElement(we.STATE_DIMENSION_HOVER);break;case"leave":this.interaction.clearEventElement(we.STATE_DIMENSION_HOVER,!0),e=null}},this._option=t,this.event=this._option.model.getOption().getChart().getEvent(),this.interaction=t.interaction,this.initConfig(t.mode)}setStateKeys(t){}registerMark(t){Cr(t.stateStyle[we.STATE_DIMENSION_HOVER])||this._marks.addMark(t),Cr(t.stateStyle[we.STATE_DIMENSION_HOVER_REVERSE])||this._markReverse.addMark(t)}init(){this.initEvent()}release(){this.releaseEvent()}initEvent(){this.event.on(Xl.dimensionHover,this.onHover)}releaseEvent(){this.event.release()}initConfig(t){}getEventElement(t,e=!1){const r=[];return t.dimensionInfo.forEach(i=>{i.data.forEach(s=>{(e?this._markReverse:this._marks).getMarks().filter(o=>o.model===s.series&&o.getVisible()).forEach(o=>{const a=o.getProduct();if(!a||!a.elements)return;const l=a.elements.filter(u=>{const c=u.getDatum();let h;return h=ft(c)?c.every((d,f)=>d===s.datum[f]):s.datum.some(d=>d===c),e?!h:h});r.push(...l)})})}),r}}function lV(n,t,e){var r;const i=(r=t[n])===null||r===void 0?void 0:r.style;return uV(n,i)||bt(i)?!0:!(!(i!=null&&i.scale)||i.field===e)}function uV(n,t){return(n==="fill"||n==="stroke")&&(t==null?void 0:t.gradient)&&(t==null?void 0:t.stops)}const jk={};Object.values(we).forEach(n=>{jk[n]=!0});function cV(n){return!!jk[n]}const hV={[we.STATE_HOVER]:we.STATE_HOVER_REVERSE,[we.STATE_SELECTED]:we.STATE_SELECTED_REVERSE,[we.STATE_DIMENSION_HOVER]:we.STATE_DIMENSION_HOVER_REVERSE};function sc(n){return hV[n]}class dV{constructor(){this._stateMarks=new Map,this._stateElements=new Map,this._vgrammarInteractions=new Map,this._disableTriggerEvent=!1}addVgrammarInteraction(t,e){t&&(this._vgrammarInteractions.get(t)?this._vgrammarInteractions.get(t).push(e):this._vgrammarInteractions.set(t,[e]))}static markStateEnable(t,e){return!Cr(t.stateStyle[e])}setDisableActiveEffect(t){this._disableTriggerEvent=t}registerMark(t,e){var r;this._stateMarks.has(t)||this._stateMarks.set(t,[]),(r=this._stateMarks.get(t))===null||r===void 0||r.push(e)}getStateMark(t){return this._stateMarks.get(t)}filterEventMark(t,e){var r;return!(!t.mark||!(!((r=this._stateMarks.get(e))===null||r===void 0)&&r.includes(t.mark)))}getEventElement(t){var e;return(e=this._stateElements.get(t))!==null&&e!==void 0?e:[]}getEventElementData(t){return this.getEventElement(t).map(e=>e.getDatum())}exchangeEventElement(t,e){var r;if(this._disableTriggerEvent)return;const i=sc(t);(r=this._stateElements.get(t))===null||r===void 0||r.forEach(s=>{s.removeState(t),i&&this.addEventElement(i,s)}),e.getStates().includes(t)||(e.addState(t),i&&e.removeState(i)),this._stateElements.set(t,[e])}removeEventElement(t,e){var r,i;if(this._disableTriggerEvent)return;e.removeState(t);const s=(i=(r=this._stateElements.get(t))===null||r===void 0?void 0:r.filter(a=>a!==e))!==null&&i!==void 0?i:[];this._stateElements.set(t,s);const o=sc(t);o&&(s.length===0?this.clearEventElement(o,!1):this.addEventElement(o,e))}addEventElement(t,e){var r;if(this._disableTriggerEvent)return;e.getStates().includes(t)||e.addState(t);const i=(r=this._stateElements.get(t))!==null&&r!==void 0?r:[];i.push(e),this._stateElements.set(t,i)}clearEventElement(t,e){var r;if(!this._disableTriggerEvent&&((r=this._stateElements.get(t))===null||r===void 0||r.forEach(i=>{i.removeState(t)}),this._stateElements.set(t,[]),e)){const i=sc(t);i&&this.clearEventElement(i,!1)}}reverseEventElement(t){if(this._disableTriggerEvent)return;const e=sc(t);if(!e)return;const r=this.getStateMark(e);if(!r)return;const i=this.getEventElement(t);i.length&&(this.getEventElement(e).length||(i.length===1?r.forEach(s=>{s.getProduct().elements.filter(o=>o!==i[0]).forEach(o=>{this.addEventElement(e,o)})}):r.forEach(s=>{s.getProduct().elements.filter(o=>!i.includes(o)).forEach(o=>{this.addEventElement(e,o)})})))}startInteraction(t,e){const r=this._vgrammarInteractions.get(t);r&&r.forEach(i=>{i.start(e)})}resetInteraction(t,e){const r=this._vgrammarInteractions.get(t);r&&r.forEach(i=>{i.reset(e)})}}class s0{getOption(){return this._option}constructor(t){this._option=t,this.getCompiler=this._option.getCompiler}getVGrammarView(){var t;return(t=this.getCompiler())===null||t===void 0?void 0:t.getVGrammarView()}release(){this._option=null,this.getCompiler=null}}class o0 extends s0{constructor(){super(...arguments),this.id=fu(),this._compiledProductId=null,this._depend=[]}getProduct(){if(q(this._product))return this._product;const t=this.getVGrammarView(),e=this.getProductId();return q(e)&&q(t)&&(this._product=this._lookupGrammar(e)),this._product}getProductId(){var t;return(t=this._compiledProductId)!==null&&t!==void 0?t:this.generateProductId()}getDepend(){return this._depend}setDepend(...t){this._depend=t}compile(t){this._compileProduct(t),this._afterCompile(t)}_afterCompile(t){var e;q(this._product)&&((e=this.getCompiler())===null||e===void 0||e.addGrammarItem(this))}updateDepend(){if(q(this._product)){const t=this.getDepend().map(e=>e.getProduct()).filter(q);return this._product.depend(t),t.length===this.getDepend().length}return!1}release(){this.removeProduct(),super.release(),this._depend=[]}removeProduct(t){this.getCompiler().removeGrammarItem(this,t),this._product=null,this._compiledProductId=null}}class fV extends o0{getValue(){return this._value}getUpdateFunc(){return this._updateFunc}constructor(t,e,r,i){super(t),this.grammarType=Di.signal,this.name=e,this._value=r,this._updateFunc=i}updateSignal(t,e){this._value=t,this._updateFunc=e,this.compile()}_compileProduct(){const t=this.getVGrammarView();if(t){if(!this.getProduct()){const e=this.getProductId();this._product=t.signal().id(e),this._compiledProductId=e}q(this._value)&&this._product.value(this._value),q(this._updateFunc)&&this._product.update(this._updateFunc)}}generateProductId(){return this.name}_lookupGrammar(t){var e;return(e=this.getCompiler().getVGrammarView())===null||e===void 0?void 0:e.getSignalById(t)}}class pV extends s0{constructor(){super(...arguments),this._signalMap={}}getSignalMap(){return this._signalMap}getSignal(t){return this._signalMap[t]}updateSignal(t,e,r){this._signalMap[t]?this._signalMap[t].updateSignal(e,r):(this._signalMap[t]=new fV(this._option,t,e,r),this._signalMap[t].compile())}compile(){Object.values(this._signalMap).forEach(t=>{t.compile()})}release(){super.release(),Object.values(this._signalMap).forEach(t=>{t.release()}),this._signalMap={}}}class Nk extends pV{getStateMap(){return this._stateMap}_getDefaultStateMap(){return{}}constructor(t){super(t),t.stateKeyToSignalName?this.stateKeyToSignalName=t.stateKeyToSignalName:this.stateKeyToSignalName=()=>"state_signal",this.initStateMap()}initStateMap(t){this._stateMap=t??this._getDefaultStateMap()}compile(t){const e=t??this._stateMap;Object.keys(e).forEach(r=>{const i=this.stateKeyToSignalName(r),s=e[r];this.updateSignal(i,s)})}updateState(t,e){if(t&&(Mr(this._stateMap,t),this.compile(t),!e))return this.getCompiler().renderNextTick()}}class gV extends Nk{constructor(){super(...arguments),this.id=fu(),this.stateKeyToSignalName=t=>`${Jo}_animate_${this.id}_${t}`}getAnimationStateSignalName(){return this.stateKeyToSignalName("animationState")}updateAnimateState(t,e){t===Yn.update?this.updateState({animationState:{callback:(r,i)=>i.diffState}},e):t===Yn.appear?this.updateState({animationState:{callback:(r,i)=>i.diffState==="exit"?Yn.none:Yn.appear}},e):this.updateState({animationState:{callback:(r,i)=>t}},e)}_getDefaultStateMap(){return{animationState:{callback:(t,e)=>e.diffState==="exit"?Yn.exit:Yn.appear}}}}class Fk{constructor(t){this._option=t,this.type=t.type}_initTheme(t,e){return this._theme=this.getTheme(t,e),this._mergeThemeToSpec(t,e)}getTheme(t,e){}transformSpec(t,e,r){this._transformSpecBeforeMergingTheme(t,e,r);const i=this._initTheme(t,e);return this._transformSpecAfterMergingTheme(i.spec,e,r),i}_transformSpecBeforeMergingTheme(t,e,r){}_transformSpecAfterMergingTheme(t,e,r){}_mergeThemeToSpec(t,e){const r=this._theme;if(this._shouldMergeThemeToSpec()){const i=this._getDefaultSpecFromChart(e),s=o=>Er({},r,i,o);return ft(t)?{spec:t.map(o=>s(o)),theme:r}:{spec:s(t),theme:r}}return{spec:t,theme:r}}_shouldMergeThemeToSpec(){return!0}_getDefaultSpecFromChart(t){}}class mV extends s0{getSpec(){return this._spec||{}}getSpecPath(){var t;return(t=this._option)===null||t===void 0?void 0:t.specPath}getSpecInfoPath(){var t,e,r;return(e=(t=this._option)===null||t===void 0?void 0:t.specInfoPath)!==null&&e!==void 0?e:(r=this._option)===null||r===void 0?void 0:r.specPath}getData(){return this._data}get layout(){return this._layout}getOption(){return this._option}getMarks(){var t,e;return(e=(t=this._marks)===null||t===void 0?void 0:t.getMarks())!==null&&e!==void 0?e:[]}getMarkNameMap(){var t;return(t=this._marks)===null||t===void 0?void 0:t.getMarkNameMap()}getMarkSet(){return this._marks}getMarkInfoList(){return this.getMarks().map(t=>({type:t.type,name:t.name}))}getChart(){return this._option.getChart()}get _theme(){var t;return(t=this.getSpecInfo())===null||t===void 0?void 0:t.theme}constructor(t,e){var r;super(e),this.transformerConstructor=Fk,this.type="null",this.modelType="null",this.userId=void 0,this._data=null,this._layout=null,this.specKey="",this._marks=new ea,this._lastLayoutRect=null,this.id=fu(),this.userId=t.id,this._spec=t,this.effect={},this.event=new i0(e.eventDispatcher,e.mode),(r=e.map)===null||r===void 0||r.set(this.id,this)}_releaseEvent(){this.event.release()}created(){this.setAttrFromSpec()}init(t){}afterInit(){}getVisible(){var t;return((t=this._spec)===null||t===void 0?void 0:t.visible)!==!1}onLayoutStart(t,e,r){var i;(i=this._layout)===null||i===void 0||i.onLayoutStart(t,e,r)}onLayoutEnd(t){var e;(e=this._layout)===null||e===void 0||e.onLayoutEnd(t),this.getMarks().forEach(r=>r.updateLayoutState(!0,!0))}onEvaluateEnd(t){}onDataUpdate(){}beforeRelease(){}release(){var t;this._releaseEvent(),this._spec=void 0,this.getMarks().forEach(e=>e.release()),(t=this._data)===null||t===void 0||t.release(),this._data=null,this._marks.clear(),super.release()}updateSpec(t){const e=this._compareSpec(t,this._spec);return this._spec=t,e}_compareSpec(t,e){return{change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1}}reInit(t){t&&(this._spec=t),this.setAttrFromSpec()}updateLayoutAttribute(){}setAttrFromSpec(){var t;(t=this._layout)===null||t===void 0||t.setAttrFromSpec(this._spec,this._option.getChartViewRect())}_convertMarkStyle(t){return Object.assign({},t)}setMarkStyle(t,e,r,i){q(t)&&q(e)&&t.setStyle(this._convertMarkStyle(e),r,i)}initMarkStyleWithSpec(t,e,r){if(!q(t)||!q(e))return;const{style:i,state:s}=e,o=Object.assign({},e);i&&(o.style=this._convertMarkStyle(i)),s&&(o.state={},Object.keys(s).forEach(a=>{o.state[a]=this._convertMarkStyle(s[a])})),t.initStyleWithSpec(o,r)}stateKeyToSignalName(t,e){let r=`${Jo}_${this.modelType}_${this.type}_${this.id}_${t}`;return e&&(r+=`_${e}`),r}compileData(){var t;(t=this._data)===null||t===void 0||t.compile()}compileMarks(t){this.getMarks().forEach(e=>{e.compile({group:t})})}_createMark(t,e={}){const{type:r,name:i}=t,s=st.createMark(r,i,Object.assign({model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._option.globalScale},e));return s==null||s.created(),s}_getDataIdKey(){}getColorScheme(){var t,e;return(e=(t=this._option).getTheme)===null||e===void 0?void 0:e.call(t).colorScheme}getSpecInfo(){var t,e,r;const i=(r=(e=(t=this._option).getSpecInfo)===null||e===void 0?void 0:e.call(t))!==null&&r!==void 0?r:{};return Uz(i,this.getSpecInfoPath())}getSpecIndex(){const t=this.getSpecPath();if(!(t!=null&&t.length))return 0;const e=Number(t[t.length-1]);return isNaN(e)?0:e}}class vV{getSpec(){return this._spec||{}}getLayoutStartPoint(){return this._layoutStartPoint}get layoutRectLevelMap(){return this._layoutRectLevelMap}get minWidth(){return this._minWidth}set minWidth(t){this._minWidth=t}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth=t}get minHeight(){return this._minHeight}set minHeight(t){this._minHeight=t}get maxHeight(){return this._maxHeight}set maxHeight(t){this._maxHeight=t}getLastComputeOutBounds(){return this._lastComputeOutBounds}get layoutOrient(){return this._layoutOrient}set layoutOrient(t){this._layoutOrient=t}get model(){return this._model}get type(){return this._model.type}constructor(t,e){var r;this.layoutClip=!1,this.autoIndent=!1,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:0,height:0},this._layoutRectLevelMap={width:yr,height:yr},this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._lastComputeRect=null,this._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0},this.getLayoutRect=()=>this._layoutRect,this.layoutType="normal",this._layoutOrient="left",this.layoutPaddingLeft=0,this.layoutPaddingTop=0,this.layoutPaddingRight=0,this.layoutPaddingBottom=0,this.layoutOffsetX=0,this.layoutOffsetY=0,this.layoutLevel=Vm.Region,this._model=t,this._option=e,this.layoutLevel=e.layoutLevel,this.layoutType=e.layoutType,e.layoutOrient&&(this.layoutOrient=e.layoutOrient),this._spec=(r=t==null?void 0:t.getSpec)===null||r===void 0?void 0:r.call(t)}_setLayoutAttributeFromSpec(t,e){var r,i,s,o;if(this._spec&&this._spec.visible!==!1){const a=_6(t.padding),l=v6(a,e,e);this.layoutPaddingLeft=l.left,this.layoutPaddingRight=l.right,this.layoutPaddingTop=l.top,this.layoutPaddingBottom=l.bottom,this._minHeight=z(t.minHeight)?(r=this._minHeight)!==null&&r!==void 0?r:null:_r(t.minHeight,e.height,e),this._maxHeight=z(t.maxHeight)?(i=this._maxHeight)!==null&&i!==void 0?i:null:_r(t.maxHeight,e.height,e),this._minWidth=z(t.minWidth)?(s=this._minWidth)!==null&&s!==void 0?s:null:_r(t.minWidth,e.width,e),this._maxWidth=z(t.maxWidth)?(o=this._maxWidth)!==null&&o!==void 0?o:null:_r(t.maxWidth,e.width,e),t.width&&this.setLayoutRect({width:_r(t.width,e.width,e)},{width:Ls}),t.height&&this.setLayoutRect({height:_r(t.height,e.height,e)},{height:Ls}),z(t.offsetX)||(this.layoutOffsetX=_r(t.offsetX,e.width,e)),z(t.offsetY)||(this.layoutOffsetY=_r(t.offsetY,e.height,e)),t.alignSelf&&(this.alignSelf=t.alignSelf)}}setAttrFromSpec(t,e){var r,i,s,o;this._spec=t,this.layoutType=(r=t.layoutType)!==null&&r!==void 0?r:this.layoutType,this.layoutLevel=(i=t.layoutLevel)!==null&&i!==void 0?i:this.layoutLevel,this.layoutOrient=(s=t.orient)!==null&&s!==void 0?s:this.layoutOrient,this._setLayoutAttributeFromSpec(t,e),this.layoutClip=(o=t.clip)!==null&&o!==void 0?o:this.layoutClip}onLayoutStart(t,e,r){this._setLayoutAttributeFromSpec(this._spec,e)}onLayoutEnd(t){}_getAbsoluteSpecValue(t){const e={top:null,bottom:null,left:null,right:null};return["top","bottom","left","right"].forEach(r=>{z(this._spec[r])||(e[r]=_r(this._spec[r],r==="top"||r==="bottom"?t.height:t.width,t))}),e}absoluteLayoutInRect(t){const{top:e,bottom:r,left:i,right:s}=this._getAbsoluteSpecValue(t),o={width:t.width-this.layoutPaddingLeft-this.layoutPaddingRight,height:t.height-this.layoutPaddingTop-this.layoutPaddingBottom};z(i)||(o.width-=i),z(s)||(o.width-=s),z(e)||(o.height-=e),z(r)||(o.height-=r),this.setLayoutRect(o);const{width:a,height:l}=this.computeBoundsInRect(this.getLayoutRect());this.setLayoutRect({width:a,height:l});const u={x:t.x,y:t.y};this._spec.center===!0?(u.x=t.x+.5*t.width-.5*a,u.y=t.y+.5*t.height-.5*l):(z(i)?z(s)||(u.x=t.x+t.width-this.layoutPaddingRight-s-a):u.x=t.x+i+this.layoutPaddingLeft,z(e)?z(r)||(u.y=t.y+t.height-this.layoutPaddingBottom-r-l):u.y=t.y+e+this.layoutPaddingTop),this.setLayoutStartPosition(u)}setLayoutStartPosition(t){var e,r;this._option.transformLayoutPosition&&(t=this._option.transformLayoutPosition(t)),mt(t.x)&&(this._layoutStartPoint.x=t.x),mt(t.y)&&(this._layoutStartPoint.y=t.y),(r=(e=this._model).afterSetLayoutStartPoint)===null||r===void 0||r.call(e,this._layoutStartPoint)}setLayoutRect({width:t,height:e},r){var i,s,o,a;mt(t)&&((i=r==null?void 0:r.width)!==null&&i!==void 0?i:yr)>=this._layoutRectLevelMap.width&&(this._layoutRect.width=t,this._layoutRectLevelMap.width=(s=r==null?void 0:r.width)!==null&&s!==void 0?s:yr),mt(e)&&((o=r==null?void 0:r.height)!==null&&o!==void 0?o:yr)>=this._layoutRectLevelMap.height&&(this._layoutRect.height=e,this._layoutRectLevelMap.height=(a=r==null?void 0:r.height)!==null&&a!==void 0?a:yr),this.setRectInSpec(this._layoutRect)}getLayout(){return{x:this._layoutStartPoint.x,y:this._layoutStartPoint.y,width:this._layoutRect.width,height:this._layoutRect.height}}mergeLayoutRect({width:t,height:e}){const r={width:t,height:e};return this._layoutRectLevelMap.width>yr&&(r.width=this._layoutRect.width),this._layoutRectLevelMap.height>yr&&(r.height=this._layoutRect.height),r}getOrientPosAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"x":"y"}getOrientSizeAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"width":"height"}changeBoundsBySetting(t){return this._layoutRectLevelMap.width>yr&&(t.x2=t.x1+this._layoutRect.width),this._layoutRectLevelMap.height>yr&&(t.y2=t.y1+this._layoutRect.height),t.x1-=this._layoutStartPoint.x,t.x2-=this._layoutStartPoint.x,t.y1-=this._layoutStartPoint.y,t.y2-=this._layoutStartPoint.y,t}setRectInSpec(t){const e=Object.assign({},t);return this._layoutRectLevelMap.width<Ls?(z(this._minWidth)||(e.width=Math.max(e.width,this._minWidth)),z(this._maxWidth)||(e.width=Math.min(e.width,this._maxWidth))):e.width=this._layoutRect.width,this._layoutRectLevelMap.height<Ls?(z(this._minHeight)||(e.height=Math.max(e.height,this._minHeight)),z(this._maxHeight)||(e.height=Math.min(e.height,this._maxHeight))):e.height=this._layoutRect.height,e}computeBoundsInRect(t){if(this._lastComputeRect=t,!(this.layoutType!=="region-relative"&&this.layoutType!=="region-relative-overlap"||(this._layoutRectLevelMap.width!==Ls||this.layoutOrient!=="left"&&this.layoutOrient!=="right")&&(this._layoutRectLevelMap.height!==Ls||this.layoutOrient!=="bottom"&&this.layoutOrient!=="top")))return this._layoutRect;const e=Object.assign({},this._model.getBoundsInRect(this.setRectInSpec(t),t));this.changeBoundsBySetting(e),this.autoIndent&&e.x2-e.x1>0&&e.y2-e.y1>0&&(this._lastComputeOutBounds.x1=Math.ceil(-e.x1),this._lastComputeOutBounds.x2=Math.ceil(e.x2-t.width),this._lastComputeOutBounds.y1=Math.ceil(-e.y1),this._lastComputeOutBounds.y2=Math.ceil(e.y2-t.height));let r=this.setRectInSpec(y6(e,t));return this._option.transformLayoutRect&&(r=this._option.transformLayoutRect(r)),r}getModelId(){return this._model.id}getModelVisible(){return this._model.getVisible()}}class yV extends mV{constructor(){super(...arguments),this.layoutType="normal",this.layoutLevel=0,this.layoutZIndex=0,this._forceLayoutTag=!1,this._layout=null,this._orient=null,this._layoutRect={width:0,height:0},this._layoutStartPos={x:0,y:0},this._isLayout=!0,this.getGraphicBounds=()=>this._layout?{x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}:{x1:0,x2:0,y1:0,y2:0},this._transformLayoutRect=null,this._transformLayoutPosition=null}get layoutOrient(){return this._orient}set layoutOrient(t){this._orient=t,this._layout&&(this._layout.layoutOrient=t)}initLayout(){this.layoutType!=="none"&&(this._layout=new vV(this,{layoutType:this.layoutType,layoutLevel:this.layoutLevel,layoutOrient:this._orient,transformLayoutRect:this._transformLayoutRect,transformLayoutPosition:this._transformLayoutPosition}),this._orient&&this._orient!=="radius"&&this._orient!=="angle"&&this.layout&&(this._layout.layoutOrient=this._orient))}onLayoutStart(t,e,r){this._isLayout=!0,super.onLayoutStart(t,e,r)}onLayoutEnd(t){super.onLayoutEnd(t),this.updateLayoutAttribute();const e=this.getLayoutRect();!this._forceLayoutTag&&bs(this._lastLayoutRect,e)||(this._lastLayoutRect=Object.assign({},e)),this._forceLayoutTag=!1,this._isLayout=!1}afterSetLayoutStartPoint(t){}_forceLayout(){var t;this._isLayout||(this._forceLayoutTag=!0,(t=this._option.globalInstance.getChart())===null||t===void 0||t.setLayoutTag(!0))}getLayoutStartPoint(){return this._layout?this._layout.getLayoutStartPoint():this._layoutStartPos}setLayoutStartPosition(t){return this._layout?this._layout.setLayoutStartPosition(t):this._layoutStartPos=Mr(this._layoutStartPos,t)}getLayoutRect(){return this._layout?this._layout.getLayoutRect():this._layoutRect}setLayoutRect(t,e){return this._layout?this._layout.setLayoutRect(t):this._lastLayoutRect=Mr(this._layoutRect,t)}getLastComputeOutBounds(){var t;return(t=this._layout)===null||t===void 0?void 0:t.getLastComputeOutBounds()}setAttrFromSpec(){var t,e,r,i;super.setAttrFromSpec(),this.layoutClip=(t=this._spec.clip)!==null&&t!==void 0?t:this.layoutClip,this.layoutZIndex=(e=this._spec.zIndex)!==null&&e!==void 0?e:this.layoutZIndex,this.layoutType=(r=this._spec.layoutType)!==null&&r!==void 0?r:this.layoutType,this._orient=(i=this._spec.orient)!==null&&i!==void 0?i:this._orient}}class zk extends Fk{_initTheme(t,e){return{spec:t,theme:this._theme}}}class Lo extends yV{getMaxWidth(){return this._layout.maxWidth}setMaxWidth(t){this._layout.maxWidth=t}getMaxHeight(){return this._layout.maxHeight}setMaxHeight(t){this._layout.maxHeight=t}getGroupMark(){return this._groupMark}getInteractionMark(){return this._interactionMark}getStackInverse(){return this._spec.stackInverse===!0}getStackSort(){return this._spec.stackSort===!0}constructor(t,e){var r;super(t,e),this.transformerConstructor=zk,this.modelType="region",this.specKey="region",this.type=Lo.type,this._series=[],this.layoutType="region",this.layoutZIndex=Bo.Region,this.interaction=new dV,this.seriesDataFilterOver=()=>{this.event.emit($r.regionSeriesDataFilterOver,{model:this,chart:this.getChart()}),this._series.forEach(i=>{i.getViewDataFilter()&&i.reTransformViewData()})},this.getBoundsInRect=()=>({x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}),this.userId=t.id,this.coordinate=(r=t.coordinate)!==null&&r!==void 0?r:"cartesian",this._option.animation&&(this.animate=new gV({getCompiler:e.getCompiler})),this.interaction.setDisableActiveEffect(this._option.disableTriggerEvent)}_getClipDefaultValue(){var t,e,r,i;const s=this._option.getChart().getSpec(),o=(e=(t=s.dataZoom)===null||t===void 0?void 0:t.some)===null||e===void 0?void 0:e.call(t,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"filter")==="axis"}),a=(i=(r=s.scrollBar)===null||r===void 0?void 0:r.some)===null||i===void 0?void 0:i.call(r,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"axis")==="axis"});return!(!o&&!a)||this._layout.layoutClip}created(){var t;this.initLayout(),super.created();const e=(t=this._spec.clip)!==null&&t!==void 0?t:this._getClipDefaultValue();this._groupMark=this._createGroupMark("regionGroup",this.userId,this.layoutZIndex),this._interactionMark=this._createGroupMark("regionInteractionGroup",this.userId+"_interaction",Bo.Interaction),Cr(this._spec.style)||(this._backgroundMark=this._createMark({type:"rect",name:"regionBackground"}),e&&(this._foregroundMark=this._createMark({type:"rect",name:"regionForeground"})),[this._backgroundMark,this._foregroundMark].forEach(r=>{r&&(r.created(),this.setMarkStyle(r,{width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height},"normal",pn.Built_In),this._groupMark.addMark(r))}),this._backgroundMark&&this._backgroundMark.setZIndex(0),this._foregroundMark&&this._foregroundMark.setZIndex(Bo.Mark+1)),this.createTrigger()}_createGroupMark(t,e,r){var i,s;const o=this._createMark({type:"group",name:t});o.setUserId(e),o.setZIndex(r);const a=(i=this._spec.clip)!==null&&i!==void 0?i:this._getClipDefaultValue();return this.setMarkStyle(o,{x:()=>this.getLayoutStartPoint().x,y:()=>this.getLayoutStartPoint().y,width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height,clip:a},"normal",pn.Built_In),this.setMarkStyle(o,{cornerRadius:(s=this._spec.style)===null||s===void 0?void 0:s.cornerRadius},"normal",pn.User_Mark),this._marks.addMark(o),o}init(t){super.init(t),this.initMark(),this.initSeriesDataflow(),this.initInteraction(),this.initTrigger()}initMark(){this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}_initBackgroundMarkStyle(){var t,e;this._backgroundMark&&(this.setMarkStyle(this._backgroundMark,Object.assign({fillOpacity:!((t=this._spec.style)===null||t===void 0)&&t.fill?1:0},this._spec.style),"normal",pn.User_Mark),((e=this._spec.clip)!==null&&e!==void 0?e:this._getClipDefaultValue())&&this.setMarkStyle(this._backgroundMark,{strokeOpacity:0},"normal",pn.Built_In))}_initForegroundMarkStyle(){this._foregroundMark&&this.setMarkStyle(this._foregroundMark,Object.assign(Object.assign({},this._spec.style),{fillOpacity:0}),"normal",pn.User_Mark)}_compareSpec(t,e){const r=super._compareSpec(t,e);return bs(e==null?void 0:e.style,t==null?void 0:t.style)||(r.reMake=!0),r}reInit(t){super.reInit(t),this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}addSeries(t){t&&(this._series.includes(t)||this._series.push(t))}removeSeries(t){if(!t)return;const e=this._series.findIndex(r=>r===t);e>=0&&this._series.splice(e,1)}getSeries(t={}){return this._series.filter(e=>{var r,i;return(!t.name||(e==null?void 0:e.name)===t.name)&&(!t.userId||Ct(t.userId).includes(e.userId))&&(!q(t.specIndex)||Ct(t.specIndex).includes(e.getSpecIndex()))&&(!t.id||e.id===t.id)&&(!t.type||e.type===t.type)&&(!t.coordinateType||e.coordinate===t.coordinateType)&&(!t.dataName||((i=(r=e.getRawData)===null||r===void 0?void 0:r.call(e))===null||i===void 0?void 0:i.name)===t.dataName)})}getSeriesInName(t){return this.getSeries({name:t})[0]}getSeriesInUserId(t){return this.getSeries({userId:t})[0]}getSeriesInId(t){return this.getSeries({id:t})[0]}getSeriesInType(t){return this.getSeries({type:t})}getSeriesInCoordinateType(t){return this.getSeries({coordinateType:t})}getSeriesInDataName(t){return this.getSeries({dataName:t})}onRender(t){}initSeriesDataflow(){const t=this._series.map(e=>{var r;return(r=e.getViewDataFilter())!==null&&r!==void 0?r:e.getViewData()}).filter(e=>!!e);this._option.dataSet.multipleDataViewAddListener(t,"change",this.seriesDataFilterOver)}release(){super.release(),this._series=[]}createTrigger(){const t=Object.assign(Object.assign({},this._option),{model:this,interaction:this.interaction});this._trigger=new aV(t)}initTrigger(){this._series.forEach(t=>{t.getMarksWithoutRoot().forEach(e=>{this._trigger.registerMark(e)})}),this._trigger.init()}initInteraction(){this._option.disableTriggerEvent||this._series.forEach(t=>{t.getMarksWithoutRoot().forEach(e=>{for(const r in vl)Cr(e.stateStyle[vl[r]])||this.interaction.registerMark(vl[r],e)})})}compileMarks(t){this.getMarks().forEach(e=>{var r;e.compile({group:t}),(r=e.getProduct())===null||r===void 0||r.configure({context:{model:this}}).layout((i,s,o,a)=>{})})}compile(){var t;(t=this.animate)===null||t===void 0||t.compile(),this.compileMarks()}onLayoutEnd(t){this._series.forEach(e=>e.onLayoutEnd(t)),super.onLayoutEnd(t)}}Lo.type="region",Lo.transformerConstructor=zk,Lo.specKey="region";function of(n){const t=[],e=[],r=[];return n.forEach(i=>{z(i.getSpec().position)||i.getSpec().position==="start"?t.push(i):i.getSpec().position==="middle"?e.push(i):i.getSpec().position==="end"&&r.push(i)}),{startItems:t,endItems:r,middleItems:e}}function $k(n,t,e){t?n.forEach(r=>{const i=X1(r),s=i.getLayoutStartPoint().y+i.getLayoutRect().height-r[0].getLayoutStartPoint().y,o=(e-s)/2;r.forEach(a=>{a.setLayoutStartPosition({x:a.getLayoutStartPoint().x,y:a.getLayoutStartPoint().y+o})})}):n.forEach(r=>{const i=X1(r),s=i.getLayoutStartPoint().x+i.getLayoutRect().width-r[0].getLayoutStartPoint().x,o=(e-s)/2;r.forEach(a=>{a.setLayoutStartPosition({x:a.getLayoutStartPoint().x+o,y:a.getLayoutStartPoint().y})})})}function af(n,t,e,r){let i;n.forEach((s,o)=>{s.length>1&&(i=e[o],s.forEach(a=>{if(!a.alignSelf||a.alignSelf==="start")return;const l=a.getLayoutStartPoint(),u=a.alignSelf==="middle"?.5:1,c=t?i-(a.getLayoutRect().width+a.layoutPaddingLeft+a.layoutPaddingRight):i-(a.getLayoutRect().height+a.layoutPaddingTop+a.layoutPaddingBottom);t?a.setLayoutStartPosition({x:l.x+r*c*u,y:l.y}):a.setLayoutStartPosition({x:l.x,y:l.y+r*c*u})}))})}function Jh(n,t,e,r,i){if(n.length){let s=0;const o=i==="right",a=o?-1:1;let l=o?t.rightCurrent:t.leftCurrent,u=t.topCurrent;const c=[];let h=[];const d=[];n.forEach(f=>{const p=t.getItemComputeLayoutRect(f),g=f.computeBoundsInRect(p);f.setLayoutRect(g);const _=g.height+f.layoutPaddingTop+f.layoutPaddingBottom,m=g.width+f.layoutPaddingLeft+f.layoutPaddingRight,y=o?-g.width-f.layoutPaddingRight:f.layoutPaddingLeft;f.setLayoutStartPosition({x:l+f.layoutOffsetX+y,y:u+f.layoutOffsetY+f.layoutPaddingTop}),u+=_,u>e&&h.length?(d.push(s),l+=a*s,s=m,u=t.topCurrent+_,f.setLayoutStartPosition({x:l+f.layoutOffsetX+y,y:t.topCurrent+f.layoutOffsetY+f.layoutPaddingTop}),c.push(h),h=[f]):(s=Math.max(s,m),h.push(f))}),d.push(s),c.push(h),af(c,!0,d,a),r&&$k(c,!0,e),o?t.rightCurrent=l+a*s:t.leftCurrent=l+a*s}}function Gk(n,t,e,r){if(n.length){let i=0;const s=r==="right",o=s?-1:1;let a=s?t.rightCurrent:t.leftCurrent,l=t.bottomCurrent;const u=[];let c=[];const h=[];n.forEach(d=>{const f=t.getItemComputeLayoutRect(d),p=d.computeBoundsInRect(f);d.setLayoutRect(p);const g=p.height+d.layoutPaddingTop+d.layoutPaddingBottom,_=p.width+d.layoutPaddingLeft+d.layoutPaddingRight,m=s?-p.width-d.layoutPaddingRight:d.layoutPaddingLeft;l<g&&c.length?(h.push(i),a+=o*i,i=_,l=t.bottomCurrent,d.setLayoutStartPosition({x:a+d.layoutOffsetX+m,y:l+d.layoutOffsetY-p.height-d.layoutPaddingBottom}),u.push(c),c=[d]):(d.setLayoutStartPosition({x:a+d.layoutOffsetX+m,y:l+d.layoutOffsetY-p.height-d.layoutPaddingBottom}),i=Math.max(i,_),l-=g,c.push(d))}),h.push(i),u.push(c),af(u,!0,h,o),s?t.rightCurrent=a+o*i:t.leftCurrent=a+o*i}}function td(n,t,e,r,i){if(n.length){const s=i==="top",o=s?1:-1;let a=0,l=t.leftCurrent,u=s?t.topCurrent:t.bottomCurrent;const c=[];let h=[];const d=[];n.forEach(f=>{const p=t.getItemComputeLayoutRect(f),g=f.computeBoundsInRect(p);f.setLayoutRect(g);const _=g.height+f.layoutPaddingTop+f.layoutPaddingBottom,m=g.width+f.layoutPaddingLeft+f.layoutPaddingRight,y=s?f.layoutPaddingTop:-g.height-f.layoutPaddingBottom;f.setLayoutStartPosition({x:l+f.layoutOffsetX+f.layoutPaddingLeft,y:u+f.layoutOffsetY+y}),l+=m,l>e&&h.length?(d.push(a),l=t.leftCurrent+m,u+=o*a,a=_,f.setLayoutStartPosition({x:t.leftCurrent+f.layoutOffsetX+f.layoutPaddingLeft,y:u+f.layoutOffsetY+y}),c.push(h),h=[f]):(a=Math.max(a,_),h.push(f))}),d.push(a),c.push(h),af(c,!1,d,o),r&&$k(c,!1,e),s?t.topCurrent=u+o*a:t.bottomCurrent=u+o*a}}function Hk(n,t,e,r){if(n.length){const i=r==="top",s=i?1:-1;let o=0,a=t.rightCurrent,l=i?t.topCurrent:t.bottomCurrent;const u=[];let c=[];const h=[];n.forEach(d=>{const f=t.getItemComputeLayoutRect(d),p=d.computeBoundsInRect(f);d.setLayoutRect(p);const g=p.height+d.layoutPaddingTop+d.layoutPaddingBottom,_=p.width+d.layoutPaddingLeft+d.layoutPaddingRight,m=i?d.layoutPaddingTop:-p.height-d.layoutPaddingBottom;a<_&&c.length?(a=t.rightCurrent,l+=s*o,o=g,d.setLayoutStartPosition({x:t.rightCurrent+d.layoutOffsetX-p.width-d.layoutPaddingRight,y:l+d.layoutOffsetY+m}),u.push(c),c=[d]):(c.push(d),d.setLayoutStartPosition({x:a+d.layoutOffsetX-p.width-d.layoutPaddingRight,y:l+d.layoutOffsetY+m}),o=Math.max(o,g),a-=_)}),h.push(o),u.push(c),af(u,!1,h,s),i?t.topCurrent=l+s*o:t.bottomCurrent=l+s*o}}function _V(n,t,e){const{startItems:r,middleItems:i,endItems:s}=of(n);r.length&&Jh(r,t,e,!1,"left"),i.length&&Jh(i,t,e,!0,"left"),s.length&&Gk(s,t,e,"left")}function bV(n,t,e){const{startItems:r,middleItems:i,endItems:s}=of(n);r.length&&Jh(r,t,e,!1,"right"),i.length&&Jh(i,t,e,!0,"right"),s.length&&Gk(s,t,e,"right")}function wV(n,t,e){const{startItems:r,middleItems:i,endItems:s}=of(n);r.length&&td(r,t,e,!1,"top"),i.length&&td(i,t,e,!0,"top"),s.length&&Hk(s,t,e,"top")}function xV(n,t,e){const{startItems:r,middleItems:i,endItems:s}=of(n);r.length&&td(r,t,e,!1,"bottom"),i.length&&td(i,t,e,!0,"bottom"),s.length&&Hk(s,t,e,"bottom")}class Vk{constructor(t,e){this.leftCurrent=0,this.topCurrent=0,this.rightCurrent=0,this.bottomCurrent=0,this._onError=e==null?void 0:e.onError}_layoutInit(t,e,r,i){this._chartLayoutRect=r,this._chartViewBox=i,this.leftCurrent=r.x,this.topCurrent=r.y,this.rightCurrent=r.x+r.width,this.bottomCurrent=r.height+r.y,e.sort((s,o)=>o.layoutLevel-s.layoutLevel)}_layoutNormalItems(t){this.layoutNormalInlineItems(t.filter(e=>e.layoutType==="normal-inline")),this.layoutNormalItems(t.filter(e=>e.layoutType==="normal"))}_groupItems(t){const e=t.filter(a=>a.layoutType==="region"),r=t.filter(a=>a.layoutType==="region-relative"),i=t.filter(a=>a.layoutType==="region-relative-overlap"),s=r.concat(i),o={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}};return i.forEach(a=>{o[a.layoutOrient].items.push(a)}),{regionItems:e,relativeItems:r,relativeOverlapItems:i,allRelatives:s,overlapItems:o}}layoutItems(t,e,r,i){this._layoutInit(t,e,r,i),this._layoutNormalItems(e);const s={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},{regionItems:o,relativeItems:a,relativeOverlapItems:l,allRelatives:u,overlapItems:c}=this._groupItems(e);this.layoutRegionItems(o,a,l,c),this._processAutoIndent(o,a,l,c,u,s),this.layoutAbsoluteItems(e.filter(h=>h.layoutType==="absolute"))}_processAutoIndent(t,e,r,i={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},s,o){if(s.some(a=>a.autoIndent)){const{top:a,bottom:l,left:u,right:c}=this._checkAutoIndent(s,o);(a||l||u||c)&&(this.topCurrent=o.top+a,this.bottomCurrent=o.bottom-l,this.leftCurrent=o.left+u,this.rightCurrent=o.right-c,this.layoutRegionItems(t,e,r,i))}}layoutNormalItems(t){t.forEach(e=>{const r=this.getItemComputeLayoutRect(e),i=e.computeBoundsInRect(r);e.setLayoutRect(i),e.layoutOrient==="left"?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.leftCurrent+=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):e.layoutOrient==="top"?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.topCurrent+=i.height+e.layoutPaddingTop+e.layoutPaddingBottom):e.layoutOrient==="right"?(e.setLayoutStartPosition({x:this.rightCurrent+e.layoutOffsetX-i.width-e.layoutPaddingRight,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.rightCurrent-=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):e.layoutOrient==="bottom"&&(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingRight,y:this.bottomCurrent+e.layoutOffsetY-i.height-e.layoutPaddingBottom}),this.bottomCurrent-=i.height+e.layoutPaddingTop+e.layoutPaddingBottom)})}layoutNormalInlineItems(t){const e=t.filter(l=>l.layoutOrient==="left"),r=t.filter(l=>l.layoutOrient==="right"),i=t.filter(l=>l.layoutOrient==="top"),s=t.filter(l=>l.layoutOrient==="bottom"),o=this._chartLayoutRect.width+this._chartLayoutRect.x,a=this._chartLayoutRect.height+this._chartLayoutRect.y;e.length&&_V(e,this,a),i.length&&wV(i,this,o),r.length&&bV(r,this,a),s.length&&xV(s,this,o)}_layoutRelativeOverlap(t,e){e.items.forEach(r=>{const i=this.getItemComputeLayoutRect(r),s=r.computeBoundsInRect(i);e.rect.width=Math.max(s.width+r.layoutPaddingLeft+r.layoutPaddingRight,e.rect.width),e.rect.height=Math.max(s.height+r.layoutPaddingTop+r.layoutPaddingBottom,e.rect.height)}),e.items.forEach(r=>{r.setLayoutRect(e.rect),t==="left"?r.setLayoutStartPosition({x:this.leftCurrent+r.layoutOffsetX}):t==="right"?r.setLayoutStartPosition({x:this.rightCurrent-e.rect.width+r.layoutOffsetX}):t==="top"?r.setLayoutStartPosition({x:this.topCurrent+r.layoutOffsetY}):r.setLayoutStartPosition({x:this.bottomCurrent-e.rect.height+r.layoutOffsetY})}),t==="left"?this.leftCurrent+=e.rect.width:t==="right"?this.rightCurrent-=e.rect.width:t==="top"?this.topCurrent+=e.rect.height:this.bottomCurrent-=e.rect.height}_layoutRelativeItem(t,e){const r=t.computeBoundsInRect(e);t.layoutOrient==="left"||t.layoutOrient==="right"?t.setLayoutRect({width:r.width}):t.setLayoutRect({height:r.height}),t.layoutOrient==="left"?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft}),this.leftCurrent+=r.width+t.layoutPaddingLeft+t.layoutPaddingRight):t.layoutOrient==="right"?(this.rightCurrent-=r.width+t.layoutPaddingLeft+t.layoutPaddingRight,t.setLayoutStartPosition({x:this.rightCurrent+t.layoutOffsetX+t.layoutPaddingLeft})):t.layoutOrient==="top"?(t.setLayoutStartPosition({y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.topCurrent+=r.height+t.layoutPaddingTop+t.layoutPaddingBottom):t.layoutOrient==="bottom"&&(this.bottomCurrent-=r.height+t.layoutPaddingTop+t.layoutPaddingBottom,t.setLayoutStartPosition({y:this.bottomCurrent+t.layoutOffsetY+t.layoutPaddingTop}))}_layoutRegionItem(t,e,r){const i=Math.max(Math.min(e,...t.map(o=>{var a;return(a=o.maxWidth)!==null&&a!==void 0?a:Number.MAX_VALUE})),0),s=Math.max(Math.min(r,...t.map(o=>{var a;return(a=o.maxHeight)!==null&&a!==void 0?a:Number.MAX_VALUE})),0);return t.forEach(o=>{o.setLayoutRect({width:i,height:s}),o.setLayoutStartPosition({x:this.leftCurrent+o.layoutOffsetX+o.layoutPaddingLeft,y:this.topCurrent+o.layoutOffsetY+o.layoutPaddingTop})}),{regionHeight:s,regionWidth:i}}layoutRegionItems(t,e,r,i={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}}){let s=this.rightCurrent-this.leftCurrent,o=this.bottomCurrent-this.topCurrent;e.filter(u=>u.layoutOrient==="left"||u.layoutOrient==="right").forEach(u=>{this._layoutRelativeItem(u,this.getItemComputeLayoutRect(u))}),this._layoutRelativeOverlap("left",i.left),this._layoutRelativeOverlap("right",i.right),s=this.rightCurrent-this.leftCurrent,e.filter(u=>u.layoutOrient==="top"||u.layoutOrient==="bottom").forEach(u=>{this._layoutRelativeItem(u,this.getItemComputeLayoutRect(u))}),this._layoutRelativeOverlap("top",i.top),this._layoutRelativeOverlap("bottom",i.bottom),o=this.bottomCurrent-this.topCurrent;const{regionWidth:a,regionHeight:l}=this._layoutRegionItem(t,s,o);e.concat(r).forEach(u=>{if(["left","right"].includes(u.layoutOrient)){const c=this.filterRegionsWithID(t,u.layoutBindRegionID[0]);u.setLayoutRect({height:c.getLayoutRect().height}),u.setLayoutStartPosition({y:c.getLayoutStartPoint().y+u.layoutOffsetY+u.layoutPaddingTop}),u.layoutOrient==="right"&&u.setLayoutStartPosition({x:u.getLayoutStartPoint().x+a-s})}else if(["top","bottom"].includes(u.layoutOrient)){const c=this.filterRegionsWithID(t,u.layoutBindRegionID[0]);u.setLayoutRect({width:c.getLayoutRect().width}),u.setLayoutStartPosition({x:c.getLayoutStartPoint().x+u.layoutOffsetX+u.layoutPaddingLeft}),u.layoutOrient==="bottom"&&u.setLayoutStartPosition({y:u.getLayoutStartPoint().y+l-o})}})}layoutAbsoluteItems(t){t.forEach(e=>{e.absoluteLayoutInRect(this._chartLayoutRect)})}filterRegionsWithID(t,e){var r;const i=t.find(s=>s.getModelId()===e);return i||((r=this._onError)!==null&&r!==void 0?r:Zo)("can not find target region item, invalid id"),i}getItemComputeLayoutRect(t){return{width:this.rightCurrent-this.leftCurrent-t.layoutPaddingLeft-t.layoutPaddingRight,height:this.bottomCurrent-this.topCurrent-t.layoutPaddingTop-t.layoutPaddingBottom}}_checkAutoIndent(t,e){const r={top:0,left:0,bottom:0,right:0};return t.forEach(i=>{if(!i.getModelVisible()||!i.autoIndent)return;const s=i.layoutOrient==="left"||i.layoutOrient==="right",o=i.getLastComputeOutBounds(),a=this._getOutInLayout(o,i,e);s?(r.top=Math.max(r.top,a.top),r.bottom=Math.max(r.bottom,a.bottom)):(r.left=Math.max(r.left,a.left),r.right=Math.max(r.right,a.right))}),r}_getOutInLayout(t,e,r){const{x:i,y:s}=e.getLayoutStartPoint(),{width:o,height:a}=e.getLayoutRect();return{left:r.left-(i-t.x1),right:i+o+t.x2-r.right,top:r.top-(s-t.y1),bottom:s+a+t.y2-r.bottom}}}Vk.type="base";const CV=["line","area","trail"];function Dp(n){return CV.includes(n)}class SV extends Nk{getStateInfoList(){return this._stateInfoList}constructor(t,e){super(t),this._stateInfoList=[],this._mark=e}_getDefaultStateMap(){return{markUpdateRank:1}}getStateInfo(t){return this._stateInfoList.find(e=>e.stateValue===t)}addStateInfo(t){if(this.getStateInfo(t.stateValue))return;t.level=t.level||0;let e=!0;for(let r=0;r<this._stateInfoList.length;r++){const i=this._stateInfoList[r].level;if(i&&i>t.level){this._stateInfoList.splice(r,0,t),e=!1;break}}e&&this._stateInfoList.push(t)}_clearStateBeforeSet(t){t.datums=null,t.items=null,t.fields=null,t.filter=null}changeStateInfo(t){const e=this.getStateInfo(t.stateValue);if(e){if(t.datums!==void 0&&(this._clearStateBeforeSet(e),e.datums=t.datums,e.datumKeys=t.datumKeys),t.items!==void 0&&(this._clearStateBeforeSet(e),e.items=t.items),t.fields!==void 0)if(this._clearStateBeforeSet(e),t.fields===null)e.fields=t.fields;else{e.fields=e.fields||{};for(const r in t.fields){const i=t.fields[r];e.fields[r]=e.fields[r]||{};const s=e.fields[r];q(i.domain)&&(s.domain=i.domain),q(i.type)&&(s.type=i.type)}}t.filter&&(this._clearStateBeforeSet(e),e.filter=t.filter)}else this.addStateInfo(t)}clearStateInfo(t){t.forEach(e=>{this.getStateInfo(e)&&this.changeStateInfo({stateValue:e,datumKeys:null,datums:null,fields:null,items:null,filter:null,cache:{}})})}checkOneState(t,e,r,i){var s;i=Ar(Dp)?i:!t.mark||Dp(t.mark.markType);let o=!1,a=!1;if(q(r.datums)&&r.datums.length>0)o=this.checkDatumState(r,e,i),a=!0;else if(r.items)o=(s=this.checkItemsState(r,t))!==null&&s!==void 0&&s,a=!0;else if(r.fields)o=this.checkFieldsState(r,e,t,i),a=!0;else if(!o&&r.filter){const l={mark:this._mark,renderNode:t,type:t.mark.markType};o=r.filter(e,l),a=!0}return a?o?"in":"out":"skip"}checkState(t,e){const r=t.getStates().filter(s=>cV(s)).map(s=>[s,10]),i=!t.mark||Dp(t.mark.markType);for(let s=0;s<this._stateInfoList.length;s++){const o=this._stateInfoList[s],a=this.checkOneState(t,e,o,i);a!=="skip"&&a==="in"&&r.push([o.stateValue,o.level])}return r.map(s=>s[0])}checkDatumState(t,e,r){let i=!1;const s=r?e[0]:e;if(ft(t.datums)){const o=t.datumKeys||Object.keys(t.datums[0]).filter(a=>!a.startsWith(Jo));i=t.datums.some(a=>r&&ft(a==null?void 0:a.items)?o.every(l=>{var u,c;return((c=(u=a==null?void 0:a.items)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c[l])===(s==null?void 0:s[l])}):o.every(l=>(a==null?void 0:a[l])===(s==null?void 0:s[l])))}else zt(t.datums)?i=(t.datumKeys||Object.keys(t.datums).filter(o=>!o.startsWith(Jo))).every(o=>{var a,l;return r?((a=t.datums.items)===null||a===void 0?void 0:a[0][o])===s[o]:((l=t.datums)===null||l===void 0?void 0:l[o])===s[o]}):i=e===t.datums;return i}checkItemsState(t,e){var r;return(r=t.items)===null||r===void 0?void 0:r.includes(e)}checkFieldsState(t,e,r,i){var s;let o=!0;for(const a in t.fields){const l=t.fields[a],u=l.type,c=l.domain,h=i?(s=e[0])===null||s===void 0?void 0:s[a]:e[a];if(W5(u)&&c.length>1){if(this.checkLinearFieldState(c,a,e,r,i)){o=!1;break}o=!0}else{if(!c.some(d=>d===h)){o=!1;break}o=!0}}return o}checkLinearFieldState(t,e,r,i,s){var o;const a=s?(o=r[0])===null||o===void 0?void 0:o[e]:r[e];return a<t[0]||a>t[t.length-1]}updateLayoutState(t){return this._stateMap.markUpdateRank++,this.updateState({markUpdateRank:this._stateMap.markUpdateRank},t)}compileState(t,e){t.state({callback:(r,i)=>this.checkState(i,r)},e)}}class EV extends o0{getDataView(){return this._data}setDataView(t){this._data=t}getLatestData(){var t;return(t=this._data)===null||t===void 0?void 0:t.latestData}constructor(t,e){super(t),this.grammarType=Di.data,this._data=null,this._data=e}release(){super.release(),this._data=null}updateData(t){const e=this.getProduct(),r=this.getLatestData();if(e&&r&&(e.values(r),!t))return this.getCompiler().renderNextTick()}_compileProduct(){const t=this.getLatestData();z(t)||(z(this.getProduct())?this._initProduct(t):this._product.values(t))}_initProduct(t){var e,r;const i=this.getVGrammarView();if(!i||!t)return;const s=this.getProductId();this._product=(r=(e=i==null?void 0:i.data)===null||e===void 0?void 0:e.call(i,t))===null||r===void 0?void 0:r.id(s),this._compiledProductId=s}generateProductId(){var t;return`${(t=this.getDataView())===null||t===void 0?void 0:t.name}`}_lookupGrammar(t){var e,r;return(r=(e=this.getCompiler().getVGrammarView())===null||e===void 0?void 0:e.getDataById)===null||r===void 0?void 0:r.call(e,t)}}class OV extends EV{constructor(t){super(t),this._mark=t.mark}setCompiledProductId(t){this._compiledProductId=t}generateProductId(){const t=super.generateProductId();return q(t)?t:`${Jo}_markData_${this._mark.id}`}_compileProduct(){var t;const e=(t=this._data)===null||t===void 0?void 0:t.latestData;z(e)||q(this.getProduct())||this._initProduct(e)}}var ux=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class kV extends o0{getSkipTheme(){return this._skipTheme}setSkipTheme(t){this._skipTheme=t}getSupport3d(){return this._support3d}setSupport3d(t){this._support3d=t}getFacet(){return this._facet}setFacet(t){this._facet=t}getInteractive(){return this._interactive}setInteractive(t){this._interactive=t}getZIndex(){return this._zIndex}setZIndex(t){this._zIndex=t}getVisible(){return this._visible}setVisible(t){this._visible=t}getUserId(){return this._userId}setUserId(t){q(t)&&(this._userId=t)}getDataView(){var t;return(t=this._data)===null||t===void 0?void 0:t.getDataView()}setDataView(t,e){z(this._data)&&this.initMarkData(Object.assign(Object.assign({},this._option),{mark:this})),q(e)&&this._data.setCompiledProductId(e),this._data.setDataView(t)}getData(){return this._data}setData(t){this._data=t}hasState(t){return t in this.state.getStateMap()}getState(t){return this.state.getStateMap()[t]}getAnimationConfig(){return this._animationConfig}setAnimationConfig(t){this._animationConfig=t}setSkipBeforeLayouted(t){this._skipBeforeLayouted=t}getSkipBeforeLayouted(){return this._skipBeforeLayouted}getMorph(){return this._morph}setMorph(t){this._morph=t}getMorphKey(){return this._morphKey}setMorphKey(t){this._morphKey=t}getMorphElementKey(){return this._morphElementKey}setMorphElementKey(t){this._morphElementKey=t}getGroupKey(){return this._groupKey}setGroupKey(t){this._groupKey=t}getProgressiveConfig(){return this._progressiveConfig}setProgressiveConfig(t){this._progressiveConfig=t}setCustomizedShapeCallback(t){this._setCustomizedShape=t}setEnableSegments(t){this._enableSegments=t}getClip(){return this._clip}setClip(t){this._clip=t}setStateSortCallback(t){this._stateSort=t}constructor(t,e,r){super(t),this.grammarType=Di.mark,this.type=void 0,this.name="mark",this._interactive=!0,this._zIndex=Bo.Mark,this._visible=!0,this.stateStyle={},this._unCompileChannel={},this._skipBeforeLayouted=!1,this._morph=!1,this.name=e,this.model=r,this.key=t.key,this.state=new SV(Object.assign(Object.assign({},t),{stateKeyToSignalName:this.stateKeyToSignalName.bind(this)}),this),this._option.support3d&&this.setSupport3d(!0),this._option.skipTheme&&this.setSkipTheme(!0),this._event=new i0(r.getOption().eventDispatcher,r.getOption().mode)}setTransform(t){this._transform=t}initMarkData(t){this._data=new OV(t)}stateKeyToSignalName(t){return`${Jo}_${this.type}_${this.id}_${t}`}getAttribute(t,e,r,i){}_compileProduct(t){const e=this.getProduct();if(!this.getVisible())return void(q(e)&&this.removeProduct());q(e)||this.getCompiler().isInited&&(this._initProduct(t==null?void 0:t.group),z(this._product)||(this.compileSignal(),this.compileData(),this.compileState(),this.compileEncode(),this.compileAnimation(),this.compileContext(),this.compileTransform()))}_initProduct(t){const e=this.getVGrammarView(),r=this.getProductId();this._product=e.mark(this.type,t??e.rootMark).id(r),this._compiledProductId=r}generateProductId(){return this._userId?`${this._userId}`:`${this.name}_${this.id}`}compileData(){var t;if(z(this._data))return;this._data.compile();const e=this._data.getProduct();q(this._product)&&q(e)&&this._product.join(e,this.key,void 0,(t=this._groupKey)!==null&&t!==void 0?t:this._facet)}updateStaticEncode(){if(!this._product)return;const{enterStyles:t,updateStyles:e}=this._separateStyle();this._product.encodeState("group",t,!0),this._product.encode(e,!0)}_separateStyle(){const t=this.stateStyle,e=we.STATE_NORMAL,r=t[e],i=(ux(t,[typeof e=="symbol"?e:e+""]),this._option.noSeparateStyle?null:{}),s={};return Object.keys(r).forEach(o=>{this._unCompileChannel[o]||(this._option.noSeparateStyle||lV(o,r,this.getFacet())?s[o]={callback:this.compileCommonAttributeCallback(o,"normal"),dependency:[this.stateKeyToSignalName("markUpdateRank")]}:i[o]=this.compileCommonAttributeCallback(o,"normal"))}),{enterStyles:i,updateStyles:s}}compileEncode(){const t=this.stateStyle,e=we.STATE_NORMAL,r=(t[e],ux(t,[typeof e=="symbol"?e:e+""])),{enterStyles:i,updateStyles:s}=this._separateStyle();this._product.encode(s,!0),this._product.encodeState("group",i,!0),Object.keys(r).forEach(o=>{const a={};Object.keys(r[o]).forEach(l=>{this._unCompileChannel[l]||(a[l]={callback:this.compileCommonAttributeCallback(l,o),dependency:[this.stateKeyToSignalName("markUpdateRank")]})}),this._product.encodeState(o,a,!0)}),this._skipBeforeLayouted&&this._product.layout({skipBeforeLayouted:this._skipBeforeLayouted})}compileState(){this.state.compileState(this._product,this._stateSort)}compileAnimation(){var t,e,r,i;if(this._animationConfig){let s;if(this.type==="component")s=(t=this.model.animate)===null||t===void 0?void 0:t.getAnimationStateSignalName();else{const o=(r=(e=this.model).getRegion)===null||r===void 0?void 0:r.call(e);s=(i=o==null?void 0:o.animate)===null||i===void 0?void 0:i.getAnimationStateSignalName()}this._product.animation(this._animationConfig),this._product.animationState({callback:(o,a,l)=>{var u;return(u=l[s])===null||u===void 0?void 0:u.callback(o,a)},dependency:s}),this._animationConfig.normal&&this._event.on(it.ANIMATION_END,({event:o})=>{o.mark===this.getProduct()&&o.animationState===Yn.appear&&this.runAnimationByState(Yn.normal)})}}compileContext(){const t={interactive:this.getInteractive(),zIndex:this.getZIndex(),context:{markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId},skipTheme:this.getSkipTheme(),support3d:this.getSupport3d(),enableSegments:!!this._enableSegments,clip:!!this._clip||this._clip!==!1&&void 0,clipPath:this._clip||void 0};this._progressiveConfig&&(t.progressiveStep=this._progressiveConfig.progressiveStep,t.progressiveThreshold=this._progressiveConfig.progressiveThreshold,t.large=this._progressiveConfig.large,t.largeThreshold=this._progressiveConfig.largeThreshold),this._morph&&this._morphKey&&(t.morph=this._morph,t.morphKey=this._morphKey,t.morphElementKey=this._morphElementKey),this._setCustomizedShape&&(t.setCustomizedShape=this._setCustomizedShape),this._product.configure(t)}compileSignal(){this.state.compile()}_computeAttribute(t,e){return(r,i)=>{}}compileCommonAttributeCallback(t,e){const r=this._computeAttribute(t,e),i={mark:null,parent:null,element:null};return(s,o)=>(i.mark=o.mark,i.parent=o.mark.group,i.element=o,r(s,i))}compileTransform(){var t;!((t=this._transform)===null||t===void 0)&&t.length&&this.getProduct().transform(this._transform)}_lookupGrammar(t){var e;return(e=this.getCompiler().getVGrammarView())===null||e===void 0?void 0:e.getMarkById(t)}updateState(t,e){return this.state.updateState(t,e)}updateLayoutState(t,e){return e&&this.getMarks().length>0&&this.getMarks().forEach(r=>r.state.updateLayoutState(!0)),this.state.updateLayoutState(t)}updateMarkState(t){if(!this._product)return;const e=this.state.getStateInfo(t);this._product.elements.forEach(r=>{this.state.checkOneState(r,r.getDatum(),e)==="in"?r.addState(t):r.removeState(t)})}getMarks(){return[]}runAnimationByState(t){var e,r;return(r=(e=this.getProduct())===null||e===void 0?void 0:e.animate)===null||r===void 0?void 0:r.runAnimationByState(t)}stopAnimationByState(t){var e,r;return(r=(e=this.getProduct())===null||e===void 0?void 0:e.animate)===null||r===void 0?void 0:r.stopAnimationByState(t)}pauseAnimationByState(t){var e,r;return(r=(e=this.getProduct())===null||e===void 0?void 0:e.animate)===null||r===void 0?void 0:r.pauseAnimationByState(t)}resumeAnimationByState(t){var e,r;return(r=(e=this.getProduct())===null||e===void 0?void 0:e.animate)===null||r===void 0?void 0:r.resumeAnimationByState(t)}getProductElements(){const t=this.getProduct();if(t)return t.elements}release(){super.release(),this.state.release()}}var cx=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class TV extends kV{constructor(t,e){var r;super(e,t,e.model),this._extensionChannel={},this._computeExChannel={},this._attributeContext=e.attributeContext,(r=e.map)===null||r===void 0||r.set(this.id,this)}created(){this._initStyle()}initStyleWithSpec(t,e){t&&(q(t.id)&&(this._userId=t.id),Ar(t.interactive)&&(this._interactive=t.interactive),q(t.zIndex)&&this.setZIndex(t.zIndex),Ar(t.visible)&&this.setVisible(t.visible),this._initSpecStyle(t,this.stateStyle,e))}_transformStyleValue(t,e){if(t.scale){const r=t.scale,i=r.range();return r.range(i.map(e)),t}return typeof t=="function"?(...r)=>e(t(...r)):e(t)}convertAngleToRadian(t){return this._transformStyleValue(t,LE)}isUserLevel(t){return[pn.User_Mark,pn.User_Series,pn.User_Chart].includes(t)}setStyle(t,e="normal",r=0,i=this.stateStyle){if(z(t))return;i[e]===void 0&&(i[e]={});const s=this.isUserLevel(r);Object.keys(t).forEach(o=>{let a=t[o];z(a)||(a=this._filterAttribute(o,a,e,r,s,i),this.setAttribute(o,a,e,r,i))})}getStyle(t,e="normal"){var r;return(r=this.stateStyle[e][t])===null||r===void 0?void 0:r.style}_filterAttribute(t,e,r,i,s,o=this.stateStyle){let a=this._styleConvert(e);if(s)switch(t){case"angle":a=this.convertAngleToRadian(a);break;case"innerPadding":case"outerPadding":a=this._transformStyleValue(a,l=>-l)}return a}setReferer(t,e,r,i=this.stateStyle){var s;if(t)if(e&&r){const o=(s=i[r])!==null&&s!==void 0?s:{[e]:{}};i[r][e]=Object.assign(Object.assign({},o[e]),{referer:t})}else Object.entries(i).forEach(([o,a])=>{Object.entries(a).forEach(([l,u])=>{i[o][l].referer=t})})}setPostProcess(t,e,r="normal"){var i;!((i=this.stateStyle[r])===null||i===void 0)&&i[t]&&(this.stateStyle[r][t].postProcess=e)}getAttribute(t,e,r="normal",i){return this._computeAttribute(t,r)(e,i)}setAttribute(t,e,r="normal",i=0,s=this.stateStyle){var o;s[r]===void 0&&(s[r]={}),s[r][t]===void 0&&(s[r][t]={level:i,style:e,referer:void 0});const a=(o=s[r][t])===null||o===void 0?void 0:o.level;q(a)&&a<=i&&Er(s[r][t],{style:e,level:i}),r!=="normal"&&t in this._extensionChannel&&this._extensionChannel[t].forEach(l=>{s[r][l]===void 0&&(s[r][l]=s.normal[l])})}_getDefaultStyle(){return{visible:!0,x:0,y:0}}_styleConvert(t){if(!t)return t;if(sw(t.type)||t.scale){const e=p6(t,{globalScale:this._option.globalScale,seriesId:this._option.seriesId});if(e)return{scale:e,field:t.field,changeDomain:t.changeDomain}}return t}_computeAttribute(t,e){var r;let i=(r=this.stateStyle[e])===null||r===void 0?void 0:r[t];i||(i=this.stateStyle.normal[t]);const s=this._computeStateAttribute(i,t,e),o=bt(i==null?void 0:i.postProcess),a=t in this._computeExChannel;if(o&&a){const l=this._computeExChannel[t];return(u,c)=>{let h=s(u,c);return h=i.postProcess(h,u,this._attributeContext,c,this.getDataView()),l(t,u,e,c,h)}}if(o)return(l,u)=>i.postProcess(s(l,u),l,this._attributeContext,u,this.getDataView());if(a){const l=this._computeExChannel[t];return(u,c)=>l(t,u,e,c,s(u,c))}return s}_computeStateAttribute(t,e,r){var i;return t?t.referer?t.referer._computeAttribute(e,r):t.style?typeof t.style=="function"?(s,o)=>t.style(s,this._attributeContext,o,this.getDataView()):Uw.includes(t.style.gradient)?this._computeGradientAttr(t.style):["outerBorder","innerBorder"].includes(e)?this._computeBorderAttr(t.style):sw((i=t.style.scale)===null||i===void 0?void 0:i.type)?(s,o)=>t.style.scale.scale(s[t.style.field]):(s,o)=>t.style:(s,o)=>t.style:(s,o)=>{}}_initStyle(){const t=this._getDefaultStyle();this.setStyle(t,"normal",0)}_initSpecStyle(t,e,r){t.style&&this.setStyle(t.style,"normal",pn.User_Mark,e);const i=t.state;i&&Object.keys(i).forEach(s=>{const o=i[s];if("style"in o){const a=o.style;let l={stateValue:s};"level"in o&&(l.level=o.level),"filter"in o&&(l=bt(o.filter)?Object.assign({filter:o.filter},l):Object.assign(Object.assign({},o.filter),l)),this.state.addStateInfo(l),this.setStyle(a,s,pn.User_Mark,e)}else this.setStyle(o,s,pn.User_Mark,e)})}_computeGradientAttr(t){var e,r;const{gradient:i,scale:s,field:o}=t,a=cx(t,["gradient","scale","field"]);let l=s,u=o;if(!(s&&o||this.model.modelType!=="series")){const{scale:d,field:f}=this.model.getColorAttribute();s||(l=d),u||(u=f)}const c=Wm(Xw(this.model.getColorScheme(),this.model.modelType==="series"?(r=(e=this.model).getSpec)===null||r===void 0?void 0:r.call(e):void 0),this.model.getDefaultColorDomain()),h=Object.assign(Object.assign({},MG[i]),a);return(d,f)=>{const p={},g=this.getDataView();return Object.keys(h).forEach(_=>{const m=h[_];_==="stops"?p.stops=m.map(y=>{const{opacity:v,color:b,offset:x}=y;let w=b??(l==null?void 0:l.scale(d[u]));return bt(b)&&(w=b(d,this._attributeContext,f,g)),q(v)&&(w=Qe.SetOpacity(w,v)),{offset:bt(x)?x(d,this._attributeContext,f,g):x,color:w||c[0]}}):bt(m)?p[_]=m(d,this._attributeContext,f,g):p[_]=m}),p.gradient=i,p}}_computeBorderAttr(t){const{scale:e,field:r}=t,i=cx(t,["scale","field"]);return(s,o)=>{var a,l,u;const c={};if(Object.keys(i).forEach(h=>{const d=i[h];bt(d)?c[h]=d(s,this._attributeContext,o,this.getDataView()):c[h]=d}),"stroke"in c)Uw.includes((u=i.stroke)===null||u===void 0?void 0:u.gradient)&&(c.stroke=this._computeGradientAttr(i.stroke)(s,o));else{const h=Wm(Xw(this.model.getColorScheme(),this.model.modelType==="series"?(l=(a=this.model).getSpec)===null||l===void 0?void 0:l.call(a):void 0),this.model.getDefaultColorDomain());let d=e,f=r;if(!(e&&r||this.model.modelType!=="series")){const{scale:p,field:g}=this.model.getColorAttribute();e||(d=p),f||(f=g),c.stroke=(d==null?void 0:d.scale(s[f]))||h[0]}}return c}}}class Kl extends TV{constructor(){super(...arguments),this.type=Kl.type,this._marks=[]}getMarks(){return this._marks}_getDefaultStyle(){return Object.assign({},super._getDefaultStyle())}isMarkExist(t){return this._marks.find(e=>e.id===t.id||e.name===t.name)!==void 0}addMark(t){return this.isMarkExist(t)?(qo("Mark already exists, add mark failed."),!1):(this._marks.push(t),!0)}removeMark(t){const e=this._marks.findIndex(r=>r.id===t.id||r.name===t.name);return e===-1?(qo("Mark does not exists, removeMark failed."),!1):(this._marks.splice(e,1),!0)}getMarkInType(t){return this._marks.filter(e=>e.type===t)}getMarkInId(t){return this._marks.find(e=>e.id===t)}getMarkInName(t){return this._marks.find(e=>e.name===t)}_compileProduct(t){super._compileProduct(t),this._product.configure({zIndex:this.getZIndex()}),t!=null&&t.ignoreChildren||this.getMarks().forEach(e=>{e.getProduct()&&e.removeProduct(),e.compile({group:this._product})})}}Kl.type="group";const AV=()=>{nG(),st.registerMark(Kl.type,Kl)},MV=()=>{Qy.useRegisters([wG,xG,vG,yG,_G,bG,CG,SG,EG])},PV={measureText:DH};class On{static instance(){return On.instance_||(On.instance_=new On),On.instance_}constructor(){this.functions={}}registerFunction(t,e){t&&e&&(this.functions[t]=e)}unregisterFunction(t){t&&delete this.functions[t]}getFunction(t){return this.functions[t]||null}getFunctionNameList(){return Object.keys(this.functions)}}const IV=()=>{jh(Ft)},RV=()=>{zh(Ft)};class DV{constructor(){this.id=fu(),this._plugins=[]}add(t){if(!t||t.length===0)return null;const e=[];return t.forEach(r=>{this._plugins.find(i=>i.id===r.id)?qo("plugin"):(this._plugins.push(r),e.push(r),r.onAdd&&r.onAdd(this))}),e}load(t){const e=this.add(t);e&&e.length&&this.activate(t)}activate(t){t.length&&t.forEach(e=>{e.init&&e.init()})}get(t){return this._plugins.find(e=>e.id===t)}getAll(){return this._plugins.slice()}release(t){const e=this.get(t);e&&(e.release(this),this._plugins=this._plugins.filter(r=>r!==e))}releaseAll(){this._plugins.forEach(t=>{t.release(this)}),this._plugins=[]}clear(t){const e=this.get(t);e&&e.clear(this)}clearAll(){this._plugins.forEach(t=>{var e;(e=t.clear)===null||e===void 0||e.call(t,this)})}}class BV extends DV{constructor(t){super(),this.globalInstance=t}onInit(t){this._plugins.forEach(e=>{e.onInit&&e.onInit(this,t)})}onBeforeResize(t,e){this._plugins.forEach(r=>{r.onBeforeResize&&r.onBeforeResize(this,t,e)})}onAfterChartSpecTransform(t,e){this._plugins.forEach(r=>{r.onAfterChartSpecTransform&&r.onAfterChartSpecTransform(this,t,e)})}onBeforeInitChart(t,e){this._plugins.forEach(r=>{r.onBeforeInitChart&&r.onBeforeInitChart(this,t,e)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}var nr=function(n,t,e,r){return new(e||(e=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(h){h(c)})).then(o,a)}l((r=r.apply(n,t||[])).next())})},LV=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e};class xr{static useRegisters(t){t.forEach(e=>{typeof e=="function"?e():console.error("Invalid function:",e)})}static useChart(t){t.forEach(e=>st.registerChart(e.type,e))}static useSeries(t){t.forEach(e=>st.registerSeries(e.type,e))}static useComponent(t){t.forEach(e=>st.registerComponent(e.type,e))}static useMark(t){t.forEach(e=>{var r;return st.registerMark((r=e.constructorType)!==null&&r!==void 0?r:e.type,e)})}static useLayout(t){t.forEach(e=>st.registerLayout(e.type,e))}static registerDataSetTransform(t,e){st.registerTransform(t,e)}static registerFunction(t,e){t&&e&&On.instance().registerFunction(t,e)}static unregisterFunction(t){t&&On.instance().unregisterFunction(t)}static getFunction(t){return t?On.instance().getFunction(t):null}static getFunctionList(){return On.instance().getFunctionNameList()}static registerMap(t,e,r){const i=st.getImplementInKey("registerMap");i&&i(t,e,r)}static unregisterMap(t){const e=st.getImplementInKey("unregisterMap");e&&e(t)}static getMap(t){return KH(t)}static hideTooltip(t=[]){Xn.forEach(e=>{var r;return(r=e==null?void 0:e.hideTooltip)===null||r===void 0?void 0:r.call(e)},t)}static getLogger(){return xt.getInstance()}getSpec(){return this._spec}getSpecInfo(){return this._specInfo}getDataSet(){return this._dataSet}constructor(t,e){var r,i,s,o,a,l,u;this.id=fu(),this._userEvents=[],this._autoSize=!0,this._option={mode:Gn["desktop-browser"],onError:y=>{throw new Error(y)},optimize:{disableCheckGraphicWidthOutRange:!0}},this._observer=null,this._context={},this._onResize=su((...y)=>{this._doResize()},100),this._option=Mr(this._option,{animation:t.animation!==!1},e),this._onError=(r=this._option)===null||r===void 0?void 0:r.onError;const c=this._option,{dom:h,renderCanvas:d,mode:f,stage:p,poptip:g}=c,_=LV(c,["dom","renderCanvas","mode","stage","poptip"]),m=fl(f);m&&h&&(this._container=dt(h)?document==null?void 0:document.getElementById(h):h),d&&(this._canvas=d),p&&(this._stage=p),f==="node"||this._container||this._canvas||this._stage?(m?IV():f==="node"&&RV(),this._viewBox=this._option.viewBox,this._currentThemeName=on.getCurrentThemeName(),this._setNewSpec(t),this._updateCurrentTheme(),this._currentSize=this.getCurrentSize(),this._compiler=new tV({dom:(s=this._container)!==null&&s!==void 0?s:"none",canvas:d},Object.assign(Object.assign({mode:this._option.mode,stage:p,pluginList:g!==!1?["poptipForText"]:[]},_),{background:this._getBackground(),onError:this._onError})),this._compiler.setSize(this._currentSize.width,this._currentSize.height),this._eventDispatcher=new YH(this,this._compiler),this._event=new i0(this._eventDispatcher,f),this._compiler.initView(),(o=this.getStage())===null||o===void 0||o.setTheme({text:{fontFamily:(a=this._currentTheme)===null||a===void 0?void 0:a.fontFamily}}),this._initDataSet(this._option.dataSet),this._autoSize=!!m&&((u=(l=t.autoFit)!==null&&l!==void 0?l:this._option.autoFit)===null||u===void 0||u),this._bindResizeEvent(),this._bindVGrammarViewEvent(),this._initChartPlugin(),Xn.registerInstance(this)):(i=this._option)===null||i===void 0||i.onError("please specify container or renderCanvas!")}_setNewSpec(t,e){return!!t&&(dt(t)&&(t=JSON.parse(t)),e&&this._originalSpec&&(t=Er({},this._originalSpec,t)),this._originalSpec=t,this._spec=this._getSpecFromOriginalSpec(),!0)}_getSpecFromOriginalSpec(){var t;const e=Zm(this._originalSpec);return e.data=(t=e.data)!==null&&t!==void 0?t:[],e}_initChartSpec(t,e){var r;xr.getFunctionList()&&xr.getFunctionList().length&&(t=Qm(t,xr)),this._spec=t,this._chartSpecTransformer||(this._chartSpecTransformer=st.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),this._chartSpecTransformer.transformSpec(this._spec),this._chartPluginApply("onAfterChartSpecTransform",this._spec,e),this._specInfo=(r=this._chartSpecTransformer)===null||r===void 0?void 0:r.transformModelSpec(this._spec),this._chartPluginApply("onAfterModelSpecTransform",this._spec,this._specInfo,e)}_updateSpecInfo(){var t;this._chartSpecTransformer||(this._chartSpecTransformer=st.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),this._specInfo=(t=this._chartSpecTransformer)===null||t===void 0?void 0:t.createSpecInfo(this._spec)}_initChart(t){var e,r,i;if(!this._compiler)return void((e=this._option)===null||e===void 0||e.onError("compiler is not initialized"));if(this._chart)return void((r=this._option)===null||r===void 0||r.onError("chart is already initialized"));const s=st.createChart(t.type,t,this._getChartOption(t.type));s?(this._chart=s,this._chart.setCanvasRect(this._currentSize.width,this._currentSize.height),this._chart.created(),this._chart.init(),this._event.emit($r.initialized,{chart:s,vchart:this})):(i=this._option)===null||i===void 0||i.onError("init chart fail")}_releaseData(){this._dataSet&&(this._dataSet.dataViewMap={},this._dataSet=null)}_bindVGrammarViewEvent(){this._compiler&&(this._compiler.getVGrammarView().addEventListener(it.ALL_ANIMATION_END,()=>{this._event.emit($r.animationFinished,{chart:this._chart,vchart:this})}),this._compiler.getVGrammarView().addEventListener(it.AFTER_VRENDER_NEXT_RENDER,()=>{this._event.emit($r.renderFinished,{chart:this._chart,vchart:this})}))}_bindResizeEvent(){var t;if(this._autoSize){if(this._container){const e=window.ResizeObserver;e&&(this._observer=new e(this._onResize),(t=this._observer)===null||t===void 0||t.observe(this._container))}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this._autoSize&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}getCurrentSize(){var t,e,r,i;return sV(this._spec,{container:this._container,canvas:this._canvas,mode:this._getMode(),modeParams:this._option.modeParams},{width:(e=(t=this._currentSize)===null||t===void 0?void 0:t.width)!==null&&e!==void 0?e:Xz,height:(i=(r=this._currentSize)===null||r===void 0?void 0:r.height)!==null&&i!==void 0?i:Kz})}_doResize(){const{width:t,height:e}=this.getCurrentSize();this._currentSize.width===t&&this._currentSize.height===e||(this._currentSize={width:t,height:e},this.resizeSync(t,e))}_initDataSet(t){this._dataSet=t instanceof sm?t:new sm,Rp(this._dataSet,"dataview",F3),Rp(this._dataSet,"array",$j),Ip(this._dataSet,"stackSplit",QH),Ip(this._dataSet,"copyDataView",qH);for(const e in st.transforms)Ip(this._dataSet,e,st.transforms[e]);for(const e in st.dataParser)Rp(this._dataSet,e,st.dataParser[e])}updateCustomConfigAndRerender(t,e,r={}){if(!this._isReleased&&t)return bt(t)&&(t=t()),this._reCompile(t),e?this._renderSync(r):this._renderAsync(r)}_updateCustomConfigAndRecompile(t,e={}){return!!t&&(this._reCompile(t),this._beforeRender(e))}_reCompile(t,e){var r,i,s,o,a;if(t.reMake)this._releaseData(),this._initDataSet(),this._chartSpecTransformer=null,this._chart.release(),this._chart=null,(r=this._compiler)===null||r===void 0||r.releaseGrammar(((i=this._option)===null||i===void 0?void 0:i.animation)===!1||((s=this._spec)===null||s===void 0?void 0:s.animation)===!1),this._userEvents.forEach(l=>{var u;return(u=this._event)===null||u===void 0?void 0:u.on(l.eType,l.query,l.handler)}),t.reSize&&this._doResize();else if(t.reCompile&&((o=this._compiler)===null||o===void 0||o.clear({chart:this._chart,vChart:this},!this._option.animation||!this._spec.animation),(a=this._compiler)===null||a===void 0||a.compile({chart:this._chart,vChart:this},{})),t.reSize){const{width:l,height:u}=this.getCurrentSize();this._chart.onResize(l,u,!1),this._compiler.resize(l,u,!1)}}_beforeRender(t={}){var e,r,i,s,o,a,l,u;if(this._isReleased)return!1;if(this._chart)return!0;const{transformSpec:c,actionSource:h}=t;return c&&this._initChartSpec(this._spec,"render"),this._chartPluginApply("onBeforeInitChart",this._spec,h),(r=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeInitializeChart)===null||r===void 0||r.call(e),this._initChart(this._spec),(s=(i=this._option.performanceHook)===null||i===void 0?void 0:i.afterInitializeChart)===null||s===void 0||s.call(i),!(!this._chart||!this._compiler)&&((a=(o=this._option.performanceHook)===null||o===void 0?void 0:o.beforeCompileToVGrammar)===null||a===void 0||a.call(o),this._compiler.compile({chart:this._chart,vChart:this},{performanceHook:this._option.performanceHook}),(u=(l=this._option.performanceHook)===null||l===void 0?void 0:l.afterCompileToVGrammar)===null||u===void 0||u.call(l),!0)}_afterRender(){return!this._isReleased&&(this._updateAnimateState(),this._event.emit($r.rendered,{chart:this._chart,vchart:this}),!0)}renderSync(t){return this._renderSync({morphConfig:t,transformSpec:!0,actionSource:"render"})}renderAsync(t){return nr(this,void 0,void 0,function*(){return this._renderAsync({morphConfig:t,transformSpec:!0,actionSource:"render"})})}_renderSync(t={}){var e;const r=this;return this._beforeRender(t)&&((e=this._compiler)===null||e===void 0||e.render(t.morphConfig),this._afterRender()),r}_renderAsync(t={}){return nr(this,void 0,void 0,function*(){return this._renderSync(t)})}_updateAnimateState(){var t,e;this._option.animation&&((t=this._chart)===null||t===void 0||t.getAllRegions().forEach(r=>{var i;(i=r.animate)===null||i===void 0||i.updateAnimateState(Yn.update,!0)}),(e=this._chart)===null||e===void 0||e.getAllComponents().forEach(r=>{var i;(i=r.animate)===null||i===void 0||i.updateAnimateState(Yn.update,!0)}))}release(){var t,e,r,i;!((t=this._onResize)===null||t===void 0)&&t.cancel&&this._onResize.cancel(),this._chartPluginApply("releaseAll"),this._chartPlugin=null,this._chartSpecTransformer=null,(e=this._chart)===null||e===void 0||e.release(),(r=this._eventDispatcher)===null||r===void 0||r.release(),(i=this._compiler)===null||i===void 0||i.release(),this._unBindResizeEvent(),this._releaseData(),this._onError=null,this._onResize=null,this._container=null,this._currentTheme=null,this._option=null,this._chart=null,this._compiler=null,this._spec=null,this._specInfo=null,this._originalSpec=null,this._userEvents=null,this._event=null,this._eventDispatcher=null,this._isReleased=!0,Xn.unregisterInstance(this)}updateData(t,e,r){return nr(this,void 0,void 0,function*(){return this.updateDataSync(t,e,r)})}_updateDataById(t,e,r){const i=this._spec.data.find(s=>s.name===t||s.id===t);i?i.id===t?i.values=e:i.name===t&&i.parse(e,r):ft(e)?this._spec.data.push({id:t,values:e}):this._spec.data.push(e)}updateDataInBatches(t){return nr(this,void 0,void 0,function*(){return this._chart?(this._chart.updateFullData(t.map(({id:e,data:r,options:i})=>({id:e,values:r,parser:i}))),this._chart.updateGlobalScaleDomain(),this._compiler.render(),this):(this._spec.data=Ct(this._spec.data),t.forEach(({id:e,data:r,options:i})=>{this._updateDataById(e,r,i)}),this)})}updateDataSync(t,e,r){return z(this._dataSet)?this:this._chart?(this._chart.updateData(t,e,!0,r),this._compiler.render(),this):(this._spec.data=Ct(this._spec.data),this._updateDataById(t,e,r),this)}updateFullDataSync(t,e=!0){return this._chart?(this._chart.updateFullData(t),e&&this._compiler.render(),this):(Ct(t).forEach(r=>{var i;const{id:s,values:o,parser:a,fields:l}=r,u=this._spec.data.find(c=>c.name===s);if(u)u.setFields(Ni(l)),u.parse(o,Ni(a));else{const c=ZH(r,this._dataSet,this._spec.data,{onError:(i=this._option)===null||i===void 0?void 0:i.onError});this._spec.data.push(c)}}),this)}updateFullData(t,e=!0){return nr(this,void 0,void 0,function*(){return this.updateFullDataSync(t,e)})}updateSpec(t,e=!1,r){return nr(this,void 0,void 0,function*(){const i=this._updateSpec(t,e);return i?(yield this.updateCustomConfigAndRerender(i,!1,{morphConfig:r,transformSpec:i.reTransformSpec,actionSource:"updateSpec"}),this):this})}updateSpecSync(t,e=!1,r){const i=this._updateSpec(t,e);return i?(this.updateCustomConfigAndRerender(i,!0,{morphConfig:r,transformSpec:i.reTransformSpec,actionSource:"updateSpec"}),this):this}updateSpecAndRecompile(t,e=!1,r={}){const i=this._updateSpec(t,e);return this._updateCustomConfigAndRecompile(i,Object.assign({actionSource:"updateSpecAndRecompile"},r))}_updateSpec(t,e=!1){var r,i;const s=this._spec;if(!this._setNewSpec(t,e))return;bs(s.theme,this._spec.theme)||this._setCurrentTheme();const o=this._shouldChartResize(s);return(i=(r=this._compiler)===null||r===void 0?void 0:r.getVGrammarView())===null||i===void 0||i.updateLayoutTag(),this._spec.type!==s.type?{reTransformSpec:!0,change:!0,reMake:!0,reCompile:!1,reSize:o}:(this._initChartSpec(this._spec,"render"),oV(this._chart.updateSpec(this._spec),{reTransformSpec:!1,change:o,reMake:!1,reCompile:!1,reSize:o}))}updateModelSpec(t,e,r=!1,i){return nr(this,void 0,void 0,function*(){if(!e||!this._spec)return this;if(dt(e)&&(e=JSON.parse(e)),bt(t)||dw(this._spec,t,e,r),this._chart){const s=this._chart.getModelInFilter(t);if(s)return this._updateModelSpec(s,e,!1,r,i)}return this})}updateModelSpecSync(t,e,r=!1,i){if(!e||!this._spec)return this;if(dt(e)&&(e=JSON.parse(e)),bt(t)||dw(this._spec,t,e,r),this._chart){const s=this._chart.getModelInFilter(t);if(s)return this._updateModelSpec(s,e,!0,r,i)}return this}_updateModelSpec(t,e,r=!1,i=!1,s){i&&(e=Er({},t.getSpec(),e));const o=t.updateSpec(e);return t.reInit(e),(o.change||o.reCompile||o.reMake||o.reSize||o.reRender)&&this._chart.reDataFlow(),this.updateCustomConfigAndRerender(o,r,{morphConfig:s,transformSpec:!1,actionSource:"updateModelSpec"})}resize(t,e){return nr(this,void 0,void 0,function*(){return this.resizeSync(t,e)})}resizeSync(t,e){var r,i;return this._beforeResize(t,e)?((i=(r=this._compiler).resize)===null||i===void 0||i.call(r,t,e),this._afterResize()):this}_beforeResize(t,e){var r,i,s,o;if(!this._chart||!this._compiler)return!1;const a=this._chart.getCanvasRect();return(!a||a.width!==t||a.height!==e)&&(this._chartPluginApply("onBeforeResize",t,e),(i=(r=this._option.performanceHook)===null||r===void 0?void 0:r.beforeResizeWithUpdate)===null||i===void 0||i.call(r),this._chart.onResize(t,e,!1),(o=(s=this._option.performanceHook)===null||s===void 0?void 0:s.afterResizeWithUpdate)===null||o===void 0||o.call(s),!0)}_afterResize(){return this._isReleased||this._event.emit($r.afterResize,{chart:this._chart}),this}updateViewBox(t,e=!0,r=!0){return this._chart&&this._compiler?(this._viewBox=t,this._chart.updateViewBox(t,r),r&&(this._compiler.render(),this._chart.onEvaluateEnd()),this._compiler.updateViewBox(t,e),this):this}on(t,e,r){var i;this._userEvents&&(this._userEvents.push({eType:t,query:typeof e=="function"?null:e,handler:typeof e=="function"?e:r}),(i=this._event)===null||i===void 0||i.on(t,e,r))}off(t,e){var r;if(this._userEvents&&this._userEvents.length!==0)if(e){const i=this._userEvents.findIndex(s=>s.eType===t&&s.handler===e);i>=0&&(this._userEvents.splice(i,1),(r=this._event)===null||r===void 0||r.off(t,e))}else this._userEvents.forEach(i=>{var s;i.eType===t&&((s=this._event)===null||s===void 0||s.off(t,i.handler))}),this._userEvents=this._userEvents.filter(i=>i.eType!==t)}updateState(t,e){this._chart&&this._chart.updateState(t,e)}setSelected(t,e,r){this._chart&&this._chart.setSelected(t,e,r)}setHovered(t,e,r){this._chart&&this._chart.setHovered(t,e,r)}clearState(t){this._chart&&this._chart.clearState(t)}clearSelected(){this._chart&&this._chart.clearSelected()}clearHovered(){this._chart&&this._chart.clearHovered()}_updateCurrentTheme(t){var e,r;const i=this._option.theme,s=(e=this._spec)===null||e===void 0?void 0:e.theme;if(t&&(this._currentThemeName=t),Cr(i)&&Cr(s))this._currentTheme=si(this._currentThemeName,!0);else if(dt(i)&&(!s||dt(s))||dt(s)&&(!i||dt(i))){const o=qm({},si(this._currentThemeName,!0),si(i,!0),si(s,!0));this._currentTheme=o}else{const o=qm({},si(this._currentThemeName),si(i),si(s));this._currentTheme=sf(o)}Vz(_s(this._currentTheme,"component.poptip")),(r=this._compiler)===null||r===void 0||r.setBackground(this._getBackground())}_shouldChartResize(t){var e,r;let i=!1;z(this._spec.width)?!z(t.width)&&(this._spec.width=t.width):this._spec.width!==t.width&&(i=!0),z(this._spec.height)?!z(t.height)&&(this._spec.height=t.height):this._spec.height!==t.height&&(i=!0);const s=this._autoSize;return this._autoSize=!!fl(this._option.mode)&&((r=(e=this._spec.autoFit)!==null&&e!==void 0?e:this._option.autoFit)===null||r===void 0||r),this._autoSize!==s&&(i=!0),i}_getBackground(){return(typeof this._spec.background=="string"?this._spec.background:null)||this._currentTheme.background||this._option.background}getCurrentTheme(){return si(this._currentThemeName)}getCurrentThemeName(){return this._currentThemeName}setCurrentTheme(t){return nr(this,void 0,void 0,function*(){if(!on.themeExist(t))return this;const e=this._setCurrentTheme(t);return yield this.updateCustomConfigAndRerender(e,!1,{transformSpec:!1,actionSource:"setCurrentTheme"}),this})}setCurrentThemeSync(t){if(!on.themeExist(t))return this;const e=this._setCurrentTheme(t);return this.updateCustomConfigAndRerender(e,!0,{transformSpec:!1,actionSource:"setCurrentTheme"}),this}_setCurrentTheme(t){var e;return this._updateCurrentTheme(t),this._initChartSpec(this._getSpecFromOriginalSpec(),"setCurrentTheme"),(e=this._chart)===null||e===void 0||e.setCurrentTheme(),{change:!0,reMake:!1}}_getTooltipComponent(){var t;return(t=this._chart)===null||t===void 0?void 0:t.getComponentsByType(lo.tooltip)[0]}setTooltipHandler(t){var e,r;this._context.tooltipHandler=t;const i=this._getTooltipComponent();i&&((r=(e=i.tooltipHandler)===null||e===void 0?void 0:e.release)===null||r===void 0||r.call(e),i.tooltipHandler=t)}getTooltipHandlerByUser(){var t;return(t=this._context)===null||t===void 0?void 0:t.tooltipHandler}getTooltipHandler(){const t=this._getTooltipComponent();return t?t.tooltipHandler:this._context.tooltipHandler}showTooltip(t,e){var r;const i=this._getTooltipComponent();return(r=q(t)&&(i==null?void 0:i.showTooltip(t,e))!=="none")!==null&&r!==void 0&&r}hideTooltip(){var t;const e=this._getTooltipComponent();return(t=e==null?void 0:e.hideTooltip())!==null&&t!==void 0&&t}getLegendDataById(t){var e;const r=(e=this._chart)===null||e===void 0?void 0:e.getComponentByUserId(t);return r?r.getLegendData():[]}getLegendDataByIndex(t=0){var e;const r=(e=this._chart)===null||e===void 0?void 0:e.getComponentsByType(lo.discreteLegend);return r&&r[t]?r[t].getLegendData():[]}getLegendSelectedDataById(t){var e;const r=(e=this._chart)===null||e===void 0?void 0:e.getComponentByUserId(t);return r?r.getSelectedData():[]}getLegendSelectedDataByIndex(t=0){var e;const r=(e=this._chart)===null||e===void 0?void 0:e.getComponentsByType(lo.discreteLegend);return r&&r[t]?r[t].getSelectedData():[]}setLegendSelectedDataById(t,e){var r;const i=(r=this._chart)===null||r===void 0?void 0:r.getComponentByUserId(t);i&&i.setSelectedData(e)}setLegendSelectedDataByIndex(t=0,e){var r;const i=(r=this._chart)===null||r===void 0?void 0:r.getComponentsByType(lo.discreteLegend);i&&i[t]&&i[t].setSelectedData(e)}getDataURL(){var t;return nr(this,void 0,void 0,function*(){const e=this.getStage();if(this._chart&&e){e.render();const r=this._chart.getCanvas();return yield iV(r,{onError:this._onError})}return(t=this._option)===null||t===void 0||t.onError(new ReferenceError("render is not defined")),null})}exportImg(t){var e,r;return nr(this,void 0,void 0,function*(){if(!fl(this._option.mode))return void((e=this._option)===null||e===void 0||e.onError(new TypeError("non-browser environment can not export img")));const i=yield this.getDataURL();i?nV(t,i):(r=this._option)===null||r===void 0||r.onError(new ReferenceError("render is not defined"))})}exportCanvas(){var t;const e=this.getStage();if(this._chart&&e)return e.toCanvas();(t=this._option)===null||t===void 0||t.onError(new ReferenceError("render is not defined"))}getImageBuffer(){var t,e;if(this._option.mode!=="node")return void((t=this._option)===null||t===void 0||t.onError(new TypeError("getImageBuffer() now only support node environment.")));const r=this.getStage();return r?(r.render(),r.window.getImageBuffer()):((e=this._option)===null||e===void 0||e.onError(new ReferenceError("render is not defined")),null)}setLayout(t){var e;this._option.layout=t,(e=this._chart)===null||e===void 0||e.setLayout(t)}reLayout(){var t;(t=this._chart)===null||t===void 0||t.setLayoutTag(!0)}getCompiler(){return this._compiler}getChart(){return this._chart}getStage(){return this._compiler.getStage()}getCanvas(){var t;return(t=this._compiler)===null||t===void 0?void 0:t.getCanvas()}getContainer(){var t;if(q(this._container))return this._container;let e;return e=dt(this._canvas)?document==null?void 0:document.getElementById(this._canvas):this._canvas,q(e)?e.parentElement:(t=this.getCanvas())===null||t===void 0?void 0:t.parentElement}getComponents(){return this._chart.getAllComponents()}getScale(t){var e;const r=(e=this._chart)===null||e===void 0?void 0:e.getGlobalScale();return r==null?void 0:r.getScale(t)}setDimensionIndex(t,e={}){var r;return(r=this._chart)===null||r===void 0?void 0:r.setDimensionIndex(t,e)}stopAnimation(){var t,e,r;(r=(e=(t=this._compiler)===null||t===void 0?void 0:t.getVGrammarView())===null||e===void 0?void 0:e.animate)===null||r===void 0||r.stop()}pauseAnimation(){var t,e,r;(r=(e=(t=this._compiler)===null||t===void 0?void 0:t.getVGrammarView())===null||e===void 0?void 0:e.animate)===null||r===void 0||r.pause()}resumeAnimation(){var t,e,r;(r=(e=(t=this._compiler)===null||t===void 0?void 0:t.getVGrammarView())===null||e===void 0?void 0:e.animate)===null||r===void 0||r.resume()}convertDatumToPosition(t,e={},r=!1,i){var s;if(!this._chart||Cr(t))return null;const{seriesId:o,seriesIndex:a=0}=e;let l;if(q(o)?l=this._chart.getSeriesInUserId(o):q(a)&&(l=(s=this._chart.getSeriesInIndex([a]))===null||s===void 0?void 0:s[0]),l){const u=Object.keys(t),c=l.getViewData().latestData.find(f=>u.every(p=>f[p]==t[p])),h=l.getRegion().getLayoutStartPoint();let d;return d=c?l.dataToPosition(c,i):l.dataToPosition(t,i),d?Kw(d,h,r):null}return null}convertValueToPosition(t,e,r=!1){var i,s;if(!this._chart||z(t)||Cr(e))return null;if(!ft(t)){const{axisId:u,axisIndex:c}=e;let h;if(q(u)?h=this._chart.getComponentsByKey("axes").find(f=>f.userId===u):q(c)&&(h=(i=this._chart.getComponentsByKey("axes"))===null||i===void 0?void 0:i[c]),!h)return qo("Please check whether the `axisId` or `axisIndex` is set!"),null;const d=h==null?void 0:h.valueToPosition(t);if(r){const f=h.getLayoutStartPoint(),p=h.getOrient();return d+(p==="bottom"||p==="top"?f.x:f.y)}return d}const{seriesId:o,seriesIndex:a}=e;let l;return q(o)?l=this._chart.getSeriesInUserId(o):q(a)&&(l=(s=this._chart.getSeriesInIndex([a]))===null||s===void 0?void 0:s[0]),l?Kw(l.valueToPosition(t[0],t[1]),l.getRegion().getLayoutStartPoint(),r):(qo("Please check whether the `seriesId` or `seriesIndex` is set!"),null)}getFunction(t){return On.instance().getFunction(t)}registerFunction(t,e){t&&e&&On.instance().registerFunction(t,e)}unregisterFunction(t){t&&On.instance().unregisterFunction(t)}getFunctionList(){return On.instance().getFunctionNameList()}setRuntimeSpec(t){this._spec=t,this._updateSpecInfo()}_initChartPlugin(){const t=st.getChartPlugins();t.length>0&&(this._chartPlugin=new BV(this),this._chartPlugin.load(t.map(e=>new e)),this._chartPluginApply("onInit",this._spec))}_chartPluginApply(t,...e){this._chartPlugin&&this._chartPlugin[t]&&this._chartPlugin[t].apply(this._chartPlugin,e)}_getMode(){return this._option.mode||Gn["desktop-browser"]}_getChartOption(t){return{type:t,globalInstance:this,eventDispatcher:this._eventDispatcher,dataSet:this._dataSet,container:this._container,canvas:this._canvas,map:new Map,mode:this._getMode(),modeParams:this._option.modeParams,getCompiler:()=>this._compiler,performanceHook:this._option.performanceHook,viewBox:this._viewBox,animation:this._option.animation,getTheme:()=>{var e;return(e=this._currentTheme)!==null&&e!==void 0?e:{}},getSpecInfo:()=>{var e;return(e=this._specInfo)!==null&&e!==void 0?e:{}},layout:this._option.layout,onError:this._onError,disableTriggerEvent:this._option.disableTriggerEvent===!0}}}xr.InstanceManager=Xn,xr.ThemeManager=on,xr.globalConfig={uniqueTooltip:!0},xr.Utils=PV,xr.vglobal=Wn;st.registerRegion("region",Lo),st.registerLayout("base",Vk),AV(),Qy.useRegisters([sG,oG]),MV(),M8(),A8(),r0(nx.name,nx),xt.getInstance(Cn.Error);class jV extends M.Component{constructor(){super(...arguments);yu(this,"chart");yu(this,"parseSpec",()=>{const e=this.props.colors;return{type:"bar",data:[{id:"barData",values:this.props.data[0].values}],xField:"month",yField:"sales",color:{type:"ordinal",domain:[],range:e}}});yu(this,"containerRef",M.createRef())}createOrUpdateChart(){if(this.containerRef.current&&!this.chart){const e=new xr(this.parseSpec(),{dom:this.containerRef.current});e.renderAsync(),this.chart=e}else this.chart&&(this.chart.updateSpec(this.parseSpec()),this.chart.renderAsync())}componentDidMount(){this.createOrUpdateChart()}componentDidUpdate(e){(this.props.colors&&e.colors!==this.props.colors||e.data!==this.props.data)&&this.createOrUpdateChart()}componentWillUnmout(){this.chart&&this.chart.release()}render(){return ot.jsx("div",{id:"bar-container",style:{width:"100%",height:"100%"},ref:this.containerRef})}}const NV=Vi.Item,FV=Pr.Header;function zV(){const[n,t]=M.useState("Home"),e=[{id:"barData",values:[{month:"Monday",sales:22},{month:"Tuesday",sales:13},{month:"Wednesday",sales:25},{month:"Thursday",sales:29},{month:"Friday",sales:38}]}];return M.useEffect(()=>{},[n]),ot.jsx(ot.Fragment,{children:ot.jsxs("div",{style:{background:"var(--color-fill-2)"},children:[ot.jsx(Pr,{children:ot.jsx(FV,{children:ot.jsx("div",{style:{background:"var(--color-fill-2)"},children:ot.jsx("div",{className:"menu-demo",children:ot.jsx(Vi,{mode:"horizontal",defaultSelectedKeys:["Home"],onClickMenuItem:r=>{t(r)},children:Xf==null?void 0:Xf.map(r=>ot.jsx(NV,{children:r},r))})})})})}),ot.jsx(Fj,{text:"Monorepo"}),ot.jsx(zj,{text:"datastructure"}),ot.jsx(jV,{data:e}),ot.jsx(Nj,{})]})})}Bp.createRoot(document.getElementById("root")).render(ot.jsx(E.StrictMode,{children:ot.jsx(zV,{})}));
